!function o(n,i,a){function s(t,e){if(!i[t]){if(!n[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},n[t][0].call(r.exports,function(e){return s(n[t][1][e]||e)},r,r.exports,o,n,i,a)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,r,t){!function(e,t){"use strict";"object"==typeof r&&"object"==typeof r.exports?r.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(y,e){"use strict";function h(e){return null!=e&&e===e.window}var t=[],r=Object.getPrototypeOf,s=t.slice,m=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},l=t.push,n=t.indexOf,o={},i=o.toString,E=o.hasOwnProperty,a=E.toString,d=a.call(Object),v={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},C=y.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,r){var o,n,i=(r=r||C).createElement("script");if(i.text=e,t)for(o in u)(n=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,n);r.head.appendChild(i).parentNode.removeChild(i)}function p(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?o[i.call(e)]||"object":typeof e}var c="3.6.0",N=function(e,t){return new N.fn.init(e,t)};function f(e){var t=!!e&&"length"in e&&e.length,r=p(e);return!b(e)&&!h(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}N.fn=N.prototype={jquery:c,constructor:N,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=N.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return N.each(this,e)},map:function(r){return this.pushStack(N.map(this,function(e,t){return r.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(N.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(N.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},N.extend=N.fn.extend=function(){var e,t,r,o,n,i=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[a]||{},a++),"object"==typeof i||b(i)||(i={}),a===s&&(i=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&i!==r&&(l&&r&&(N.isPlainObject(r)||(o=Array.isArray(r)))?(n=i[t],n=o&&!Array.isArray(n)?[]:o||N.isPlainObject(n)?n:{},o=!1,i[t]=N.extend(l,n,r)):void 0!==r&&(i[t]=r));return i},N.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==i.call(e))&&(!(e=r(e))||"function"==typeof(e=E.call(e,"constructor")&&e.constructor)&&a.call(e)===d)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,r){w(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,o=0;if(f(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(f(Object(e))?N.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,r){return null==t?-1:n.call(t,e,r)},merge:function(e,t){for(var r=+t.length,o=0,n=e.length;o<r;o++)e[n++]=t[o];return e.length=n,e},grep:function(e,t,r){for(var o=[],n=0,i=e.length,a=!r;n<i;n++)!t(e[n],n)!=a&&o.push(e[n]);return o},map:function(e,t,r){var o,n,i=0,a=[];if(f(e))for(o=e.length;i<o;i++)null!=(n=t(e[i],i,r))&&a.push(n);else for(i in e)null!=(n=t(e[i],i,r))&&a.push(n);return m(a)},guid:1,support:v}),"function"==typeof Symbol&&(N.fn[Symbol.iterator]=t[Symbol.iterator]),N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){o["[object "+t+"]"]=t.toLowerCase()});var g=function(r){function c(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function o(){y()}var e,f,w,i,n,g,p,h,S,l,d,y,C,a,N,m,s,u,E,A="sizzle"+ +new Date,v=r.document,T=0,b=0,M=le(),O=le(),_=le(),P=le(),L=function(e,t){return e===t&&(d=!0),0},R={}.hasOwnProperty,t=[],x=t.pop,I=t.push,k=t.push,G=t.slice,D=function(e,t){for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1},U="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\["+V+"*("+j+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+V+"*\\]",B=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",F=new RegExp(V+"+","g"),W=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g"),z=new RegExp("^"+V+"*,"+V+"*"),H=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Y=new RegExp(V+"|>"),K=new RegExp(B),$=new RegExp("^"+j+"$"),Q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+U+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,re=/[+~]/,oe=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{k.apply(t=G.call(v.childNodes),v.childNodes),t[v.childNodes.length].nodeType}catch(e){k={apply:t.length?function(e,t){I.apply(e,G.call(t))}:function(e,t){for(var r=e.length,o=0;e[r++]=t[o++];);e.length=r-1}}}function se(t,e,r,o){var n,i,a,s,l,d,u=e&&e.ownerDocument,c=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==c&&9!==c&&11!==c)return r;if(!o&&(y(e),e=e||C,N)){if(11!==c&&(s=te.exec(t)))if(d=s[1]){if(9===c){if(!(i=e.getElementById(d)))return r;if(i.id===d)return r.push(i),r}else if(u&&(i=u.getElementById(d))&&E(e,i)&&i.id===d)return r.push(i),r}else{if(s[2])return k.apply(r,e.getElementsByTagName(t)),r;if((d=s[3])&&f.getElementsByClassName&&e.getElementsByClassName)return k.apply(r,e.getElementsByClassName(d)),r}if(f.qsa&&!P[t+" "]&&(!m||!m.test(t))&&(1!==c||"object"!==e.nodeName.toLowerCase())){if(d=t,u=e,1===c&&(Y.test(t)||H.test(t))){for((u=re.test(t)&&he(e.parentNode)||e)===e&&f.scope||((a=e.getAttribute("id"))?a=a.replace(ne,ie):e.setAttribute("id",a=A)),n=(l=g(t)).length;n--;)l[n]=(a?"#"+a:":scope")+" "+Ee(l[n]);d=l.join(",")}try{return k.apply(r,u.querySelectorAll(d)),r}catch(e){P(t,!0)}finally{a===A&&e.removeAttribute("id")}}}return h(t.replace(W,"$1"),e,r,o)}function le(){var r=[];function o(e,t){return r.push(e+" ")>w.cacheLength&&delete o[r.shift()],o[e+" "]=t}return o}function de(e){return e[A]=!0,e}function ue(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var r=e.split("|"),o=r.length;o--;)w.attrHandle[r[o]]=t}function fe(e,t){var r=t&&e,o=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pe(a){return de(function(i){return i=+i,de(function(e,t){for(var r,o=a([],e.length,i),n=o.length;n--;)e[r=o[n]]&&(e[r]=!(t[r]=e[r]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=se.support={},n=se.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!X.test(t||e&&e.nodeName||"HTML")},y=se.setDocument=function(e){var t,e=e?e.ownerDocument||e:v;return e!=C&&9===e.nodeType&&e.documentElement&&(a=(C=e).documentElement,N=!n(C),v!=C&&(t=C.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",o,!1):t.attachEvent&&t.attachEvent("onunload",o)),f.scope=ue(function(e){return a.appendChild(e).appendChild(C.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),f.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ue(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ee.test(C.getElementsByClassName),f.getById=ue(function(e){return a.appendChild(e).id=A,!C.getElementsByName||!C.getElementsByName(A).length}),f.getById?(w.filter.ID=function(e){var t=e.replace(oe,c);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&N){e=t.getElementById(e);return e?[e]:[]}}):(w.filter.ID=function(e){var t=e.replace(oe,c);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var r,o,n,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(n=t.getElementsByName(e),o=0;i=n[o++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),w.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,o=[],n=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;r=i[n++];)1===r.nodeType&&o.push(r);return o},w.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&N)return t.getElementsByClassName(e)},s=[],m=[],(f.qsa=ee.test(C.querySelectorAll))&&(ue(function(e){var t;a.appendChild(e).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+V+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+V+"*(?:value|"+U+")"),e.querySelectorAll("[id~="+A+"-]").length||m.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+V+"*name"+V+"*="+V+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+A+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+V+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=ee.test(u=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){f.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),s.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),s=s.length&&new RegExp(s.join("|")),t=ee.test(a.compareDocumentPosition),E=t||ee.test(a.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(r.contains?r.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},L=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===r?e==C||e.ownerDocument==v&&E(v,e)?-1:t==C||t.ownerDocument==v&&E(v,t)?1:l?D(l,e)-D(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var r,o=0,n=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!n||!i)return e==C?-1:t==C?1:n?-1:i?1:l?D(l,e)-D(l,t):0;if(n===i)return fe(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[o]===s[o];)o++;return o?fe(a[o],s[o]):a[o]==v?-1:s[o]==v?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(y(e),f.matchesSelector&&N&&!P[t+" "]&&(!s||!s.test(t))&&(!m||!m.test(t)))try{var r=u.call(e,t);if(r||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){P(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&y(e),E(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&y(e);var r=w.attrHandle[t.toLowerCase()],r=r&&R.call(w.attrHandle,t.toLowerCase())?r(e,t,!N):void 0;return void 0!==r?r:f.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(ne,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],o=0,n=0;if(d=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(L),d){for(;t=e[n++];)t===e[n]&&(o=r.push(n));for(;o--;)e.splice(r[o],1)}return l=null,e},i=se.getText=function(e){var t,r="",o=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[o++];)r+=i(t);return r},(w=se.selectors={cacheLength:50,createPseudo:de,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(oe,c),e[3]=(e[3]||e[4]||e[5]||"").replace(oe,c),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&K.test(r)&&(t=g(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(oe,c).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=M[e+" "];return t||(t=new RegExp("(^|"+V+")"+e+"("+V+"|$)"))&&M(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,r,o){return function(e){e=se.attr(e,t);return null==e?"!="===r:!r||(e+="","="===r?e===o:"!="===r?e!==o:"^="===r?o&&0===e.indexOf(o):"*="===r?o&&-1<e.indexOf(o):"$="===r?o&&e.slice(-o.length)===o:"~="===r?-1<(" "+e.replace(F," ")+" ").indexOf(o):"|="===r&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,e,t,h,m){var E="nth"!==p.slice(0,3),v="last"!==p.slice(-4),b="of-type"===e;return 1===h&&0===m?function(e){return!!e.parentNode}:function(e,t,r){var o,n,i,a,s,l,d=E!=v?"nextSibling":"previousSibling",u=e.parentNode,c=b&&e.nodeName.toLowerCase(),f=!r&&!b,g=!1;if(u){if(E){for(;d;){for(a=e;a=a[d];)if(b?a.nodeName.toLowerCase()===c:1===a.nodeType)return!1;l=d="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&f){for(g=(s=(o=(n=(i=(a=u)[A]||(a[A]={}))[a.uniqueID]||(i[a.uniqueID]={}))[p]||[])[0]===T&&o[1])&&o[2],a=s&&u.childNodes[s];a=++s&&a&&a[d]||(g=s=0)||l.pop();)if(1===a.nodeType&&++g&&a===e){n[p]=[T,s,g];break}}else if(!1===(g=f?s=(o=(n=(i=(a=e)[A]||(a[A]={}))[a.uniqueID]||(i[a.uniqueID]={}))[p]||[])[0]===T&&o[1]:g))for(;(a=++s&&a&&a[d]||(g=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==c:1!==a.nodeType)||!++g||(f&&((n=(i=a[A]||(a[A]={}))[a.uniqueID]||(i[a.uniqueID]={}))[p]=[T,g]),a!==e)););return(g-=m)===h||g%h==0&&0<=g/h}}},PSEUDO:function(e,i){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[A]?a(i):1<a.length?(t=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?de(function(e,t){for(var r,o=a(e,i),n=o.length;n--;)e[r=D(e,o[n])]=!(t[r]=o[n])}):function(e){return a(e,0,t)}):a}},pseudos:{not:de(function(e){var o=[],n=[],s=p(e.replace(W,"$1"));return s[A]?de(function(e,t,r,o){for(var n,i=s(e,null,o,[]),a=e.length;a--;)(n=i[a])&&(e[a]=!(t[a]=n))}):function(e,t,r){return o[0]=e,s(o,null,r,n),o[0]=null,!n.pop()}}),has:de(function(t){return function(e){return 0<se(t,e).length}}),contains:de(function(t){return t=t.replace(oe,c),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:de(function(r){return $.test(r||"")||se.error("unsupported lang: "+r),r=r.replace(oe,c).toLowerCase(),function(e){var t;do{if(t=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===r||0===t.indexOf(r+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,r){return[r<0?r+t:r]}),even:pe(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:pe(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:pe(function(e,t,r){for(var o=r<0?r+t:t<r?t:r;0<=--o;)e.push(o);return e}),gt:pe(function(e,t,r){for(var o=r<0?r+t:r;++o<t;)e.push(o);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(r){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===r}}(e);function me(){}function Ee(e){for(var t=0,r=e.length,o="";t<r;t++)o+=e[t].value;return o}function ve(a,e,t){var s=e.dir,l=e.next,d=l||s,u=t&&"parentNode"===d,c=b++;return e.first?function(e,t,r){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,r);return!1}:function(e,t,r){var o,n,i=[T,c];if(r){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,r))return!0}else for(;e=e[s];)if(1===e.nodeType||u)if(o=(n=e[A]||(e[A]={}))[e.uniqueID]||(n[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((n=o[d])&&n[0]===T&&n[1]===c)return i[2]=n[2];if((o[d]=i)[2]=a(e,t,r))return!0}return!1}}function be(n){return 1<n.length?function(e,t,r){for(var o=n.length;o--;)if(!n[o](e,t,r))return!1;return!0}:n[0]}function we(e,t,r,o,n){for(var i,a=[],s=0,l=e.length,d=null!=t;s<l;s++)(i=e[s])&&(r&&!r(i,o,n)||(a.push(i),d&&t.push(s)));return a}function Se(g,p,h,m,E,e){return m&&!m[A]&&(m=Se(m)),E&&!E[A]&&(E=Se(E,e)),de(function(e,t,r,o){var n,i,a,s=[],l=[],d=t.length,u=e||function(e,t,r){for(var o=0,n=t.length;o<n;o++)se(e,t[o],r);return r}(p||"*",r.nodeType?[r]:r,[]),c=!g||!e&&p?u:we(u,s,g,r,o),f=h?E||(e?g:d||m)?[]:t:c;if(h&&h(c,f,r,o),m)for(n=we(f,l),m(n,[],r,o),i=n.length;i--;)(a=n[i])&&(f[l[i]]=!(c[l[i]]=a));if(e){if(E||g){if(E){for(n=[],i=f.length;i--;)(a=f[i])&&n.push(c[i]=a);E(null,f=[],n,o)}for(i=f.length;i--;)(a=f[i])&&-1<(n=E?D(e,a):s[i])&&(e[n]=!(t[n]=a))}}else f=we(f===t?f.splice(d,f.length):f),E?E(null,t,f,o):k.apply(t,f)})}function ye(m,E){function e(e,t,r,o,n){var i,a,s,l=0,d="0",u=e&&[],c=[],f=S,g=e||b&&w.find.TAG("*",n),p=T+=null==f?1:Math.random()||.1,h=g.length;for(n&&(S=t==C||t||n);d!==h&&null!=(i=g[d]);d++){if(b&&i){for(a=0,t||i.ownerDocument==C||(y(i),r=!N);s=m[a++];)if(s(i,t||C,r)){o.push(i);break}n&&(T=p)}v&&((i=!s&&i)&&l--,e&&u.push(i))}if(l+=d,v&&d!==l){for(a=0;s=E[a++];)s(u,c,t,r);if(e){if(0<l)for(;d--;)u[d]||c[d]||(c[d]=x.call(o));c=we(c)}k.apply(o,c),n&&!e&&0<c.length&&1<l+E.length&&se.uniqueSort(o)}return n&&(T=p,S=f),u}var v=0<E.length,b=0<m.length;return v?de(e):e}return me.prototype=w.filters=w.pseudos,w.setFilters=new me,g=se.tokenize=function(e,t){var r,o,n,i,a,s,l,d=O[e+" "];if(d)return t?0:d.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(i in r&&!(o=z.exec(a))||(o&&(a=a.slice(o[0].length)||a),s.push(n=[])),r=!1,(o=H.exec(a))&&(r=o.shift(),n.push({value:r,type:o[0].replace(W," ")}),a=a.slice(r.length)),w.filter)!(o=Q[i].exec(a))||l[i]&&!(o=l[i](o))||(r=o.shift(),n.push({value:r,type:i,matches:o}),a=a.slice(r.length));if(!r)break}return t?a.length:a?se.error(e):O(e,s).slice(0)},p=se.compile=function(e,t){var r,o=[],n=[],i=_[e+" "];if(!i){for(r=(t=t||g(e)).length;r--;)((i=function e(t){for(var o,r,n,i=t.length,a=w.relative[t[0].type],s=a||w.relative[" "],l=a?1:0,d=ve(function(e){return e===o},s,!0),u=ve(function(e){return-1<D(o,e)},s,!0),c=[function(e,t,r){return r=!a&&(r||t!==S)||((o=t).nodeType?d:u)(e,t,r),o=null,r}];l<i;l++)if(r=w.relative[t[l].type])c=[ve(be(c),r)];else{if((r=w.filter[t[l].type].apply(null,t[l].matches))[A]){for(n=++l;n<i&&!w.relative[t[n].type];n++);return Se(1<l&&be(c),1<l&&Ee(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),r,l<n&&e(t.slice(l,n)),n<i&&e(t=t.slice(n)),n<i&&Ee(t))}c.push(r)}return be(c)}(t[r]))[A]?o:n).push(i);(i=_(e,ye(n,o))).selector=e}return i},h=se.select=function(e,t,r,o){var n,i,a,s,l,d="function"==typeof e&&e,u=!o&&g(e=d.selector||e);if(r=r||[],1===u.length){if(2<(i=u[0]=u[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&N&&w.relative[i[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(oe,c),t)||[])[0]))return r;d&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(n=Q.needsContext.test(e)?0:i.length;n--&&(a=i[n],!w.relative[s=a.type]);)if((l=w.find[s])&&(o=l(a.matches[0].replace(oe,c),re.test(i[0].type)&&he(t.parentNode)||t))){if(i.splice(n,1),!(e=o.length&&Ee(i)))return k.apply(r,o),r;break}}return(d||p(e,u))(o,t,!N,r,!t||re.test(e)&&he(t.parentNode)||t),r},f.sortStable=A.split("").sort(L).join("")===A,f.detectDuplicates=!!d,y(),f.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||ce(U,function(e,t,r){if(!r)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),se}(y);N.find=g,N.expr=g.selectors,N.expr[":"]=N.expr.pseudos,N.uniqueSort=N.unique=g.uniqueSort,N.text=g.getText,N.isXMLDoc=g.isXML,N.contains=g.contains,N.escapeSelector=g.escape;function S(e,t,r){for(var o=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&N(e).is(r))break;o.push(e)}return o}function A(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}var T=N.expr.match.needsContext;function M(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(e,r,o){return b(r)?N.grep(e,function(e,t){return!!r.call(e,t,e)!==o}):r.nodeType?N.grep(e,function(e){return e===r!==o}):"string"!=typeof r?N.grep(e,function(e){return-1<n.call(r,e)!==o}):N.filter(r,e,o)}N.filter=function(e,t,r){var o=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?N.find.matchesSelector(o,e)?[o]:[]:N.find.matches(e,N.grep(t,function(e){return 1===e.nodeType}))},N.fn.extend({find:function(e){var t,r,o=this.length,n=this;if("string"!=typeof e)return this.pushStack(N(e).filter(function(){for(t=0;t<o;t++)if(N.contains(n[t],this))return!0}));for(r=this.pushStack([]),t=0;t<o;t++)N.find(e,n[t],r);return 1<o?N.uniqueSort(r):r},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&T.test(e)?N(e):e||[],!1).length}});var P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(N.fn.init=function(e,t,r){if(!e)return this;if(r=r||L,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==r.ready?r.ready(e):e(N):N.makeArray(e,this);if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:P.exec(e))||!o[1]&&t)return(!t||t.jquery?t||r:this.constructor(t)).find(e);if(o[1]){if(t=t instanceof N?t[0]:t,N.merge(this,N.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),O.test(o[1])&&N.isPlainObject(t))for(var o in t)b(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(e=C.getElementById(o[2]))&&(this[0]=e,this.length=1),this}).prototype=N.fn;var L=N(C),R=/^(?:parents|prev(?:Until|All))/,x={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}N.fn.extend({has:function(e){var t=N(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(N.contains(this,t[e]))return!0})},closest:function(e,t){var r,o=0,n=this.length,i=[],a="string"!=typeof e&&N(e);if(!T.test(e))for(;o<n;o++)for(r=this[o];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?-1<a.index(r):1===r.nodeType&&N.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(1<i.length?N.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?n.call(N(e),this[0]):n.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),N.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,r){return S(e,"parentNode",r)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,r){return S(e,"nextSibling",r)},prevUntil:function(e,t,r){return S(e,"previousSibling",r)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(M(e,"template")&&(e=e.content||e),N.merge([],e.childNodes))}},function(o,n){N.fn[o]=function(e,t){var r=N.map(this,n,e);return(t="Until"!==o.slice(-5)?e:t)&&"string"==typeof t&&(r=N.filter(t,r)),1<this.length&&(x[o]||N.uniqueSort(r),R.test(o)&&r.reverse()),this.pushStack(r)}});var k=/[^\x20\t\r\n\f]+/g;function G(e){return e}function D(e){throw e}function U(e,t,r,o){var n;try{e&&b(n=e.promise)?n.call(e).done(t).fail(r):e&&b(n=e.then)?n.call(e,t,r):t.apply(void 0,[e].slice(o))}catch(e){r.apply(void 0,[e])}}N.Callbacks=function(o){var e,r;o="string"==typeof o?(e=o,r={},N.each(e.match(k)||[],function(e,t){r[t]=!0}),r):N.extend({},o);function n(){for(s=s||o.once,a=i=!0;d.length;u=-1)for(t=d.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&o.stopOnFalse&&(u=l.length,t=!1);o.memory||(t=!1),i=!1,s&&(l=t?[]:"")}var i,t,a,s,l=[],d=[],u=-1,c={add:function(){return l&&(t&&!i&&(u=l.length-1,d.push(t)),function r(e){N.each(e,function(e,t){b(t)?o.unique&&c.has(t)||l.push(t):t&&t.length&&"string"!==p(t)&&r(t)})}(arguments),t&&!i&&n()),this},remove:function(){return N.each(arguments,function(e,t){for(var r;-1<(r=N.inArray(t,l,r));)l.splice(r,1),r<=u&&u--}),this},has:function(e){return e?-1<N.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=d=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=d=[],t||i||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],d.push(t),i||n()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!a}};return c},N.extend({Deferred:function(e){var i=[["notify","progress",N.Callbacks("memory"),N.Callbacks("memory"),2],["resolve","done",N.Callbacks("once memory"),N.Callbacks("once memory"),0,"resolved"],["reject","fail",N.Callbacks("once memory"),N.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var n=arguments;return N.Deferred(function(o){N.each(i,function(e,t){var r=b(n[t[4]])&&n[t[4]];s[t[1]](function(){var e=r&&r.apply(this,arguments);e&&b(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[t[0]+"With"](this,r?[e]:arguments)})}),n=null}).promise()},then:function(t,r,o){var l=0;function d(n,i,a,s){return function(){function e(){var e,t;if(!(n<l)){if((e=a.apply(r,o))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?s?t.call(e,d(l,i,G,s),d(l,i,D,s)):(l++,t.call(e,d(l,i,G,s),d(l,i,D,s),d(l,i,G,i.notifyWith))):(a!==G&&(r=void 0,o=[e]),(s||i.resolveWith)(r,o))}}var r=this,o=arguments,t=s?e:function(){try{e()}catch(e){N.Deferred.exceptionHook&&N.Deferred.exceptionHook(e,t.stackTrace),l<=n+1&&(a!==D&&(r=void 0,o=[e]),i.rejectWith(r,o))}};n?t():(N.Deferred.getStackHook&&(t.stackTrace=N.Deferred.getStackHook()),y.setTimeout(t))}}return N.Deferred(function(e){i[0][3].add(d(0,e,b(o)?o:G,e.notifyWith)),i[1][3].add(d(0,e,b(t)?t:G)),i[2][3].add(d(0,e,b(r)?r:D))}).promise()},promise:function(e){return null!=e?N.extend(e,a):a}},s={};return N.each(i,function(e,t){var r=t[2],o=t[5];a[t[1]]=r.add,o&&r.add(function(){n=o},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),r.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=r.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){n[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--r||a.resolveWith(n,i)}}var r=arguments.length,o=r,n=Array(o),i=s.call(arguments),a=N.Deferred();if(r<=1&&(U(e,a.done(t(o)).resolve,a.reject,!r),"pending"===a.state()||b(i[o]&&i[o].then)))return a.then();for(;o--;)U(i[o],t(o),a.reject);return a.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;N.Deferred.exceptionHook=function(e,t){y.console&&y.console.warn&&e&&V.test(e.name)&&y.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},N.readyException=function(e){y.setTimeout(function(){throw e})};var j=N.Deferred();function q(){C.removeEventListener("DOMContentLoaded",q),y.removeEventListener("load",q),N.ready()}N.fn.ready=function(e){return j.then(e).catch(function(e){N.readyException(e)}),this},N.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--N.readyWait:N.isReady)||(N.isReady=!0)!==e&&0<--N.readyWait||j.resolveWith(C,[N])}}),N.ready.then=j.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?y.setTimeout(N.ready):(C.addEventListener("DOMContentLoaded",q),y.addEventListener("load",q));var B=function(e,t,r,o,n,i,a){var s=0,l=e.length,d=null==r;if("object"===p(r))for(s in n=!0,r)B(e,t,s,r[s],!0,i,a);else if(void 0!==o&&(n=!0,b(o)||(a=!0),t=d?a?(t.call(e,o),null):(d=t,function(e,t,r){return d.call(N(e),r)}):t))for(;s<l;s++)t(e[s],r,a?o:o.call(e[s],s,t(e[s],r)));return n?e:d?t.call(e):l?t(e[0],r):i},F=/^-ms-/,W=/-([a-z])/g;function z(e,t){return t.toUpperCase()}function H(e){return e.replace(F,"ms-").replace(W,z)}function Y(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function K(){this.expando=N.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var o,n=this.cache(e);if("string"==typeof t)n[H(t)]=r;else for(o in t)n[H(o)]=t[o];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][H(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,o=e[this.expando];if(void 0!==o){if(void 0!==t){r=(t=Array.isArray(t)?t.map(H):(t=H(t))in o?[t]:t.match(k)||[]).length;for(;r--;)delete o[t[r]]}void 0!==t&&!N.isEmptyObject(o)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!N.isEmptyObject(e)}};var $=new K,Q=new K,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(e,t,r){var o,n;if(void 0===r&&1===e.nodeType)if(o="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(o))){try{r="true"===(n=r)||"false"!==n&&("null"===n?null:n===+n+""?+n:X.test(n)?JSON.parse(n):n)}catch(e){}Q.set(e,t,r)}else r=void 0;return r}N.extend({hasData:function(e){return Q.hasData(e)||$.hasData(e)},data:function(e,t,r){return Q.access(e,t,r)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,r){return $.access(e,t,r)},_removeData:function(e,t){$.remove(e,t)}}),N.fn.extend({data:function(r,e){var t,o,n,i=this[0],a=i&&i.attributes;if(void 0!==r)return"object"==typeof r?this.each(function(){Q.set(this,r)}):B(this,function(e){var t;return i&&void 0===e?void 0!==(t=Q.get(i,r))||void 0!==(t=Z(i,r))?t:void 0:void this.each(function(){Q.set(this,r,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(n=Q.get(i),1===i.nodeType&&!$.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(o=a[t].name).indexOf("data-")&&(o=H(o.slice(5)),Z(i,o,n[o]));$.set(i,"hasDataAttrs",!0)}return n},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),N.extend({queue:function(e,t,r){var o;if(e)return o=$.get(e,t=(t||"fx")+"queue"),r&&(!o||Array.isArray(r)?o=$.access(e,t,N.makeArray(r)):o.push(r)),o||[]},dequeue:function(e,t){var r=N.queue(e,t=t||"fx"),o=r.length,n=r.shift(),i=N._queueHooks(e,t);"inprogress"===n&&(n=r.shift(),o--),n&&("fx"===t&&r.unshift("inprogress"),delete i.stop,n.call(e,function(){N.dequeue(e,t)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return $.get(e,r)||$.access(e,r,{empty:N.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",r])})})}}),N.fn.extend({queue:function(t,r){var e=2;return"string"!=typeof t&&(r=t,t="fx",e--),arguments.length<e?N.queue(this[0],t):void 0===r?this:this.each(function(){var e=N.queue(this,t,r);N._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&N.dequeue(this,t)})},dequeue:function(e){return this.each(function(){N.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function r(){--n||i.resolveWith(a,[a])}var o,n=1,i=N.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=$.get(a[s],e+"queueHooks"))&&o.empty&&(n++,o.empty.add(r));return r(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],oe=C.documentElement,ne=function(e){return N.contains(e.ownerDocument,e)},ie={composed:!0};oe.getRootNode&&(ne=function(e){return N.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ne(e)&&"none"===N.css(e,"display")};function se(e,t,r,o){var n,i,a=20,s=o?function(){return o.cur()}:function(){return N.css(e,t,"")},l=s(),d=r&&r[3]||(N.cssNumber[t]?"":"px"),u=e.nodeType&&(N.cssNumber[t]||"px"!==d&&+l)&&te.exec(N.css(e,t));if(u&&u[3]!==d){for(d=d||u[3],u=+(l/=2)||1;a--;)N.style(e,t,u+d),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;N.style(e,t,(u*=2)+d),r=r||[]}return r&&(u=+u||+l||0,n=r[1]?u+(r[1]+1)*r[2]:+r[2],o&&(o.unit=d,o.start=u,o.end=n)),n}var le={};function de(e,t){for(var r,o,n,i,a,s=[],l=0,d=e.length;l<d;l++)(o=e[l]).style&&(r=o.style.display,t?("none"===r&&(s[l]=$.get(o,"display")||null,s[l]||(o.style.display="")),""===o.style.display&&ae(o)&&(s[l]=(a=i=void 0,i=(n=o).ownerDocument,a=n.nodeName,(n=le[a])||(i=i.body.appendChild(i.createElement(a)),n=N.css(i,"display"),i.parentNode.removeChild(i),le[a]=n="none"===n?"block":n)))):"none"!==r&&(s[l]="none",$.set(o,"display",r)));for(l=0;l<d;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}N.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?N(this).show():N(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i;c=C.createDocumentFragment().appendChild(C.createElement("div")),(g=C.createElement("input")).setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),c.appendChild(g),v.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,c.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue,c.innerHTML="<option></option>",v.option=!!c.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&M(e,t)?N.merge([e],r):r}function he(e,t){for(var r=0,o=e.length;r<o;r++)$.set(e[r],"globalEval",!t||$.get(t[r],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,v.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function Ee(e,t,r,o,n){for(var i,a,s,l,d,u=t.createDocumentFragment(),c=[],f=0,g=e.length;f<g;f++)if((i=e[f])||0===i)if("object"===p(i))N.merge(c,i.nodeType?[i]:i);else if(me.test(i)){for(a=a||u.appendChild(t.createElement("div")),s=(ce.exec(i)||["",""])[1].toLowerCase(),s=ge[s]||ge._default,a.innerHTML=s[1]+N.htmlPrefilter(i)+s[2],d=s[0];d--;)a=a.lastChild;N.merge(c,a.childNodes),(a=u.firstChild).textContent=""}else c.push(t.createTextNode(i));for(u.textContent="",f=0;i=c[f++];)if(o&&-1<N.inArray(i,o))n&&n.push(i);else if(l=ne(i),a=pe(u.appendChild(i),"script"),l&&he(a),r)for(d=0;i=a[d++];)fe.test(i.type||"")&&r.push(i);return u}var ve=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function we(){return!1}function Se(e,t){return e===function(){try{return C.activeElement}catch(e){}}()==("focus"===t)}function ye(e,t,r,o,n,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(o=o||r,r=void 0),t)ye(e,s,r,o,t[s],i);return e}if(null==o&&null==n?(n=r,o=r=void 0):null==n&&("string"==typeof r?(n=o,o=void 0):(n=o,o=r,r=void 0)),!1===n)n=we;else if(!n)return e;return 1===i&&(a=n,(n=function(e){return N().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=N.guid++)),e.each(function(){N.event.add(this,t,n,o,r)})}function Ce(e,n,i){i?($.set(e,n,!1),N.event.add(e,n,{namespace:!1,handler:function(e){var t,r,o=$.get(this,n);if(1&e.isTrigger&&this[n]){if(o.length)(N.event.special[n]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),$.set(this,n,o),t=i(this,n),this[n](),o!==(r=$.get(this,n))||t?$.set(this,n,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else o.length&&($.set(this,n,{value:N.event.trigger(N.extend(o[0],N.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,n)&&N.event.add(e,n,be)}N.event={global:{},add:function(t,e,r,o,n){var i,a,s,l,d,u,c,f,g,p=$.get(t);if(Y(t))for(r.handler&&(r=(i=r).handler,n=i.selector),n&&N.find.matchesSelector(oe,n),r.guid||(r.guid=N.guid++),(s=p.events)||(s=p.events=Object.create(null)),(a=p.handle)||(a=p.handle=function(e){return void 0!==N&&N.event.triggered!==e.type?N.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(k)||[""]).length;l--;)c=g=(d=ve.exec(e[l])||[])[1],f=(d[2]||"").split(".").sort(),c&&(u=N.event.special[c]||{},c=(n?u.delegateType:u.bindType)||c,u=N.event.special[c]||{},d=N.extend({type:c,origType:g,data:o,handler:r,guid:r.guid,selector:n,needsContext:n&&N.expr.match.needsContext.test(n),namespace:f.join(".")},i),(g=s[c])||((g=s[c]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,o,f,a)||t.addEventListener&&t.addEventListener(c,a)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=r.guid)),n?g.splice(g.delegateCount++,0,d):g.push(d),N.event.global[c]=!0)},remove:function(e,t,r,o,n){var i,a,s,l,d,u,c,f,g,p,h,m=$.hasData(e)&&$.get(e);if(m&&(l=m.events)){for(d=(t=(t||"").match(k)||[""]).length;d--;)if(g=h=(s=ve.exec(t[d])||[])[1],p=(s[2]||"").split(".").sort(),g){for(c=N.event.special[g]||{},f=l[g=(o?c.delegateType:c.bindType)||g]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!n&&h!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,c.remove&&c.remove.call(e,u));a&&!f.length&&(c.teardown&&!1!==c.teardown.call(e,p,m.handle)||N.removeEvent(e,g,m.handle),delete l[g])}else for(g in l)N.event.remove(e,g+t[d],r,o,!0);N.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,r,o,n,i,a=new Array(arguments.length),s=N.event.fix(e),l=($.get(this,"events")||Object.create(null))[s.type]||[],e=N.event.special[s.type]||{};for(a[0]=s,t=1;t<arguments.length;t++)a[t]=arguments[t];if(s.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,s)){for(i=N.event.handlers.call(this,s,l),t=0;(o=i[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,r=0;(n=o.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==n.namespace&&!s.rnamespace.test(n.namespace)||(s.handleObj=n,s.data=n.data,void 0!==(n=((N.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,a))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,o,n,i,a,s=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!("click"===e.type&&1<=e.button))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(i=[],a={},r=0;r<l;r++)void 0===a[n=(o=t[r]).selector+" "]&&(a[n]=o.needsContext?-1<N(n,this).index(d):N.find(n,this,null,[d]).length),a[n]&&i.push(o);i.length&&s.push({elem:d,handlers:i})}return d=this,l<t.length&&s.push({elem:d,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(N.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[N.expando]?e:new N.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return ue.test(e.type)&&e.click&&M(e,"input")&&Ce(e,"click",be),!1},trigger:function(e){e=this||e;return ue.test(e.type)&&e.click&&M(e,"input")&&Ce(e,"click"),!0},_default:function(e){e=e.target;return ue.test(e.type)&&e.click&&M(e,"input")&&$.get(e,"click")||M(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},N.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},N.Event=function(e,t){if(!(this instanceof N.Event))return new N.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:we,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&N.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[N.expando]=!0},N.Event.prototype={constructor:N.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},N.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},N.event.addProp),N.each({focus:"focusin",blur:"focusout"},function(e,t){N.event.special[e]={setup:function(){return Ce(this,e,Se),!1},trigger:function(){return Ce(this,e),!0},_default:function(){return!0},delegateType:t}}),N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,n){N.event.special[e]={delegateType:n,bindType:n,handle:function(e){var t,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||N.contains(this,r))||(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=n),t}}}),N.fn.extend({on:function(e,t,r,o){return ye(this,e,t,r,o)},one:function(e,t,r,o){return ye(this,e,t,r,o,1)},off:function(e,t,r){var o,n;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,N(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=we),this.each(function(){N.event.remove(this,e,r,t)});for(n in e)this.off(n,t,e[n]);return this}});var Ne=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return M(e,"table")&&M(11!==t.nodeType?t:t.firstChild,"tr")&&N(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _e(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var r,o,n,i;if(1===t.nodeType){if($.hasData(e)&&(i=$.get(e).events))for(n in $.remove(t,"handle events"),i)for(r=0,o=i[n].length;r<o;r++)N.event.add(t,n,i[n][r]);Q.hasData(e)&&(e=Q.access(e),e=N.extend({},e),Q.set(t,e))}}function Le(r,o,n,i){o=m(o);var e,t,a,s,l,d,u=0,c=r.length,f=c-1,g=o[0],p=b(g);if(p||1<c&&"string"==typeof g&&!v.checkClone&&Ae.test(g))return r.each(function(e){var t=r.eq(e);p&&(o[0]=g.call(this,e,t.html())),Le(t,o,n,i)});if(c&&(t=(e=Ee(o,r[0].ownerDocument,!1,r,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(s=(a=N.map(pe(e,"script"),Oe)).length;u<c;u++)l=e,u!==f&&(l=N.clone(l,!0,!0),s&&N.merge(a,pe(l,"script"))),n.call(r[u],l,u);if(s)for(d=a[a.length-1].ownerDocument,N.map(a,_e),u=0;u<s;u++)l=a[u],fe.test(l.type||"")&&!$.access(l,"globalEval")&&N.contains(d,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?N._evalUrl&&!l.noModule&&N._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},d):w(l.textContent.replace(Te,""),l,d))}return r}function Re(e,t,r){for(var o,n=t?N.filter(t,e):e,i=0;null!=(o=n[i]);i++)r||1!==o.nodeType||N.cleanData(pe(o)),o.parentNode&&(r&&ne(o)&&he(pe(o,"script")),o.parentNode.removeChild(o));return e}N.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var o,n,i,a,s,l,d,u=e.cloneNode(!0),c=ne(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||N.isXMLDoc(e)))for(a=pe(u),o=0,n=(i=pe(e)).length;o<n;o++)s=i[o],l=a[o],d=void 0,"input"===(d=l.nodeName.toLowerCase())&&ue.test(s.type)?l.checked=s.checked:"input"!==d&&"textarea"!==d||(l.defaultValue=s.defaultValue);if(t)if(r)for(i=i||pe(e),a=a||pe(u),o=0,n=i.length;o<n;o++)Pe(i[o],a[o]);else Pe(e,u);return 0<(a=pe(u,"script")).length&&he(a,!c&&pe(e,"script")),u},cleanData:function(e){for(var t,r,o,n=N.event.special,i=0;void 0!==(r=e[i]);i++)if(Y(r)){if(t=r[$.expando]){if(t.events)for(o in t.events)n[o]?N.event.remove(r,o):N.removeEvent(r,o,t.handle);r[$.expando]=void 0}r[Q.expando]&&(r[Q.expando]=void 0)}}}),N.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return B(this,function(e){return void 0===e?N.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Le(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return Le(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Me(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(N.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return N.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},r=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ge[(ce.exec(e)||["",""])[1].toLowerCase()]){e=N.htmlPrefilter(e);try{for(;r<o;r++)1===(t=this[r]||{}).nodeType&&(N.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var r=[];return Le(this,arguments,function(e){var t=this.parentNode;N.inArray(this,r)<0&&(N.cleanData(pe(this)),t&&t.replaceChild(e,this))},r)}}),N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){N.fn[e]=function(e){for(var t,r=[],o=N(e),n=o.length-1,i=0;i<=n;i++)t=i===n?this:this.clone(!0),N(o[i])[a](t),l.apply(r,t.get());return this.pushStack(r)}});function xe(e,t,r){var o,n={};for(o in t)n[o]=e.style[o],e.style[o]=t[o];for(o in r=r.call(e),t)e.style[o]=n[o];return r}var Ie,ke,Ge,De,Ue,Ve,je,qe,Be=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?y:t).getComputedStyle(e)},We=new RegExp(re.join("|"),"i");function ze(){var e;qe&&(je.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",qe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(je).appendChild(qe),e=y.getComputedStyle(qe),Ie="1%"!==e.top,Ve=12===He(e.marginLeft),qe.style.right="60%",De=36===He(e.right),ke=36===He(e.width),qe.style.position="absolute",Ge=12===He(qe.offsetWidth/3),oe.removeChild(je),qe=null)}function He(e){return Math.round(parseFloat(e))}function Ye(e,t,r){var o,n,i=e.style;return(r=r||Fe(e))&&(""!==(n=r.getPropertyValue(t)||r[t])||ne(e)||(n=N.style(e,t)),!v.pixelBoxStyles()&&Be.test(n)&&We.test(t)&&(o=i.width,e=i.minWidth,t=i.maxWidth,i.minWidth=i.maxWidth=i.width=n,n=r.width,i.width=o,i.minWidth=e,i.maxWidth=t)),void 0!==n?n+"":n}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}je=C.createElement("div"),(qe=C.createElement("div")).style&&(qe.style.backgroundClip="content-box",qe.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===qe.style.backgroundClip,N.extend(v,{boxSizingReliable:function(){return ze(),ke},pixelBoxStyles:function(){return ze(),De},pixelPosition:function(){return ze(),Ie},reliableMarginLeft:function(){return ze(),Ve},scrollboxSize:function(){return ze(),Ge},reliableTrDimensions:function(){var e,t,r;return null==Ue&&(e=C.createElement("table"),t=C.createElement("tr"),r=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",oe.appendChild(e).appendChild(t).appendChild(r),r=y.getComputedStyle(t),Ue=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,oe.removeChild(e)),Ue}}));var $e=["Webkit","Moz","ms"],Qe=C.createElement("div").style,Xe={};function Je(e){var t=N.cssProps[e]||Xe[e];return t||(e in Qe?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=$e.length;r--;)if((e=$e[r]+t)in Qe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"};function ot(e,t,r){var o=te.exec(t);return o?Math.max(0,o[2]-(r||0))+(o[3]||"px"):t}function nt(e,t,r,o,n,i){var a="width"===t?1:0,s=0,l=0;if(r===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(l+=N.css(e,r+re[a],!0,n)),o?("content"===r&&(l-=N.css(e,"padding"+re[a],!0,n)),"margin"!==r&&(l-=N.css(e,"border"+re[a]+"Width",!0,n))):(l+=N.css(e,"padding"+re[a],!0,n),"padding"!==r?l+=N.css(e,"border"+re[a]+"Width",!0,n):s+=N.css(e,"border"+re[a]+"Width",!0,n));return!o&&0<=i&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function it(e,t,r){var o=Fe(e),n=(!v.boxSizingReliable()||r)&&"border-box"===N.css(e,"boxSizing",!1,o),i=n,a=Ye(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(a)){if(!r)return a;a="auto"}return(!v.boxSizingReliable()&&n||!v.reliableTrDimensions()&&M(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===N.css(e,"display",!1,o))&&e.getClientRects().length&&(n="border-box"===N.css(e,"boxSizing",!1,o),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+nt(e,t,r||(n?"border":"content"),i,o,a)+"px"}function at(e,t,r,o,n){return new at.prototype.init(e,t,r,o,n)}N.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Ye(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,i,a,s=H(t),l=et.test(t),d=e.style;if(l||(t=Je(s)),a=N.cssHooks[t]||N.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(n=a.get(e,!1,o))?n:d[t];"string"===(i=typeof r)&&(n=te.exec(r))&&n[1]&&(r=se(e,t,n),i="number"),null!=r&&r==r&&("number"!==i||l||(r+=n&&n[3]||(N.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==r||0!==t.indexOf("background")||(d[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,o))||(l?d.setProperty(t,r):d[t]=r))}},css:function(e,t,r,o){var n,i=H(t);return et.test(t)||(t=Je(i)),"normal"===(n=void 0===(n=(i=N.cssHooks[t]||N.cssHooks[i])&&"get"in i?i.get(e,!0,r):n)?Ye(e,t,o):n)&&t in rt&&(n=rt[t]),""===r||r?(t=parseFloat(n),!0===r||isFinite(t)?t||0:n):n}}),N.each(["height","width"],function(e,s){N.cssHooks[s]={get:function(e,t,r){if(t)return!Ze.test(N.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,s,r):xe(e,tt,function(){return it(e,s,r)})},set:function(e,t,r){var o,n=Fe(e),i=!v.scrollboxSize()&&"absolute"===n.position,a=(i||r)&&"border-box"===N.css(e,"boxSizing",!1,n),r=r?nt(e,s,r,a,n):0;return a&&i&&(r-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(n[s])-nt(e,s,"border",!1,n)-.5)),r&&(o=te.exec(t))&&"px"!==(o[3]||"px")&&(e.style[s]=t,t=N.css(e,s)),ot(0,t,r)}}}),N.cssHooks.marginLeft=Ke(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),N.each({margin:"",padding:"",border:"Width"},function(n,i){N.cssHooks[n+i]={expand:function(e){for(var t=0,r={},o="string"==typeof e?e.split(" "):[e];t<4;t++)r[n+re[t]+i]=o[t]||o[t-2]||o[0];return r}},"margin"!==n&&(N.cssHooks[n+i].set=ot)}),N.fn.extend({css:function(e,t){return B(this,function(e,t,r){var o,n,i={},a=0;if(Array.isArray(t)){for(o=Fe(e),n=t.length;a<n;a++)i[t[a]]=N.css(e,t[a],!1,o);return i}return void 0!==r?N.style(e,t,r):N.css(e,t)},e,t,1<arguments.length)}}),(N.Tween=at).prototype={constructor:at,init:function(e,t,r,o,n,i){this.elem=e,this.prop=r,this.easing=n||N.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(N.cssNumber[r]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return(e&&e.get?e:at.propHooks._default).get(this)},run:function(e){var t,r=at.propHooks[this.prop];return this.options.duration?this.pos=t=N.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(r&&r.set?r:at.propHooks._default).set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=N.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){N.fx.step[e.prop]?N.fx.step[e.prop](e):1!==e.elem.nodeType||!N.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:N.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},N.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},N.fx=at.prototype.init,N.fx.step={};var st,lt,dt=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function ct(){lt&&(!1===C.hidden&&y.requestAnimationFrame?y.requestAnimationFrame(ct):y.setTimeout(ct,N.fx.interval),N.fx.tick())}function ft(){return y.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var r,o=0,n={height:e};for(t=t?1:0;o<4;o+=2-t)n["margin"+(r=re[o])]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function pt(e,t,r){for(var o,n=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),i=0,a=n.length;i<a;i++)if(o=n[i].call(r,t,e))return o}function ht(n,e,t){var r,i,o=0,a=ht.prefilters.length,s=N.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=st||ft(),e=Math.max(0,d.startTime+d.duration-e),t=1-(e/d.duration||0),r=0,o=d.tweens.length;r<o;r++)d.tweens[r].run(t);return s.notifyWith(n,[d,t,e]),t<1&&o?e:(o||s.notifyWith(n,[d,1,0]),s.resolveWith(n,[d]),!1)},d=s.promise({elem:n,props:N.extend({},e),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ft(),duration:t.duration,tweens:[],createTween:function(e,t){e=N.Tween(n,d.opts,e,t,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(e),e},stop:function(e){var t=0,r=e?d.tweens.length:0;if(i)return this;for(i=!0;t<r;t++)d.tweens[t].run(1);return e?(s.notifyWith(n,[d,1,0]),s.resolveWith(n,[d,e])):s.rejectWith(n,[d,e]),this}}),u=d.props;for(!function(e,t){var r,o,n,i,a;for(r in e)if(n=t[o=H(r)],i=e[r],Array.isArray(i)&&(n=i[1],i=e[r]=i[0]),r!==o&&(e[o]=i,delete e[r]),(a=N.cssHooks[o])&&"expand"in a)for(r in i=a.expand(i),delete e[o],i)r in e||(e[r]=i[r],t[r]=n);else t[o]=n}(u,d.opts.specialEasing);o<a;o++)if(r=ht.prefilters[o].call(d,n,u,d.opts))return b(r.stop)&&(N._queueHooks(d.elem,d.opts.queue).stop=r.stop.bind(r)),r;return N.map(u,pt,d),b(d.opts.start)&&d.opts.start.call(n,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),N.fx.timer(N.extend(l,{elem:n,anim:d,queue:d.opts.queue})),d}N.Animation=N.extend(ht,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return se(r.elem,e,te.exec(t),r),r}]},tweener:function(e,t){for(var r,o=0,n=(e=b(e)?(t=e,["*"]):e.match(k)).length;o<n;o++)r=e[o],ht.tweeners[r]=ht.tweeners[r]||[],ht.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var o,n,i,a,s,l,d,u="width"in t||"height"in t,c=this,f={},g=e.style,p=e.nodeType&&ae(e),h=$.get(e,"fxshow");for(o in r.queue||(null==(a=N._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,N.queue(e,"fx").length||a.empty.fire()})})),t)if(n=t[o],dt.test(n)){if(delete t[o],i=i||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!h||void 0===h[o])continue;p=!0}f[o]=h&&h[o]||N.style(e,o)}if((l=!N.isEmptyObject(t))||!N.isEmptyObject(f))for(o in u&&1===e.nodeType&&(r.overflow=[g.overflow,g.overflowX,g.overflowY],null==(d=h&&h.display)&&(d=$.get(e,"display")),"none"===(u=N.css(e,"display"))&&(d?u=d:(de([e],!0),d=e.style.display||d,u=N.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=d)&&"none"===N.css(e,"float")&&(l||(c.done(function(){g.display=d}),null==d&&(u=g.display,d="none"===u?"":u)),g.display="inline-block")),r.overflow&&(g.overflow="hidden",c.always(function(){g.overflow=r.overflow[0],g.overflowX=r.overflow[1],g.overflowY=r.overflow[2]})),l=!1,f)l||(h?"hidden"in h&&(p=h.hidden):h=$.access(e,"fxshow",{display:d}),i&&(h.hidden=!p),p&&de([e],!0),c.done(function(){for(o in p||de([e]),$.remove(e,"fxshow"),f)N.style(e,o,f[o])})),l=pt(p?h[o]:0,o,c),o in h||(h[o]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),N.speed=function(e,t,r){var o=e&&"object"==typeof e?N.extend({},e):{complete:r||!r&&t||b(e)&&e,duration:e,easing:r&&t||t&&!b(t)&&t};return N.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in N.fx.speeds?o.duration=N.fx.speeds[o.duration]:o.duration=N.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){b(o.old)&&o.old.call(this),o.queue&&N.dequeue(this,o.queue)},o},N.fn.extend({fadeTo:function(e,t,r,o){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,r,o)},animate:function(t,e,r,o){var n=N.isEmptyObject(t),i=N.speed(e,r,o),o=function(){var e=ht(this,N.extend({},t),i);(n||$.get(this,"finish"))&&e.stop(!0)};return o.finish=o,n||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(n,e,i){function a(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof n&&(i=e,e=n,n=void 0),e&&this.queue(n||"fx",[]),this.each(function(){var e=!0,t=null!=n&&n+"queueHooks",r=N.timers,o=$.get(this);if(t)o[t]&&o[t].stop&&a(o[t]);else for(t in o)o[t]&&o[t].stop&&ut.test(t)&&a(o[t]);for(t=r.length;t--;)r[t].elem!==this||null!=n&&r[t].queue!==n||(r[t].anim.stop(i),e=!1,r.splice(t,1));!e&&i||N.dequeue(this,n)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=$.get(this),r=t[a+"queue"],o=t[a+"queueHooks"],n=N.timers,i=r?r.length:0;for(t.finish=!0,N.queue(this,a,[]),o&&o.stop&&o.stop.call(this,!0),e=n.length;e--;)n[e].elem===this&&n[e].queue===a&&(n[e].anim.stop(!0),n.splice(e,1));for(e=0;e<i;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete t.finish})}}),N.each(["toggle","show","hide"],function(e,o){var n=N.fn[o];N.fn[o]=function(e,t,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(gt(o,!0),e,t,r)}}),N.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,o){N.fn[e]=function(e,t,r){return this.animate(o,e,t,r)}}),N.timers=[],N.fx.tick=function(){var e,t=0,r=N.timers;for(st=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||N.fx.stop(),st=void 0},N.fx.timer=function(e){N.timers.push(e),N.fx.start()},N.fx.interval=13,N.fx.start=function(){lt||(lt=!0,ct())},N.fx.stop=function(){lt=null},N.fx.speeds={slow:600,fast:200,_default:400},N.fn.delay=function(o,e){return o=N.fx&&N.fx.speeds[o]||o,this.queue(e=e||"fx",function(e,t){var r=y.setTimeout(e,o);t.stop=function(){y.clearTimeout(r)}})},c=C.createElement("input"),ee=C.createElement("select").appendChild(C.createElement("option")),c.type="checkbox",v.checkOn=""!==c.value,v.optSelected=ee.selected,(c=C.createElement("input")).value="t",c.type="radio",v.radioValue="t"===c.value;var mt,Et=N.expr.attrHandle;N.fn.extend({attr:function(e,t){return B(this,N.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){N.removeAttr(this,e)})}}),N.extend({attr:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?N.prop(e,t,r):(1===i&&N.isXMLDoc(e)||(n=N.attrHooks[t.toLowerCase()]||(N.expr.match.bool.test(t)?mt:void 0)),void 0!==r?null===r?void N.removeAttr(e,t):n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:(e.setAttribute(t,r+""),r):!(n&&"get"in n&&null!==(o=n.get(e,t)))&&null==(o=N.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&M(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,o=0,n=t&&t.match(k);if(n&&1===e.nodeType)for(;r=n[o++];)e.removeAttribute(r)}}),mt={set:function(e,t,r){return!1===t?N.removeAttr(e,r):e.setAttribute(r,r),r}},N.each(N.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Et[t]||N.find.attr;Et[t]=function(e,t,r){var o,n,i=t.toLowerCase();return r||(n=Et[i],Et[i]=o,o=null!=a(e,t,r)?i:null,Et[i]=n),o}});var vt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function wt(e){return(e.match(k)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(k)||[]}N.fn.extend({prop:function(e,t){return B(this,N.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[N.propFix[e]||e]})}}),N.extend({prop:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&N.isXMLDoc(e)||(t=N.propFix[t]||t,n=N.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:e[t]=r:n&&"get"in n&&null!==(o=n.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=N.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(N.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),N.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){N.propFix[this.toLowerCase()]=this}),N.fn.extend({addClass:function(t){var e,r,o,n,i,a,s=0;if(b(t))return this.each(function(e){N(this).addClass(t.call(this,e,St(this)))});if((e=yt(t)).length)for(;r=this[s++];)if(a=St(r),o=1===r.nodeType&&" "+wt(a)+" "){for(i=0;n=e[i++];)o.indexOf(" "+n+" ")<0&&(o+=n+" ");a!==(a=wt(o))&&r.setAttribute("class",a)}return this},removeClass:function(t){var e,r,o,n,i,a,s=0;if(b(t))return this.each(function(e){N(this).removeClass(t.call(this,e,St(this)))});if(!arguments.length)return this.attr("class","");if((e=yt(t)).length)for(;r=this[s++];)if(a=St(r),o=1===r.nodeType&&" "+wt(a)+" "){for(i=0;n=e[i++];)for(;-1<o.indexOf(" "+n+" ");)o=o.replace(" "+n+" "," ");a!==(a=wt(o))&&r.setAttribute("class",a)}return this},toggleClass:function(n,t){var i=typeof n,a="string"==i||Array.isArray(n);return"boolean"==typeof t&&a?t?this.addClass(n):this.removeClass(n):b(n)?this.each(function(e){N(this).toggleClass(n.call(this,e,St(this),t),t)}):this.each(function(){var e,t,r,o;if(a)for(t=0,r=N(this),o=yt(n);e=o[t++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==n&&"boolean"!=i||((e=St(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==n&&$.get(this,"__className__")||""))})},hasClass:function(e){for(var t,r=0,o=" "+e+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+wt(St(t))+" ").indexOf(o))return!0;return!1}});var Ct=/\r/g;N.fn.extend({val:function(t){var r,e,o,n=this[0];return arguments.length?(o=b(t),this.each(function(e){1===this.nodeType&&(null==(e=o?t.call(this,e,N(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=N.map(e,function(e){return null==e?"":e+""})),(r=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,e,"value")||(this.value=e))})):n?(r=N.valHooks[n.type]||N.valHooks[n.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(n,"value"))?e:"string"==typeof(e=n.value)?e.replace(Ct,""):null==e?"":e:void 0}}),N.extend({valHooks:{option:{get:function(e){var t=N.find.attr(e,"value");return null!=t?t:wt(N.text(e))}},select:{get:function(e){for(var t,r=e.options,o=e.selectedIndex,n="select-one"===e.type,i=n?null:[],a=n?o+1:r.length,s=o<0?a:n?o:0;s<a;s++)if(((t=r[s]).selected||s===o)&&!t.disabled&&(!t.parentNode.disabled||!M(t.parentNode,"optgroup"))){if(t=N(t).val(),n)return t;i.push(t)}return i},set:function(e,t){for(var r,o,n=e.options,i=N.makeArray(t),a=n.length;a--;)((o=n[a]).selected=-1<N.inArray(N.valHooks.option.get(o),i))&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<N.inArray(N(e).val(),t)}},v.checkOn||(N.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in y;function Nt(e){e.stopPropagation()}var At=/^(?:focusinfocus|focusoutblur)$/;N.extend(N.event,{trigger:function(e,t,r,o){var n,i,a,s,l,d,u,c=[r||C],f=E.call(e,"type")?e.type:e,g=E.call(e,"namespace")?e.namespace.split("."):[],p=u=i=r=r||C;if(3!==r.nodeType&&8!==r.nodeType&&!At.test(f+N.event.triggered)&&(-1<f.indexOf(".")&&(f=(g=f.split(".")).shift(),g.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[N.expando]?e:new N.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:N.makeArray(t,[e]),d=N.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!h(r)){for(a=d.delegateType||f,At.test(a+f)||(p=p.parentNode);p;p=p.parentNode)c.push(p),i=p;i===(r.ownerDocument||C)&&c.push(i.defaultView||i.parentWindow||y)}for(n=0;(p=c[n++])&&!e.isPropagationStopped();)u=p,e.type=1<n?a:d.bindType||f,(l=($.get(p,"events")||Object.create(null))[e.type]&&$.get(p,"handle"))&&l.apply(p,t),(l=s&&p[s])&&l.apply&&Y(p)&&(e.result=l.apply(p,t),!1===e.result&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(c.pop(),t)||!Y(r)||s&&b(r[f])&&!h(r)&&((i=r[s])&&(r[s]=null),N.event.triggered=f,e.isPropagationStopped()&&u.addEventListener(f,Nt),r[f](),e.isPropagationStopped()&&u.removeEventListener(f,Nt),N.event.triggered=void 0,i&&(r[s]=i)),e.result}},simulate:function(e,t,r){e=N.extend(new N.Event,r,{type:e,isSimulated:!0});N.event.trigger(e,null,t)}}),N.fn.extend({trigger:function(e,t){return this.each(function(){N.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return N.event.trigger(e,t,r,!0)}}),v.focusin||N.each({focus:"focusin",blur:"focusout"},function(r,o){function n(e){N.event.simulate(o,e.target,N.event.fix(e))}N.event.special[o]={setup:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,o);t||e.addEventListener(r,n,!0),$.access(e,o,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,o)-1;t?$.access(e,o,t):(e.removeEventListener(r,n,!0),$.remove(e,o))}}});var Tt=y.location,Mt={guid:Date.now()},Ot=/\?/;N.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{t=(new y.DOMParser).parseFromString(e,"text/xml")}catch(e){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||N.error("Invalid XML: "+(r?N.map(r.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var _t=/\[\]$/,Pt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;N.param=function(e,t){function r(e,t){t=b(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var o,n=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!N.isPlainObject(e))N.each(e,function(){r(this.name,this.value)});else for(o in e)!function r(o,e,n,i){if(Array.isArray(e))N.each(e,function(e,t){n||_t.test(o)?i(o,t):r(o+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,i)});else if(n||"object"!==p(e))i(o,e);else for(var t in e)r(o+"["+t+"]",e[t],n,i)}(o,e[o],t,r);return n.join("&")},N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=N.prop(this,"elements");return e?N.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!N(this).is(":disabled")&&Rt.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var r=N(this).val();return null==r?null:Array.isArray(r)?N.map(r,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:r.replace(Pt,"\r\n")}}).get()}});var xt=/%20/g,It=/#.*$/,kt=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,Ut=/^\/\//,Vt={},jt={},qt="*/".concat("*"),Bt=C.createElement("a");function Ft(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var r,o=0,n=e.toLowerCase().match(k)||[];if(b(t))for(;r=n[o++];)"+"===r[0]?(r=r.slice(1)||"*",(i[r]=i[r]||[]).unshift(t)):(i[r]=i[r]||[]).push(t)}}function Wt(t,o,n,i){var a={},s=t===jt;function l(e){var r;return a[e]=!0,N.each(t[e]||[],function(e,t){t=t(o,n,i);return"string"!=typeof t||s||a[t]?s?!(r=t):void 0:(o.dataTypes.unshift(t),l(t),!1)}),r}return l(o.dataTypes[0])||!a["*"]&&l("*")}function zt(e,t){var r,o,n=N.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:o=o||{})[r]=t[r]);return o&&N.extend(!0,e,o),e}Bt.href=Tt.href,N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,N.ajaxSettings),t):zt(N.ajaxSettings,e)},ajaxPrefilter:Ft(Vt),ajaxTransport:Ft(jt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,d,u,r,c,f,g,o,n,p=N.ajaxSetup({},t=t||{}),h=p.context||p,m=p.context&&(h.nodeType||h.jquery)?N(h):N.event,E=N.Deferred(),v=N.Callbacks("once memory"),b=p.statusCode||{},i={},a={},s="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(f){if(!r)for(r={};t=Gt.exec(u);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return f?u:null},setRequestHeader:function(e,t){return null==f&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,i[e]=t),this},overrideMimeType:function(e){return null==f&&(p.mimeType=e),this},statusCode:function(e){if(e)if(f)w.always(e[w.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),S(0,e),this}};if(E.promise(w),p.url=((e||p.url||Tt.href)+"").replace(Ut,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(k)||[""],null==p.crossDomain){n=C.createElement("a");try{n.href=p.url,n.href=n.href,p.crossDomain=Bt.protocol+"//"+Bt.host!=n.protocol+"//"+n.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=N.param(p.data,p.traditional)),Wt(Vt,p,t,w),f)return w;for(o in(g=N.event&&p.global)&&0==N.active++&&N.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Dt.test(p.type),d=p.url.replace(It,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(xt,"+")):(n=p.url.slice(d.length),p.data&&(p.processData||"string"==typeof p.data)&&(d+=(Ot.test(d)?"&":"?")+p.data,delete p.data),!1===p.cache&&(d=d.replace(kt,"$1"),n=(Ot.test(d)?"&":"?")+"_="+Mt.guid+++n),p.url=d+n),p.ifModified&&(N.lastModified[d]&&w.setRequestHeader("If-Modified-Since",N.lastModified[d]),N.etag[d]&&w.setRequestHeader("If-None-Match",N.etag[d])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+qt+"; q=0.01":""):p.accepts["*"]),p.headers)w.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(!1===p.beforeSend.call(h,w,p)||f))return w.abort();if(s="abort",v.add(p.complete),w.done(p.success),w.fail(p.error),l=Wt(jt,p,t,w)){if(w.readyState=1,g&&m.trigger("ajaxSend",[w,p]),f)return w;p.async&&0<p.timeout&&(c=y.setTimeout(function(){w.abort("timeout")},p.timeout));try{f=!1,l.send(i,S)}catch(e){if(f)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,r,o){var n,i,a,s=t;f||(f=!0,c&&y.clearTimeout(c),l=void 0,u=o||"",w.readyState=0<e?4:0,o=200<=e&&e<300||304===e,r&&(a=function(e,t,r){for(var o,n,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(n in s)if(s[n]&&s[n].test(o)){l.unshift(n);break}if(l[0]in r)i=l[0];else{for(n in r){if(!l[0]||e.converters[n+" "+l[0]]){i=n;break}a=a||n}i=i||a}if(i)return i!==l[0]&&l.unshift(i),r[i]}(p,w,r)),!o&&-1<N.inArray("script",p.dataTypes)&&N.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),a=function(e,t,r,o){var n,i,a,s,l,d={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=d[l+" "+i]||d["* "+i]))for(n in d)if((s=n.split(" "))[1]===i&&(a=d[l+" "+s[0]]||d["* "+s[0]])){!0===a?a=d[n]:!0!==d[n]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(p,a,w,o),o?(p.ifModified&&((r=w.getResponseHeader("Last-Modified"))&&(N.lastModified[d]=r),(r=w.getResponseHeader("etag"))&&(N.etag[d]=r)),204===e||"HEAD"===p.type?s="nocontent":304===e?s="notmodified":(s=a.state,n=a.data,o=!(i=a.error))):(i=s,!e&&s||(s="error",e<0&&(e=0))),w.status=e,w.statusText=(t||s)+"",o?E.resolveWith(h,[n,s,w]):E.rejectWith(h,[w,s,i]),w.statusCode(b),b=void 0,g&&m.trigger(o?"ajaxSuccess":"ajaxError",[w,p,o?n:i]),v.fireWith(h,[w,s]),g&&(m.trigger("ajaxComplete",[w,p]),--N.active||N.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,r){return N.get(e,t,r,"json")},getScript:function(e,t){return N.get(e,void 0,t,"script")}}),N.each(["get","post"],function(e,n){N[n]=function(e,t,r,o){return b(t)&&(o=o||r,r=t,t=void 0),N.ajax(N.extend({url:e,type:n,dataType:o,data:t,success:r},N.isPlainObject(e)&&e))}}),N.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),N._evalUrl=function(e,t,r){return N.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){N.globalEval(e,t,r)}})},N.fn.extend({wrapAll:function(e){return this[0]&&(b(e)&&(e=e.call(this[0])),e=N(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(r){return b(r)?this.each(function(e){N(this).wrapInner(r.call(this,e))}):this.each(function(){var e=N(this),t=e.contents();t.length?t.wrapAll(r):e.append(r)})},wrap:function(t){var r=b(t);return this.each(function(e){N(this).wrapAll(r?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){N(this).replaceWith(this.childNodes)}),this}}),N.expr.pseudos.hidden=function(e){return!N.expr.pseudos.visible(e)},N.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},N.ajaxSettings.xhr=function(){try{return new y.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Yt=N.ajaxSettings.xhr();v.cors=!!Yt&&"withCredentials"in Yt,v.ajax=Yt=!!Yt,N.ajaxTransport(function(n){var i,a;if(v.cors||Yt&&!n.crossDomain)return{send:function(e,t){var r,o=n.xhr();if(o.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(r in n.xhrFields)o[r]=n.xhrFields[r];for(r in n.mimeType&&o.overrideMimeType&&o.overrideMimeType(n.mimeType),n.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)o.setRequestHeader(r,e[r]);i=function(e){return function(){i&&(i=a=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?t(0,"error"):t(o.status,o.statusText):t(Ht[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=i(),a=o.onerror=o.ontimeout=i("error"),void 0!==o.onabort?o.onabort=a:o.onreadystatechange=function(){4===o.readyState&&y.setTimeout(function(){i&&a()})},i=i("abort");try{o.send(n.hasContent&&n.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),N.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return N.globalEval(e),e}}}),N.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),N.ajaxTransport("script",function(r){var o,n;if(r.crossDomain||r.scriptAttrs)return{send:function(e,t){o=N("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",n=function(e){o.remove(),n=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(o[0])},abort:function(){n&&n()}}});var Kt=[],$t=/(=)\?(?=&|$)|\?\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||N.expando+"_"+Mt.guid++;return this[e]=!0,e}}),N.ajaxPrefilter("json jsonp",function(e,t,r){var o,n,i,a=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($t,"$1"+o):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return i||N.error(o+" was not called"),i[0]},e.dataTypes[0]="json",n=y[o],y[o]=function(){i=arguments},r.always(function(){void 0===n?N(y).removeProp(o):y[o]=n,e[o]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(o)),i&&b(n)&&n(i[0]),i=n=void 0}),"script"}),v.createHTMLDocument=((c=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===c.childNodes.length),N.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(v.createHTMLDocument?((o=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(o)):t=C),o=!r&&[],(r=O.exec(e))?[t.createElement(r[1])]:(r=Ee([e],t,o),o&&o.length&&N(o).remove(),N.merge([],r.childNodes)));var o},N.fn.load=function(e,t,r){var o,n,i,a=this,s=e.indexOf(" ");return-1<s&&(o=wt(e.slice(s)),e=e.slice(0,s)),b(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),0<a.length&&N.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(o?N("<div>").append(N.parseHTML(e)).find(o):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},N.expr.pseudos.animated=function(t){return N.grep(N.timers,function(e){return t===e.elem}).length},N.offset={setOffset:function(e,t,r){var o,n,i,a,s=N.css(e,"position"),l=N(e),d={};"static"===s&&(e.style.position="relative"),i=l.offset(),o=N.css(e,"top"),a=N.css(e,"left"),a=("absolute"===s||"fixed"===s)&&-1<(o+a).indexOf("auto")?(n=(s=l.position()).top,s.left):(n=parseFloat(o)||0,parseFloat(a)||0),null!=(t=b(t)?t.call(e,r,N.extend({},i)):t).top&&(d.top=t.top-i.top+n),null!=t.left&&(d.left=t.left-i.left+a),"using"in t?t.using.call(e,d):l.css(d)}},N.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){N.offset.setOffset(this,t,e)});var e,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),r=r.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,o=this[0],n={top:0,left:0};if("fixed"===N.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),r=o.ownerDocument,e=o.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===N.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((n=N(e).offset()).top+=N.css(e,"borderTopWidth",!0),n.left+=N.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-N.css(o,"marginTop",!0),left:t.left-n.left-N.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===N.css(e,"position");)e=e.offsetParent;return e||oe})}}),N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;N.fn[t]=function(e){return B(this,function(e,t,r){var o;return h(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r?o?o[n]:e[t]:void(o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):e[t]=r)},t,e,arguments.length)}}),N.each(["top","left"],function(e,r){N.cssHooks[r]=Ke(v.pixelPosition,function(e,t){if(t)return t=Ye(e,r),Be.test(t)?N(e).position()[r]+"px":t})}),N.each({Height:"height",Width:"width"},function(a,s){N.each({padding:"inner"+a,content:s,"":"outer"+a},function(o,i){N.fn[i]=function(e,t){var r=arguments.length&&(o||"boolean"!=typeof e),n=o||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,r){var o;return h(e)?0===i.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+a],o["scroll"+a],e.body["offset"+a],o["offset"+a],o["client"+a])):void 0===r?N.css(e,t,n):N.style(e,t,r,n)},s,r?e:void 0,r)}})}),N.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){N.fn[t]=function(e){return this.on(t,e)}}),N.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,o){return this.on(t,e,r,o)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),N.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){N.fn[r]=function(e,t){return 0<arguments.length?this.on(r,null,e,t):this.trigger(r)}});var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;N.proxy=function(e,t){var r,o;if("string"==typeof t&&(o=e[t],t=e,e=o),b(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||N.guid++,o},N.holdReady=function(e){e?N.readyWait++:N.ready(!0)},N.isArray=Array.isArray,N.parseJSON=JSON.parse,N.nodeName=M,N.isFunction=b,N.isWindow=h,N.camelCase=H,N.type=p,N.now=Date.now,N.isNumeric=function(e){var t=N.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},N.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return N});var Xt=y.jQuery,Jt=y.$;return N.noConflict=function(e){return y.$===N&&(y.$=Jt),e&&y.jQuery===N&&(y.jQuery=Xt),N},void 0===e&&(y.jQuery=y.$=N),N})},{}],2:[function(e,N,A){!function(n,c){"use strict";var f="function",r="undefined",i="string",e="model",t="name",o="type",a="vendor",s="version",l="architecture",d="console",u="mobile",g="tablet",p="smarttv",h="wearable",m="embedded",E={extend:function(e,t){var r,o={};for(r in e)t[r]&&t[r].length%2==0?o[r]=t[r].concat(e[r]):o[r]=e[r];return o},has:function(e,t){return typeof e==i&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e==i?e.replace(/[^\d\.]/g,"").split(".")[0]:c},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t==r?e:e.substring(0,255)}},v={rgx:function(e,t){for(var r,o,n,i,a,s=0;s<t.length&&!i;){for(var l=t[s],d=t[s+1],u=r=0;u<l.length&&!i;)if(i=l[u++].exec(e))for(o=0;o<d.length;o++)a=i[++r],"object"==typeof(n=d[o])&&0<n.length?2==n.length?typeof n[1]==f?this[n[0]]=n[1].call(this,a):this[n[0]]=n[1]:3==n.length?typeof n[1]!=f||n[1].exec&&n[1].test?this[n[0]]=a?a.replace(n[1],n[2]):c:this[n[0]]=a?n[1].call(this,a,n[2]):c:4==n.length&&(this[n[0]]=a?n[3].call(this,a.replace(n[1],n[2])):c):this[n]=a||c;s+=2}},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&0<t[r].length){for(var o=0;o<t[r].length;o++)if(E.has(t[r][o],e))return"?"===r?c:r}else if(E.has(t[r],e))return"?"===r?c:r;return e}},b={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},w={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[s,[t,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[s,[t,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[t,s],[/opios[\/\s]+([\w\.]+)/i],[s,[t,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[s,[t,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[t,s],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[s,[t,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[s,[t,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[s,[t,"WeChat"]],[/konqueror\/([\w\.]+)/i],[s,[t,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[s,[t,"IE"]],[/yabrowser\/([\w\.]+)/i],[s,[t,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[t,/(.+)/,"$1 Secure Browser"],s],[/focus\/([\w\.]+)/i],[s,[t,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[s,[t,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[s,[t,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[s,[t,"Dolphin"]],[/coast\/([\w\.]+)/i],[s,[t,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[s,[t,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[s,[t,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[t,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[t,/(.+)/,"$1 Browser"],s],[/(comodo_dragon)\/([\w\.]+)/i],[[t,/_/g," "],s],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[t,s],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[t],[/;fbav\/([\w\.]+);/i],[s,[t,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[t,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[t,s],[/\bgsa\/([\w\.]+)\s.*safari\//i],[s,[t,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[s,[t,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[t,"Chrome WebView"],s],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[s,[t,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[t,s],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[s,[t,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[s,t],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[t,[s,v.str,b.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[t,s],[/(navigator|netscape)\/([\w\.-]+)/i],[[t,"Netscape"],s],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[s,[t,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[t,s]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[l,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,E.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[e,[a,"Samsung"],[o,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[e,[a,"Samsung"],[o,u]],[/\((ip(?:hone|od)[\s\w]*);/i],[e,[a,"Apple"],[o,u]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[e,[a,"Apple"],[o,g]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[e,[a,"Huawei"],[o,g]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[e,[a,"Huawei"],[o,u]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[e,/_/g," "],[a,"Xiaomi"],[o,u]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[e,/_/g," "],[a,"Xiaomi"],[o,g]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[e,[a,"OPPO"],[o,u]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[e,[a,"Vivo"],[o,u]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[e,[a,"Realme"],[o,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[e,[a,"Motorola"],[o,u]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[a,"Motorola"],[o,g]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[e,[a,"LG"],[o,g]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[e,[a,"LG"],[o,u]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[e,[a,"Lenovo"],[o,g]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[e,/_/g," "],[a,"Nokia"],[o,u]],[/droid.+;\s(pixel\sc)[\s)]/i],[e,[a,"Google"],[o,g]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[e,[a,"Google"],[o,u]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[a,"Sony"],[o,u]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[e,"Xperia Tablet"],[a,"Sony"],[o,g]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[e,[a,"OnePlus"],[o,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[e,[a,"Amazon"],[o,g]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[e,"Fire Phone"],[a,"Amazon"],[o,u]],[/\((playbook);[\w\s\),;-]+(rim)/i],[e,a,[o,g]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[e,[a,"BlackBerry"],[o,u]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[e,[a,"ASUS"],[o,g]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[e,[a,"ASUS"],[o,u]],[/(nexus\s9)/i],[e,[a,"HTC"],[o,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[a,[e,/_/g," "],[o,u]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[a,"Acer"],[o,g]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[e,[a,"Meizu"],[o,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,e,[o,u]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[a,e,[o,g]],[/\s(surface\sduo)\s/i],[e,[a,"Microsoft"],[o,g]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[e,[a,"Fairphone"],[o,u]],[/\s(u304aa)\sbuild/i],[e,[a,"AT&T"],[o,u]],[/sie-(\w*)/i],[e,[a,"Siemens"],[o,u]],[/[;\/]\s?(rct\w+)\sbuild/i],[e,[a,"RCA"],[o,g]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[e,[a,"Dell"],[o,g]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[e,[a,"Verizon"],[o,g]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[e,[a,"Barnes & Noble"],[o,g]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[e,[a,"NuVision"],[o,g]],[/;\s(k88)\sbuild/i],[e,[a,"ZTE"],[o,g]],[/;\s(nx\d{3}j)\sbuild/i],[e,[a,"ZTE"],[o,u]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[e,[a,"Swiss"],[o,u]],[/[;\/]\s?(zur\d{3})\sbuild/i],[e,[a,"Swiss"],[o,g]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[e,[a,"Zeki"],[o,g]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[a,"Dragon Touch"],e,[o,g]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[e,[a,"Insignia"],[o,g]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[e,[a,"NextBook"],[o,g]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[a,"Voice"],e,[o,u]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[a,"LvTel"],e,[o,u]],[/;\s(ph-1)\s/i],[e,[a,"Essential"],[o,u]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[e,[a,"Envizen"],[o,g]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[e,[a,"MachSpeed"],[o,g]],[/[;\/]\s?tu_(1491)\sbuild/i],[e,[a,"Rotor"],[o,g]],[/(shield[\w\s]+)\sbuild/i],[e,[a,"Nvidia"],[o,g]],[/(sprint)\s(\w+)/i],[a,e,[o,u]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[a,"Microsoft"],[o,u]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[e,[a,"Zebra"],[o,g]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[e,[a,"Zebra"],[o,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[a,e,[o,d]],[/droid.+;\s(shield)\sbuild/i],[e,[a,"Nvidia"],[o,d]],[/(playstation\s[345portablevi]+)/i],[e,[a,"Sony"],[o,d]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[e,[a,"Microsoft"],[o,d]],[/smart-tv.+(samsung)/i],[a,[o,p]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[a,"Samsung"],[o,p]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[a,"LG"],[o,p]],[/(apple)\s?tv/i],[a,[e,"Apple TV"],[o,p]],[/crkey/i],[[e,"Chromecast"],[a,"Google"],[o,p]],[/droid.+aft([\w])(\sbuild\/|\))/i],[e,[a,"Amazon"],[o,p]],[/\(dtv[\);].+(aquos)/i],[e,[a,"Sharp"],[o,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,E.trim],[e,E.trim],[o,p]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[o,p]],[/((pebble))app\/[\d\.]+\s/i],[a,e,[o,h]],[/droid.+;\s(glass)\s\d/i],[e,[a,"Google"],[o,h]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[e,[a,"Zebra"],[o,h]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[a,[o,m]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[e,[o,u]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[e,[o,g]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[o,E.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[a,"Generic"]],[/(phone)/i],[[o,u]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[s,[t,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[s,[t,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[t,s],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[s,t]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[t,s],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[t,[s,v.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[t,"Windows"],[s,v.str,b.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[s,/_/g,"."],[t,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[t,"Mac OS"],[s,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[t,s],[/\(bb(10);/i],[s,[t,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[s,[t,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[t,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[s,[t,"webOS"]],[/crkey\/([\d\.]+)/i],[s,[t,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[t,"Chromium OS"],s],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[t,s],[/(sunos)\s?([\w\.\d]*)/i],[[t,"Solaris"],s],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[t,s]]},S=function(e,t){if("object"==typeof e&&(t=e,e=c),!(this instanceof S))return new S(e,t).getResult();var r=e||(void 0!==n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),o=t?E.extend(w,t):w;return this.getBrowser=function(){var e={name:c,version:c};return v.rgx.call(e,r,o.browser),e.major=E.major(e.version),e},this.getCPU=function(){var e={architecture:c};return v.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:c,model:c,type:c};return v.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:c,version:c};return v.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:c,version:c};return v.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e==i&&255<e.length?E.trim(e,255):e,this},this.setUA(r),this};S.VERSION="0.7.28",S.BROWSER={NAME:t,MAJOR:"major",VERSION:s},S.CPU={ARCHITECTURE:l},S.DEVICE={MODEL:e,VENDOR:a,TYPE:o,CONSOLE:d,MOBILE:u,SMARTTV:p,TABLET:g,WEARABLE:h,EMBEDDED:m},S.ENGINE={NAME:t,VERSION:s},S.OS={NAME:t,VERSION:s},typeof A!=r?(A=typeof N!=r&&N.exports?N.exports=S:A).UAParser=S:"function"==typeof define&&define.amd?define(function(){return S}):void 0!==n&&(n.UAParser=S);var y,C=void 0!==n&&(n.jQuery||n.Zepto);C&&!C.ua&&(y=new S,C.ua=y.getResult(),C.ua.get=function(){return y.getUA()},C.ua.set=function(e){y.setUA(e);var t,r=y.getResult();for(t in r)C.ua[t]=r[t]})}("object"==typeof window?window:this)},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.REFRESH_TIME_SECONDS=r.AD_TYPE=r.WRAPPER_STATUSES=r.PLACEMENT_CONFIG_STATUSES=r.PLACEMENT_STATUSES=r.AD_STATUSES=r.COUNTERS=r.LOGGER_COMPONENTS=r.LOCAL_STORAGE_KEYS=r.AD_BLOCK_OPTIONS_NAMES=r.DATA_SETTINGS_FUNCTION_ATTRIBUTE_NAME=r.AVAILABLE_SETTINGS_KEYS=r.WRAPPER_EVENTS=r.MANAGER_EVENTS=r.VERSION=void 0,r.VERSION="2.20.93",r.MANAGER_EVENTS={RUN:"manager_run",EXPERIMENT_CHOSEN:"experiment_chosen",BEFORE_DISPLAY_CONFIG:"before_display_config",BEFORE_AD_BLOCK_DATA_PUSH:"before_ad_block_data_push",BEFORE_LOAD_PLACEMENT_CONFIG:"before_load_placement_config",INSERT_WRAPPER:"insert_wrapper",PLACEMENT_READY:"placement_ready",PLACEMENT_REQUEST:"placement_request",PLACEMENT_RENDER:"placement_render",PLACEMENT_NO_AD:"placement_no_server",PLACEMENT_VISIBLE:"placement_visible"},r.WRAPPER_EVENTS={PAGE_LEVEL:{NEED_REFRESH_ALL_VISIBLE_ADS:"need_init_all_visible_ads"},CONFIG_LEVEL:{INIT:"config_init",AD_INIT:"ad_config_init",BEFORE_AD_INIT:"ad_config_before_init"},SERVER_LEVEL:{RUN:"server_run",PAUSE:"server_pause"},PLACEMENT_LEVEL:{ACTIVE:"placement_active",HIDDEN:"placement_hidden",NOT_EXISTS:"placement_not_exists"},AD_LEVEL:{READY:"ad_ready",REQUEST:"ad_request",RENDER:"ad_render",NO_SERVER:"ad_no_server",VISIBLE:"ad_visible"},WATERFALL_LEVEL:{REQUEST:"waterfall_request",EMPTY_AD:"waterfall_empty_ad",TIMEOUT:"waterfall_timeout",RENDER:"waterfall_render",VISIBLE:"waterfall_visible"}},r.AVAILABLE_SETTINGS_KEYS=["onAdImpression","onAdEmpty","customKeyValues","debug"],r.DATA_SETTINGS_FUNCTION_ATTRIBUTE_NAME="data-settings-function",r.AD_BLOCK_OPTIONS_NAMES={AD_TIMEOUT_MINUTES:"adTimeoutMinutes",MAX_SCREEN_WIDTH:"maxScreenWidth"},r.LOCAL_STORAGE_KEYS={DEBUG:{STUB_ADS:"rowr.debug.stubAds",DISABLE_SERVER:"rowr.debug.disableAds",CONSOLE_DEBUG:"rowr.debug.consoleDebug",CONSOLE_DEBUG_COMPONENTS:"rowr.debug.consoleDebugComponents",CONSOLE_PROFILER:"rowr.debug.consoleProfiler"}},r.LOGGER_COMPONENTS={PA_COMPONENT:"Prebid Analytics",WRAPPER_COMPONENT:"Wrapper",TIMER_MANAGER_COMPONENT:"TimerManager",WATERFALL_COMPONENT:"Waterfall",SSP_COMPONENT:"SSP",CMP_COMPONENT:"CMP",EVENT_COMPONENT:"Event"},r.COUNTERS={REQUEST_COUNT:"requestCount"},r.AD_STATUSES={READY:"ready",REQUESTED:"request",RENDERED:"render",NO_SERVER:"no_server"},r.PLACEMENT_STATUSES={ACTIVE:"active",HIDDEN:"hidden",NOT_EXISTS:"not_exists"},r.PLACEMENT_CONFIG_STATUSES={READY:"ready",REQUESTED:"request",RENDERED:"render",NO_AD:"no_ad"},r.WRAPPER_STATUSES={RUN:"run",PAUSE:"pause"},r.AD_TYPE={BANNER:"banner",VIDEO:"video"},r.REFRESH_TIME_SECONDS={MINIMAL_VALUE:1,OPTIMAL_VALUE:30}},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.variables=void 0;var o=e("./constants"),o={status:o.WRAPPER_STATUSES.RUN,isStubAdServer:!!localStorage&&!!localStorage.getItem(o.LOCAL_STORAGE_KEYS.DEBUG.STUB_ADS),isDisableWrapper:!!localStorage&&!!localStorage.getItem(o.LOCAL_STORAGE_KEYS.DEBUG.DISABLE_SERVER),limits:{},defaultLimits:{refreshTimeSeconds:30,requestTimeout:6,noServerTimeout:5,visibleSeconds:3,visiblePercentage:.51},disableAdRefreshInNotActiveTab:!0,prebid:{},adfox:{},iframe:{width:0,height:0},cmp:{vendor:null,cmpInitTimeout:500},device:"",host:"",os:"",browser:"",prebidAnalyticsIntegration:{},keyValues:{},rewriteDfpUrl:!1,isGoogleForceSafeFrame:!1};window.rom=window.rom||{cmd:[],icmd:[]},window.rom.cmd=window.rom.cmd||[],window.rowr=window.rowr||{cmd:[]},window.rowr.cmd=window.rowr.cmd||[],window.rowr.iframeId=window.rowr.iframeId||null,window.googletag=window.googletag||{cmd:[]},window.pbjs=window.pbjs||{que:[]},window.rowrJq=e("jquery").noConflict(!0),r.variables={romConfig:{},wrapperConfig:o,rom:window.rom,rowr:window.rowr,googletag:window.googletag,pbjs:window.pbjs,rowrJq:window.rowrJq}},{"./constants":3,jquery:1}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AdFoxAdServer=void 0;var i=e("../../../constants/constants"),o=e("../../../constants/variables"),a=e("../loggers/rowrLoggerModule"),s=e("../loggers/errorLoggerModule"),n=e("../loadManagerModule"),l=e("../../../utils/utils"),d=e("../timerManagerModule"),u=e("./adServerUtil"),c=e("../markers/waterfallMarkers");f.prototype.getAdType=function(){return i.AD_TYPE.BANNER},f.prototype.init=function(e){if(this.isInited())throw"Module already inited";this.load(e),this.config.inited=!0},f.prototype.load=function(e){var t=(o.variables.wrapperConfig.adfox||{}).hb||!1;if(!t)return a.rowrLogger.error(i.LOGGER_COMPONENTS.SSP_COMPONENT,"No hb config","Adfox",{config:e,wrapperConfig:o.variables.wrapperConfig}),void s.errorLogger.error("SSP Adfox","No hb config",{config:e,wrapperConfig:o.variables.wrapperConfig});t.adUnits=[],window.YaHeaderBiddingSettings=t,this.loadAdfoxEngine(),this.loadHbEngine()},f.prototype.isInited=function(){return this.config.inited},f.prototype.loadAdfoxEngine=function(){var e;this.config.loadedAdFox||(n.loadManagerModule.isAlreadyLoaded(this.config.adfoxEngineName)?this.config.loadedAdFox=!0:(n.loadManagerModule.markAsAlreadyLoaded(this.config.adfoxEngineName),l.utils.loadScript((e=this).config.adfoxEngineUrl,function(){a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Engine loaded.","Adfox"),e.config.loadedAdFox=!0})))},f.prototype.loadHbEngine=function(){var e;this.config.loadedHb||(n.loadManagerModule.isAlreadyLoaded(this.config.hbEngineName)?this.config.loadedHb=!0:(n.loadManagerModule.markAsAlreadyLoaded(this.config.hbEngineName),l.utils.loadScript((e=this).config.hbEngineUrl,function(){a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"HB loaded.","Adfox"),e.config.loadedHb=!0})))},f.prototype.refreshAd=function(t){if(this.config.loadedAdFox&&this.config.loadedHb){var e,r=t.waterfallConfig.currentSspConfig,o=u.adServerUtil.buildAdContentBlock(t);try{a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Adfox request.","Adfox",{adConfig:t}),window.Ya.headerBidding.pushAdUnits([{code:o,sizes:(e=r.sizes,u.adServerUtil.removeDfpCustomSizes(e)),bids:r.options.bids}]),window.Ya.adfoxCode.create({ownerId:r.tagId,containerId:o,params:r.options.params,onLoad:function(e){e.bundleName||!1?(c.waterfallMarkers.markAsRendered(t),a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Has ad.","Adfox",{adConfig:t,adfoxResponse:e})):(a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"No ad.","Adfox",{adConfig:t,adfoxResponse:e}),c.waterfallMarkers.markAsEmpty(t))},onRender:function(){c.waterfallMarkers.markAsVisible(t),a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Render ad.","Adfox",{adConfig:t})},onError:function(e){c.waterfallMarkers.markAsEmpty(t),a.rowrLogger.error(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Request error.","Adfox",{adConfig:t,error:e}),s.errorLogger.error("SSP Adfox","Request error.",{adConfig:t,error:e})},onStub:function(){a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"onStub.","Adfox",{adConfig:t}),s.errorLogger.warning("SSP Adfox","Ad server returns onStub.",{adConfig:t}),c.waterfallMarkers.markAsEmpty(t)}}),this.ads[t.adId]=o}catch(e){c.waterfallMarkers.markAsEmpty(t),a.rowrLogger.error(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Internal error.","Adfox",{adConfig:t,error:e}),s.errorLogger.error("SSP Adfox","Internal error.",{adConfig:t,error:e})}}else{o="Engine not loaded. Refresh ad after 100 ms.";a.rowrLogger.warning(i.LOGGER_COMPONENTS.SSP_COMPONENT,o,"Adfox",{adConfig:t}),s.errorLogger.warning("SSP Adfox",o,{adConfig:t});var n=this;d.timerManagerModule.setTimeout("adfoxSsp__waitModuleLoading-"+t.adId,function(){a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Refresh ad after 100 ms wait.","Adfox",{adConfig:t}),n.refreshAd(t)},100,["ad-"+t.adId])}},f.prototype.destroyAd=function(e){var t=e.adId;this.ads.hasOwnProperty(t)&&(a.rowrLogger.debug(i.LOGGER_COMPONENTS.SSP_COMPONENT,"Destroy block.","Adfox",{adConfig:e}),window.Ya.adfoxCode.destroy(this.ads[t]),delete this.ads[t])},e=f;function f(){this.config={inited:!1,loadedAdFox:!1,loadedHb:!1,adfoxEngineUrl:"https://yastatic.net/pcode/adfox/loader.js",adfoxEngineName:"adfox_loader",hbEngineUrl:"https://yastatic.net/pcode/adfox/header-bidding.js",hbEngineName:"adfox_hb"},this.ads={}}r.AdFoxAdServer=e},{"../../../constants/constants":3,"../../../constants/variables":4,"../../../utils/utils":46,"../loadManagerModule":20,"../loggers/errorLoggerModule":21,"../loggers/rowrLoggerModule":24,"../markers/waterfallMarkers":27,"../timerManagerModule":35,"./adServerUtil":12}],6:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAdServer=void 0;var n=e("../../../constants/constants"),i=e("../loadManagerModule"),a=e("../../../constants/variables"),s=e("../../../utils/utils"),l=e("../loggers/rowrLoggerModule"),d=e("./adServerUtil"),u=e("./googleUtil"),e=(c.prototype.getAdType=function(){return n.AD_TYPE.BANNER},c.prototype.init=function(e){if(this.isInited())throw"Module already inited";this.load(),this.config.inited=!0},c.prototype.isInited=function(){return this.config.inited},c.prototype.load=function(){this.config.loaded||(i.loadManagerModule.isAlreadyLoaded(this.config.engineName)||(i.loadManagerModule.markAsAlreadyLoaded(this.config.engineName),"object"===o(a.variables.googletag)&&"function"==typeof a.variables.googletag.pubads||s.utils.loadScript(this.config.engineUrl,function(){l.rowrLogger.debug(n.LOGGER_COMPONENTS.SSP_COMPONENT,"SSP loaded.","Google")})),this.config.loaded=!0)},c.prototype.refreshAd=function(r){u.googleUtil.initGpt();var o=this;a.variables.googletag.cmd.push(function(){var e=d.adServerUtil.buildAdContentBlock(r),t=u.googleUtil.buildGptSlot(e,r);o.slots[r.adId]=t,a.variables.googletag.display(e),a.variables.googletag.pubads().setRequestNonPersonalizedAds(r.isAnonAd),a.variables.googletag.pubads().refresh([t]),l.rowrLogger.debug(n.LOGGER_COMPONENTS.SSP_COMPONENT,"Ad request.","Google",{adConfig:r})})},c.prototype.destroyAd=function(e){var t=e.adId,r=this;this.slots.hasOwnProperty(t)&&(l.rowrLogger.debug(n.LOGGER_COMPONENTS.SSP_COMPONENT,"Destroy slot.","Google",{adConfig:e}),a.variables.googletag.cmd.push(function(){a.variables.googletag.destroySlots([r.slots[t]])}),delete this.slots[t])},c);function c(){this.config={inited:!1,loaded:!1,engineUrl:"https://www.googletagservices.com/tag/js/gpt.js",engineName:"gpt"},this.slots={}}r.GoogleAdServer=e},{"../../../constants/constants":3,"../../../constants/variables":4,"../../../utils/utils":46,"../loadManagerModule":20,"../loggers/rowrLoggerModule":24,"./adServerUtil":12,"./googleUtil":13}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RoxotAdServer=void 0;var g=e("../../../constants/constants"),p=e("./adServerUtil"),h=e("../loggers/rowrLoggerModule"),m=e("../loggers/errorLoggerModule"),E=e("../markers/waterfallMarkers"),v=e("../timerManagerModule"),b=e("../../../constants/variables").variables.rowrJq,e=(o.prototype.getAdType=function(){return g.AD_TYPE.BANNER},o.prototype.init=function(e){this.config.inited=!0},o.prototype.isInited=function(){return this.config.inited},o.prototype.getTimerName=function(e){return"RoxotSsp_RenderTimeout-"+e.adId},o.prototype.refreshAd=function(e){var t=e.waterfallConfig.currentSspConfig;if(t){var r=p.adServerUtil.buildAdContentBlock(e);if(r){t.options=t.options||{};for(var o=t.options.bannerPack||this.config.bannerPack,n=t.options.adUrl||this.config.adUrl,i=null,a=null,s=0,l=p.adServerUtil.removeDfpCustomSizes(t.sizes);s<l.length;s++){var d=l[s],u=d[0]+"x"+d[1];if(a=this.config.supportedBannersPacks[o][u]||null){i=d;break}}if(!i)return h.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Empty ad because no support size.","Roxot",{adConfig:e}),m.errorLogger.warning("SSP Roxot","Empty ad because no support size.",{adConfig:e}),void E.waterfallMarkers.markAsEmpty(e);var c=b('<div class="roxotAd" id="'+t.tagId+'"><a href="'+n+'" target="_blank"><img alt="Roxot Ad" src="'+a+'"/></a></div>');c.find("img").css("display","block").css("width",i[0]+"px").css("height",i[1]+"px");var f=t.options.isEmptyAds||this.config.isEmptyAds;v.timerManagerModule.replaceTimeout(this.getTimerName(e),function(){return f?(h.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Empty ad because set isEmptyAds param.","Roxot",{adConfig:e}),void E.waterfallMarkers.markAsEmpty(e)):(h.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Render ad.","Roxot",{adConfig:e}),b("#"+r).html(c),E.waterfallMarkers.markAsRendered(e),void E.waterfallMarkers.markAsVisible(e))},t.options.responseTimeout||this.config.responseTimeout,["ad-"+e.adId]),h.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Stop finish request.","Roxot",{adConfig:e})}}},o.prototype.destroyAd=function(e){v.timerManagerModule.clearTimerIfExists(this.getTimerName(e))},o);function o(){this.config={inited:!1,adUrl:"https://roxot.com",bannerPack:"main",isEmptyAds:!1,responseTimeout:0,supportedBannersPacks:{main:{"120x600":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_120_600.png","160x600":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_160_600.png","240x400":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_240_400.jpg","250x250":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_250_250.png","300x250":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_300_250.png","300x600":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_300_600.png","320x50":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_320_50.png","468x60":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_468_60.png","728x90":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_728_90.png","728x400":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_728_400.jpg","970x250":"https://cdn-plus.roxot-panel.com/ads/main/roxot_ad_970_250.jpg"},"new-year":{"120x600":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_120_600.jpg","160x600":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_160_600.jpg","250x250":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_250_250.jpg","300x250":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_300_250.jpg","300x600":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_300_600.jpg","320x50":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_320_50.jpg","468x60":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_468_60.jpg","728x90":"https://cdn-plus.roxot-panel.com/ads/new-year/roxot_ad_728_90.jpg"},everbly:{"160x600":"https://cdn-plus.roxot-panel.com/ads/everbly/adwords-template_160x600.jpg","240x400":"https://cdn-plus.roxot-panel.com/ads/everbly/adwords-template_240x400.jpg","300x250":"https://cdn-plus.roxot-panel.com/ads/everbly/adwords-template_300x250.jpg","300x600":"https://cdn-plus.roxot-panel.com/ads/everbly/adwords-template_300x600.jpg","720x90":"https://cdn-plus.roxot-panel.com/ads/everbly/adwords-template_720x90.jpg","970x250":"https://cdn-plus.roxot-panel.com/ads/everbly/adwords-template_970x250.jpg"}}}}r.RoxotAdServer=e},{"../../../constants/constants":3,"../../../constants/variables":4,"../loggers/errorLoggerModule":21,"../loggers/rowrLoggerModule":24,"../markers/waterfallMarkers":27,"../timerManagerModule":35,"./adServerUtil":12}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StubAdServer=void 0;var d=e("../../../constants/constants"),n=e("./adServerUtil"),i=e("../markers/waterfallMarkers"),a=e("../timerManagerModule"),u=e("../counterModule"),c=e("../../../constants/variables"),f=e("../../../utils/utils"),g=e("../../../utils/wrapperUtils"),p=c.variables.rowrJq;o.prototype.getAdType=function(){return d.AD_TYPE.BANNER},o.prototype.refreshAd=function(e){var t,r,o=e.waterfallConfig.currentSspConfig;!o||(t=n.adServerUtil.buildAdContentBlock(e))&&(o=(o=o.sizes)?n.adServerUtil.removeDfpCustomSizes(o)[0]:[300,250],(o=p('<div id="stubAd-'+e.adId+'" class="'+this.config.stubAdClass+'" style="width: '+o[0]+"px; height: "+o[1]+'px; background-color: #ccc; color: black; overflow: auto;" data-alert="no build"></div>')).on("click",function(){var e=p(this).data("alert");console.log(e),alert(e)}),p("#"+t).html(o),i.waterfallMarkers.markAsRendered(e),i.waterfallMarkers.markAsVisible(e),r=this,e.cmpAdType=e.isAnonAd?"anonymous ad":"personal ad",e.keyValues=n.adServerUtil.extractKeyValues(e),this.updateStubAdContent(e),a.timerManagerModule.replaceInterval(this.buildTimerId(e),function(){r.updateStubAdContent(e)},1e3,["ad-"+e.adId]))},o.prototype.buildTimerId=function(e){return"stubUpdateContent-"+e.adId},o.prototype.updateStubAdContent=function(e){var t=p("#stubAd-"+e.adId),r=e.waterfallConfig.currentSspConfig,o=r?r.name+"("+u.counterModule.getCounterValue(e,d.COUNTERS.REQUEST_COUNT)+")":"noAdServer",n=c.variables.wrapperConfig.cmp.vendor||"cmp off",r=f.utils.isIframeMode()?"iframe":"top",o=["adId: "+e.adId+" ("+r+")","adServer: "+o,"adStatus: "+e.adStatus,"visibleSeconds: "+e.waterfallConfig.visibleSeconds,"cmp: "+e.cmpAdType+" ("+n+")","keyValues: "+JSON.stringify(e.keyValues),"tagId: "+e.waterfallConfig.currentSspConfig.tagId,"wrapper version: "+d.VERSION],i=o.slice(0),n=e.sspsConfigs.map(function(e){return e.name});o.push("adServers: "+n.join(", ")),o.push("details: "+JSON.stringify(e.details)),i.push("details: "+JSON.stringify(e.details));for(var a=0,s=e.sspsConfigs;a<s.length;a++){var l=s[a];i.push("\n"+l.name+"\n"+JSON.stringify(l))}this.adVisibilityStubAlertInfo(i,e),t.html(o.join("<br>")),t.data("alert",i.join("\n")),c.variables.wrapperConfig.status===d.WRAPPER_STATUSES.PAUSE?t.css("background-color","yellow"):g.wrapperUtils.isVisibleAd(e)?t.css("background-color","green"):t.css("background-color","red")},o.prototype.adVisibilityStubAlertInfo=function(e,t){e.push("\n\nVisibility info\n");var r,o=g.wrapperUtils.calculateVisibleInfo(t);for(r in o)e.push(r+": "+o[r])},o.prototype.destroyAd=function(e){e=this.buildTimerId(e);a.timerManagerModule.clearTimerIfExists(e)},e=o;function o(){this.config={stubAdClass:"stub-ad"}}r.StubAdServer=e},{"../../../constants/constants":3,"../../../constants/variables":4,"../../../utils/utils":46,"../../../utils/wrapperUtils":48,"../counterModule":18,"../markers/waterfallMarkers":27,"../timerManagerModule":35,"./adServerUtil":12}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ThirdPartyAdServer=void 0;var a=e("../../../constants/constants"),s=e("./adServerUtil"),l=e("../markers/waterfallMarkers"),d=e("../loggers/rowrLoggerModule"),u=e("../loggers/errorLoggerModule"),e=e("../../../constants/variables"),c=e.variables.rowrJq,e=(o.prototype.load=function(){},o.prototype.getAdType=function(){return a.AD_TYPE.BANNER},o.prototype.init=function(e){this.config.inited=!0},o.prototype.isInited=function(){return this.config.inited},o.prototype.refreshAd=function(t){var e=s.adServerUtil.buildAdContentBlock(t);if(e)try{var r="waterfallNextSsp_"+t.adId.replace("-","_");this.config.waterfallNextFunctions[t.adId]=r,window[r]=function(){l.waterfallMarkers.markAsEmpty(t)};var o=t.waterfallConfig.currentSspConfig.content||"",o=JSON.parse(o),n="window."+r+"();";o=o.replace("ROXOT_WATERFALL_NEXT",n);var i=c('<div id="third-party-'+t.adId+'">'+o+"</div>");c("#"+e).html(i),l.waterfallMarkers.markAsRendered(t),l.waterfallMarkers.markAsVisible(t)}catch(e){l.waterfallMarkers.markAsEmpty(t),d.rowrLogger.error(a.LOGGER_COMPONENTS.SSP_COMPONENT,"Code insert error.","ThirdParty",{adConfig:t,exception:e}),u.errorLogger.error("SSP ThirdParty","Code insert error.",{adConfig:t,exception:e})}},o.prototype.destroyAd=function(e){this.config.waterfallNextFunctions[e.adId]||window[this.config.waterfallNextFunctions[e.adId]]&&(delete window[this.config.waterfallNextFunctions[e.adId]],delete this.config.waterfallNextFunctions[e.adId])},o);function o(){this.config={inited:!1,waterfallNextFunctions:[]}}r.ThirdPartyAdServer=e},{"../../../constants/constants":3,"../../../constants/variables":4,"../loggers/errorLoggerModule":21,"../loggers/rowrLoggerModule":24,"../markers/waterfallMarkers":27,"./adServerUtil":12}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VideoNowAdServer=void 0;var d=e("../../../constants/constants"),u=e("../loggers/rowrLoggerModule"),c=e("../loggers/errorLoggerModule"),o=e("../loadManagerModule"),n=e("../../../utils/utils"),f=e("../timerManagerModule"),g=e("../markers/waterfallMarkers"),p=e("./adServerUtil"),h=e("../../../constants/variables").variables.rowrJq,e=(i.prototype.getAdType=function(){return d.AD_TYPE.VIDEO},i.prototype.init=function(e){if(this.isInited())throw"Module already inited";var t=e.tagId||!1;if(!t)return u.rowrLogger.error(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Option tagId is empty.","VideoNow"),void c.errorLogger.error("SSP VideoNow","Option tagId is empty.");e.options=e.options||{},this.config.moduleConfig=e.options.moduleConfig||this.config.moduleConfig,this.config.engineUrl=this.config.engineTemplate.replace("__ID__",t),this.load(),this.config.inited=!0},i.prototype.isInited=function(){return this.config.inited},i.prototype.load=function(){o.loadManagerModule.isAlreadyLoaded(this.config.engineName)||(o.loadManagerModule.markAsAlreadyLoaded(this.config.engineName),n.utils.loadScript(this.config.engineUrl,function(){u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"SSP loaded.","VideoNow")}))},i.prototype.getTimerName=function(e){return"VideoNowSsp_RenderTimeout-"+e.adId},i.prototype.refreshAd=function(t){var r={adConfig:t,sspConfig:this.config};if(window.vnModuleCreate||!1){if(!this.config.inited)return u.rowrLogger.error(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Engine not loaded.","VideoNow",r),c.errorLogger.error("SSP VideoNow","Engine not loaded.",r),void g.waterfallMarkers.markAsEmpty(t);var e=p.adServerUtil.buildAdContentBlock(t),o=h('<div id="videonowAdunit" style="width: 100%; height: 100%;"></div>');h("#"+e).html(o);try{var n=Math.round(1e6*Math.random());this.config.requestId=n,u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Request "+n+".","VideoNow",r);var i=this.config.moduleConfig;r.requestSettings=i;var a=window.vnModuleCreate();this.config.module=a,this.config.adUnitId=t.adId;var s=this;a.subscribe(function(){return s.config.requestId!==n?(u.rowrLogger.warning(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Event for different request  "+n+": AdLoaded.","VideoNow",r),void c.errorLogger.warning("SSP VideoNow","Event for different request  "+n+": AdLoaded.",r)):(u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Has ad.","VideoNow",r),a.startAd(i),u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"module.startAd.","VideoNow",r),g.waterfallMarkers.markAsRendered(t),void f.timerManagerModule.replaceTimeout(s.getTimerName(t),function(){c.errorLogger.warning("SSP VideoNow",'Ad server "VideoNow" returns timeout.',r),g.waterfallMarkers.markAsEmpty(t)},this.config.renderTimeoutMilliseconds,["ad-"+t.adId]))},"AdLoaded"),a.subscribe(function(){return s.config.requestId!==n?(u.rowrLogger.warning(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Event for different request  "+n+": AdError.","VideoNow",r),void c.errorLogger.warning("SSP VideoNow","Event for different request  "+n+": AdError.",r)):(u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"No ad or error.","VideoNow",r),void g.waterfallMarkers.markAsEmpty(t))},"AdError"),a.subscribe(function(){return s.config.requestId!==n?(u.rowrLogger.warning(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Event for different request  "+n+": AdStarted.","VideoNow",r),void c.errorLogger.warning("SSP VideoNow","Event for different request  "+n+": AdStarted.",r)):(u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Start ad.","VideoNow",r),void f.timerManagerModule.clearTimerIfExists(s.getTimerName(t)))},"AdStarted"),a.subscribe(function(){return s.config.requestId!==n?(u.rowrLogger.warning(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Event for different request  "+n+": AdImpression.","VideoNow",r),void c.errorLogger.warning("SSP VideoNow","Event for different request  "+n+": AdImpression.",r)):(u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Ad impression.","VideoNow",r),void g.waterfallMarkers.markAsVisible(t))},"AdImpression"),a.subscribe(function(){return s.config.requestId!==n?(u.rowrLogger.warning(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Event for different request  "+n+": AdStopped.","VideoNow",r),void c.errorLogger.warning("SSP VideoNow","Event for different request "+n+": AdStopped.",r)):(u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"End video.","VideoNow",r),void(t.isNeedRefresh=!0))},"AdStopped")}catch(e){r.exception=e,u.rowrLogger.error(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Ad request error.","VideoNow",r),c.errorLogger.error("SSP VideoNow","Ad request error.",r),g.waterfallMarkers.markAsEmpty(t)}}else{var l=this;f.timerManagerModule.replaceTimeout("videoNow__waitModuleLoading-"+t.adId,function(){u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Refresh ad after 100 ms wait.","VideoNow",r),l.refreshAd(t)},100,["ad-"+t.adId])}},i.prototype.destroyAd=function(e){var t;e.adId!==this.config.adUnitId||(t=this.config.module)&&("destroyed"!==(t.state||"undefined")&&(u.rowrLogger.debug(d.LOGGER_COMPONENTS.SSP_COMPONENT,"Destroy module manually.","VideoNow",{adConfig:e,sspConfig:this.config}),t.stopAd()),this.config.module=null,this.config.adUnitId=null,this.config.previousRequestId=this.config.requestId,this.config.requestId=null)},i);function i(){this.config={inited:!1,engineTemplate:"//static.videonow.ru/vn_init.js?profileId=__ID__&initOnly=1",engineName:"video_now",adUnitId:null,module:null,requestId:null,previousRequestId:null,renderTimeoutMilliseconds:1e4,moduleConfig:{checkVisibility:!1},engineUrl:""}}r.VideoNowAdServer=e},{"../../../constants/constants":3,"../../../constants/variables":4,"../../../utils/utils":46,"../loadManagerModule":20,"../loggers/errorLoggerModule":21,"../loggers/rowrLoggerModule":24,"../markers/waterfallMarkers":27,"../timerManagerModule":35,"./adServerUtil":12}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.YandexAdServer=void 0;var a=e("../../../constants/constants"),o=e("../loadManagerModule"),n=e("../../../utils/utils"),s=e("../loggers/rowrLoggerModule"),l=e("../loggers/errorLoggerModule"),d=e("../timerManagerModule"),u=e("../counterModule"),c=e("../markers/waterfallMarkers"),f=e("./adServerUtil"),e=(i.prototype.getAdType=function(){return a.AD_TYPE.BANNER},i.prototype.init=function(e){if(this.isInited())throw"Module already inited";this.load(),this.config.inited=!0},i.prototype.isInited=function(){return this.config.inited},i.prototype.load=function(){var e;this.config.loaded||(o.loadManagerModule.isAlreadyLoaded(this.config.engineName)?this.config.loaded=!0:(o.loadManagerModule.markAsAlreadyLoaded(this.config.engineName),n.utils.loadScript((e=this).config.engineUrl,function(){s.rowrLogger.debug(a.LOGGER_COMPONENTS.SSP_COMPONENT,"SSP loaded.","Yandex"),e.config.loaded=!0})))},i.prototype.refreshAd=function(t){if(this.config.loaded){var e=t.waterfallConfig.currentSspConfig,r=f.adServerUtil.buildAdContentBlock(t);try{s.rowrLogger.debug(a.LOGGER_COMPONENTS.SSP_COMPONENT,"Yandex request.","Yandex",{adConfig:t});var o={blockId:e.tagId,renderTo:r,async:!0,pageNumber:u.counterModule.getCounterValue(t,a.COUNTERS.REQUEST_COUNT),statId:void 0,onRender:function(e){s.rowrLogger.debug(a.LOGGER_COMPONENTS.SSP_COMPONENT,"Has ad.","Yandex",{adConfig:t,yandexResponse:e}),c.waterfallMarkers.markAsRendered(t),c.waterfallMarkers.markAsVisible(t)}};e.options=e.options||{};var n=parseInt(e.options.statsId||null);n&&(o.statId=n),window.Ya.Context.AdvManager.render(o,function(){s.rowrLogger.debug(a.LOGGER_COMPONENTS.SSP_COMPONENT,"No ad.","Yandex",{adConfig:t}),c.waterfallMarkers.markAsEmpty(t)})}catch(e){c.waterfallMarkers.markAsEmpty(t),s.rowrLogger.error(a.LOGGER_COMPONENTS.SSP_COMPONENT,"Request error "+e+".","Yandex",{adConfig:t,exception:e}),l.errorLogger.error("SSP Yandex","Request error "+e+".",{adConfig:t,exception:e})}}else{o="Engine not loaded. Refresh ad after 100 ms.";s.rowrLogger.warning(a.LOGGER_COMPONENTS.SSP_COMPONENT,o,"Yandex",{adConfig:t}),l.errorLogger.warning("SSP Yandex",o,{adConfig:t});var i=this;d.timerManagerModule.setTimeout("yandexSsp__waitModuleLoading-"+t.adId,function(){s.rowrLogger.debug(a.LOGGER_COMPONENTS.SSP_COMPONENT,"Refresh ad after 100 ms wait.","Yandex",{adConfig:t}),i.refreshAd(t)},100,["ad-"+t.adId])}},i.prototype.destroyAd=function(e){},i);function i(){this.config={inited:!1,loaded:!1,engineUrl:"https://an.yandex.ru/system/context.js",engineName:"yandex_context"}}r.YandexAdServer=e},{"../../../constants/constants":3,"../../../utils/utils":46,"../counterModule":18,"../loadManagerModule":20,"../loggers/errorLoggerModule":21,"../loggers/rowrLoggerModule":24,"../markers/waterfallMarkers":27,"../timerManagerModule":35,"./adServerUtil":12}],12:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.adServerUtil=n.DEFAULT_PREBID_TIMEOUT=void 0;var i=e("../loggers/rowrLoggerModule"),a=e("../loggers/errorLoggerModule"),s=e("../../../utils/wrapperUtils"),l=e("../counterModule"),d=e("../../../constants/constants"),o=e("../../../constants/variables");function u(e){var t=function(e){e=e.options.staticSize||!1;if(!e)return!1;Array.isArray(e)&&(e={min:e});return e}(e);if(t){var r=[];return(o=t.fix||!1)&&(r.push("width: "+o[0]+"px;"),r.push("height: "+o[1]+"px;")),(o=t.min||!1)&&(r.push("min-width: "+o[0]+"px;"),r.push("min-height: "+o[1]+"px;")),(o=t.max||!1)&&(r.push("max-width: "+o[0]+"px;"),r.push("max-height: "+o[1]+"px;")),r.join(" ")}if(e.waterfallConfig.adType!==d.AD_TYPE.VIDEO)return"min-width: 1px; min-height: 1px;";var o=(o=n.adServerUtil.removeDfpCustomSizes(e.waterfallConfig.currentSspConfig.sizes)||[])[0]||!1;return o?"width: "+o[0]+"px; height: "+o[1]+"px;":"width: 100%; height: 100%;"}n.DEFAULT_PREBID_TIMEOUT=500,n.adServerUtil={buildAdContentBlock:function(e){var t=e.waterfallConfig.currentSspConfig;if(!t)return i.rowrLogger.error(d.LOGGER_COMPONENTS.WATERFALL_COMPONENT,"No current ad server config.",null,{adConfig:e}),a.errorLogger.error(d.LOGGER_COMPONENTS.WATERFALL_COMPONENT,"No current ad server config.",{adConfig:e}),null;var r=s.wrapperUtils.getAdBlock(e.adId);if(!r)return i.rowrLogger.error(d.LOGGER_COMPONENTS.WATERFALL_COMPONENT,"No ad block.",null,{adConfig:e}),a.errorLogger.error(d.LOGGER_COMPONENTS.WATERFALL_COMPONENT,"No ad block.",{adConfig:e}),null;var o=[e.adId,t.name,l.counterModule.getCounterValue(e,d.COUNTERS.REQUEST_COUNT)].join("-"),n=u(e),t=t.classes||"";return r.html('<div id="'+o+'" class="ad-container '+t+'" data-ad-id="'+e.adId+'" style="overflow: auto; '+n+'"></div>'),o},removeDfpCustomSizes:function(e){return e.slice(0).filter(function(e){return"object"===r(e)})},extractKeyValues:function(e){return Object.assign(((t=e).waterfallConfig=t.waterfallConfig||{},t.waterfallConfig.currentSspConfig=t.waterfallConfig.currentSspConfig||{},t.waterfallConfig.currentSspConfig.options=t.waterfallConfig.currentSspConfig.options||{},t.waterfallConfig.currentSspConfig.options.keyValues||{}),o.variables.wrapperConfig.keyValues,(t=e,{roxotRequestsCount:l.counterModule.getCounterValue(t,d.COUNTERS.REQUEST_COUNT)}),((e=e).options=e.options||{},e.options.customKeyValues||{}));var t}}},{"../../../constants/constants":3,"../../../constants/variables":4,"../../../utils/wrapperUtils":48,"../counterModule":18,"../loggers/errorLoggerModule":21,"../loggers/rowrLoggerModule":24}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.googleUtil=void 0;var o=e("../loadManagerModule"),l=e("../../../constants/variables"),d=e("../loggers/rowrLoggerModule"),n=e("../loggers/errorLoggerModule"),i=e("../repositories/adConfigRepository"),a=e("../markers/waterfallMarkers"),u=e("./adServerUtil"),c=e("../../../constants/constants"),s=l.variables.rowrJq;r.googleUtil={initGpt:function(){o.loadManagerModule.isAlreadyLoaded("gptConfig")||(o.loadManagerModule.markAsAlreadyLoaded("gptConfig"),l.variables.googletag.cmd.push(function(){l.variables.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=s("#"+e.slot.getSlotElementId()).data("ad-id");if(!t){var r={divId:e.slot.getSlotElementId(),event:e};return d.rowrLogger.warning(c.LOGGER_COMPONENTS.SSP_COMPONENT,"Google event slotRenderEnded for undefined (publisher, not Roxot) slot "+e.slot.getSlotElementId(),"Google",r),void n.errorLogger.warning("SSP Google","Google event slotRenderEnded for undefined (publisher, not Roxot) slot "+e.slot.getSlotElementId(),r)}r=i.adConfigRepository.get(t);e.isEmpty?(d.rowrLogger.debug(c.LOGGER_COMPONENTS.SSP_COMPONENT,"No ad.","Google",{adId:t,adConfig:r,event:e}),a.waterfallMarkers.markAsEmpty(r)):(d.rowrLogger.debug(c.LOGGER_COMPONENTS.SSP_COMPONENT,"Has ad.","Google",{adConfig:r,event:e}),a.waterfallMarkers.markAsRendered(r),a.waterfallMarkers.markAsVisible(r))}),l.variables.wrapperConfig.rewriteDfpUrl&&window.top&&l.variables.googletag.pubads().set("page_url",window.top.location.href),l.variables.googletag.pubads().disableInitialLoad(),l.variables.googletag.pubads().enableSingleRequest(),l.variables.googletag.enableServices()}))},buildGptSlot:function(e,t){var r,o=t.waterfallConfig.currentSspConfig,n=l.variables.googletag.defineSlot(o.tagId,((r=(r=o.sizes).slice(0)).unshift([1,1]),r),e).addService(l.variables.googletag.pubads());n.clearTargeting(),o.options=o.options||{};var i,a=u.adServerUtil.extractKeyValues(t),s=!1;for(i in a)a.hasOwnProperty(i)&&(n.setTargeting(i,""+a[i]),s=!0);return s&&d.rowrLogger.debug(c.LOGGER_COMPONENTS.SSP_COMPONENT,"Set key values for gpt request for "+t.adId+" block.","KeyValues",{keyValues:a,adConfig:t}),n}}},{"../../../constants/constants":3,"../../../constants/variables":4,"../loadManagerModule":20,"../loggers/errorLoggerModule":21,"../loggers/rowrLoggerModule":24,"../markers/waterfallMarkers":27,"../repositories/adConfigRepository":31,"./adServerUtil":12}],14:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.GooglePrebidAdServer=void 0;var f=e("../../../../constants/variables"),g=e("../../../../constants/constants"),n=e("../../loadManagerModule"),i=e("../../../../utils/utils"),p=e("../../loggers/rowrLoggerModule"),a=e("../adServerUtil"),h=e("../../timerManagerModule"),m=e("../../loggers/errorLoggerModule"),E=e("../googleUtil"),v=e("./prebidUtil"),e=(s.prototype.getAdType=function(){return g.AD_TYPE.BANNER},s.prototype.init=function(e){if(this.isInited())throw"Module already inited";var t=(f.variables.wrapperConfig.prebid||{}).path||!1;t&&(this.config.prebidEngineUrl=t),this.load(),this.config.inited=!0},s.prototype.isInited=function(){return this.config.inited},s.prototype.load=function(){this.loadGpt(),this.loadPrebid()},s.prototype.loadPrebid=function(){n.loadManagerModule.isAlreadyLoaded(this.config.prebidEngineName)||(n.loadManagerModule.markAsAlreadyLoaded(this.config.prebidEngineName),i.utils.loadScript(this.config.prebidEngineUrl,function(){p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Prebid loaded.","Google-Prebid")}))},s.prototype.loadGpt=function(){n.loadManagerModule.isAlreadyLoaded(this.config.gptEngineName)||(n.loadManagerModule.markAsAlreadyLoaded(this.config.gptEngineName),"object"===o(f.variables.googletag)&&"function"==typeof f.variables.googletag.pubads||i.utils.loadScript(this.config.gptEngineUrl,function(){p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Gpt loaded.","Google-Prebid")}))},s.prototype.refreshAd=function(l){E.googleUtil.initGpt(),v.prebidUtil.initPrebidJs(),f.variables.pbjs.bidderSettings=v.prebidUtil.setBidderSettings(l);var d=l.waterfallConfig.currentSspConfig,u=this,c={dfpAdUnit:d.tagId,divId:a.adServerUtil.buildAdContentBlock(l),sizes:d.sizes,dfpRequest:!1,prebidTimeout:d.options.prebidTimeout||a.DEFAULT_PREBID_TIMEOUT};f.variables.pbjs.que.push(function(){f.variables.googletag.cmd.push(function(){try{var r=function(){try{if(c.dfpRequest)return p.rowrLogger.warning(g.LOGGER_COMPONENTS.SSP_COMPONENT,"DFP request already sent","Google-Prebid",{adConfig:l,requestInfo:c}),void m.errorLogger.warning("SSP Google-Prebid","DFP request already sent",{adConfig:l,requestInfo:c});h.timerManagerModule.clearTimerIfExists(s),c.dfpRequest=!0,f.variables.googletag.pubads().setRequestNonPersonalizedAds(l.isAnonAd),f.variables.googletag.pubads().refresh([a]),p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Google request.","Google-Prebid",{adConfig:l,requestInfo:c})}catch(e){p.rowrLogger.error(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Google request error "+e+".","Google-Prebid",{adConfig:l,requestInfo:c,exception:e}),m.errorLogger.error("SSP Google-Prebid","Google request error "+e+".",{adConfig:l,requestInfo:c,exception:e})}},e=d.options.bids||null;if(!e)return;for(var t,o=!0,n=0,i=f.variables.pbjs.adUnits||[];n<i.length;n++)if(i[n].code===c.dfpAdUnit){o=!1;break}o&&(t=[{code:c.dfpAdUnit,mediaTypes:{banner:{sizes:v.prebidUtil.preparePrebidSizes(c.sizes)}},bids:e}],v.prebidUtil.addPrebidFloorsIfNeed(l,t),f.variables.pbjs.addAdUnits(t),p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Init prebid.","Google-Prebid",{adConfig:l,requestInfo:c}));var a=E.googleUtil.buildGptSlot(c.divId,l);u.slots[l.adId]=a,f.variables.googletag.display(c.divId);var s="prebidTimeout-"+l.adId;h.timerManagerModule.setTimeout(s,function(){p.rowrLogger.error(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Stop work prebid.js by timer.","Google-Prebid",{adConfig:l,requestInfo:c}),m.errorLogger.error("SSP Google-Prebid","Stop work prebid.js by timer.",{adConfig:l,requestInfo:c}),r()},c.prebidTimeout+500,["ad-"+l.adId]),f.variables.pbjs.requestBids({timeout:c.prebidTimeout,adUnitCodes:[c.dfpAdUnit],bidsBackHandler:function(e,t){p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Response prebid ad.","Google-Prebid",{adConfig:l,requestInfo:c,responses:e,hasTimoutBidder:t}),f.variables.pbjs.setTargetingForGPTAsync([c.dfpAdUnit]),r()}}),p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Prebid request.","Google-Prebid",{adConfig:l,requestInfo:c})}catch(e){p.rowrLogger.error(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Request error "+e+".","Google-Prebid",{adConfig:l,requestInfo:c,exception:e}),m.errorLogger.error("SSP Google-Prebid","Request error "+e+".",{adConfig:l,requestInfo:c,exception:e})}})}),p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Load prebid.","Google-Prebid",{adConfig:l,requestInfo:c})},s.prototype.destroyAd=function(e){var t=e.adId,r=this;this.slots.hasOwnProperty(t)&&(p.rowrLogger.debug(g.LOGGER_COMPONENTS.SSP_COMPONENT,"Destroy slot.","Google-Prebid",{adConfig:e}),f.variables.googletag.cmd.push(function(){f.variables.googletag.destroySlots([r.slots[t]])}),delete this.slots[t])},s);function s(){this.config={inited:!1,prebidEngineUrl:f.variables.wrapperConfig.prebid.path,prebidEngineName:"prebid",gptEngineUrl:"https://www.googletagservices.com/tag/js/gpt.js",gptEngineName:"gpt"},this.slots={}}r.GooglePrebidAdServer=e},{"../../../../constants/constants":3,"../../../../constants/variables":4,"../../../../utils/utils":46,"../../loadManagerModule":20,"../../loggers/errorLoggerModule":21,"../../loggers/rowrLoggerModule":24,"../../timerManagerModule":35,"../adServerUtil":12,"../googleUtil":13,"./prebidUtil":17}],15:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.GooglePrebidAmazonAdServer=void 0;var p=e("../../../../constants/variables"),h=e("../../../../constants/constants"),a=e("../../loadManagerModule"),o=e("../../../../utils/utils"),m=e("../../loggers/rowrLoggerModule"),E=e("../adServerUtil"),v=e("../../timerManagerModule"),b=e("../../loggers/errorLoggerModule"),w=e("../googleUtil"),S=e("./prebidUtil");n.prototype.getAdType=function(){return h.AD_TYPE.BANNER},n.prototype.init=function(e){if(this.isInited())throw"Module already inited";var t=(p.variables.wrapperConfig.prebid||{}).path||!1;t&&(this.config.prebidEngineUrl=t),this.load(),this.config.inited=!0},n.prototype.isInited=function(){return this.config.inited},n.prototype.load=function(){this.loadGpt(),this.loadPrebid(),this.loadAmazonPublisherService()},n.prototype.loadGpt=function(){a.loadManagerModule.isAlreadyLoaded(this.config.gptEngineName)||(a.loadManagerModule.markAsAlreadyLoaded(this.config.gptEngineName),"object"===i(p.variables.googletag)&&"function"==typeof p.variables.googletag.pubads||o.utils.loadScript(this.config.gptEngineUrl,function(){m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Gpt loaded.","Google-Prebid-Amazon")}))},n.prototype.loadPrebid=function(){a.loadManagerModule.isAlreadyLoaded(this.config.prebidEngineName)||(a.loadManagerModule.markAsAlreadyLoaded(this.config.prebidEngineName),o.utils.loadScript(this.config.prebidEngineUrl,function(){m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Prebid loaded.","Google-Prebid-Amazon")}))},n.prototype.loadAmazonPublisherService=function(){var r,o,e,t;function n(e,t){o[r]._Q.push([e,t])}a.loadManagerModule.isAlreadyLoaded(this.config.amazonPublisherServiceEngineName)||(a.loadManagerModule.markAsAlreadyLoaded(this.config.amazonPublisherServiceEngineName),"object"===("undefined"==typeof apstag?"undefined":i(apstag))&&"function"==typeof apstag.init||(r="apstag",o=window,t=document,o[r]||(o[r]={init:function(){n("i",arguments)},fetchBids:function(){n("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(e=t.createElement("script")).async=!0,e.src="//c.amazon-adsystem.com/aax2/apstag.js",(t=t.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t)),apstag.init({pubID:"403a8b1c-ff6b-48a4-b275-8511b7d58990",adServer:"googletag"}),m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Amazon Publisher Service (aps) loaded.","Google-Prebid-Amazon")))},n.prototype.refreshAd=function(u){w.googleUtil.initGpt(),S.prebidUtil.initPrebidJs(),p.variables.pbjs.bidderSettings=S.prebidUtil.setBidderSettings(u);var c=u.waterfallConfig.currentSspConfig,f=this,g={dfpAdUnit:c.tagId,divId:E.adServerUtil.buildAdContentBlock(u),sizes:c.sizes,apsResponse:!1,prebidResponse:!1,dfpRequest:!1,prebidTimeout:c.options.prebidTimeout||E.DEFAULT_PREBID_TIMEOUT};p.variables.pbjs.que.push(function(){p.variables.googletag.cmd.push(function(){try{var e=function(){try{if(g.dfpRequest)return m.rowrLogger.warning(h.LOGGER_COMPONENTS.SSP_COMPONENT,"DFP request already sent","Google-Prebid-Amazon",{adConfig:u,requestInfo:g}),void b.errorLogger.warning("SSP Google-Prebid-Amazon","DFP request already sent",{adConfig:u,requestInfo:g});v.timerManagerModule.clearTimerIfExists(l),g.dfpRequest=!0,p.variables.googletag.pubads().setRequestNonPersonalizedAds(u.isAnonAd),p.variables.googletag.pubads().refresh([s]),m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Google request.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g})}catch(e){m.rowrLogger.error(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Google request error "+e+".","Google-Prebid-Amazon",{adConfig:u,requestInfo:g,exception:e}),b.errorLogger.error("SSP Google-Prebid-Amazon","Google request error "+e+".",{adConfig:u,requestInfo:g,exception:e})}},r=function(){g.apsResponse&&g.prebidResponse&&e()},t=c.options.bids||null;if(!t)return;for(var o,n=!0,i=0,a=p.variables.pbjs.adUnits||[];i<a.length;i++)if(a[i].code===g.dfpAdUnit){n=!1;break}n&&(o=[{code:g.dfpAdUnit,mediaTypes:{banner:{sizes:S.prebidUtil.preparePrebidSizes(g.sizes)}},bids:t}],S.prebidUtil.addPrebidFloorsIfNeed(u,o),p.variables.pbjs.addAdUnits(o),m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Init prebid.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g}));var s=w.googleUtil.buildGptSlot(g.divId,u);f.slots[u.adId]=s,p.variables.googletag.display(g.divId);var l="amazonPrebidTimeout-"+u.adId;v.timerManagerModule.setTimeout(l,function(){m.rowrLogger.error(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Stop work prebid.js by timer.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g}),b.errorLogger.error("SSP Google-Prebid-Amazon","Stop work prebid.js by timer.",{adConfig:u,requestInfo:g}),e()},g.prebidTimeout+500,["ad-"+u.adId]),p.variables.pbjs.requestBids({timeout:g.prebidTimeout,adUnitCodes:[g.dfpAdUnit],bidsBackHandler:function(e,t){m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Response prebid ad.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g,responses:e,hasTimoutBidder:t}),p.variables.pbjs.setTargetingForGPTAsync([g.dfpAdUnit]),g.prebidResponse=!0,r()}}),m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Prebid request.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g}),apstag.fetchBids({slots:[{slotID:g.divId,slotName:g.dfpAdUnit,sizes:(d=g.sizes,E.adServerUtil.removeDfpCustomSizes(d))}],timeout:g.prebidTimeout},function(e){m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Response aps ad.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g,bids:e}),apstag.setDisplayBids(),g.apsResponse=!0,r()}),m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Amazon request.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g})}catch(e){m.rowrLogger.error(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Request error "+e+".","Google-Prebid-Amazon",{adConfig:u,requestInfo:g,exception:e}),b.errorLogger.error("SSP Google-Prebid-Amazon","Request error "+e+".",{adConfig:u,requestInfo:g,exception:e})}var d})}),m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Load prebid.","Google-Prebid-Amazon",{adConfig:u,requestInfo:g})},n.prototype.destroyAd=function(e){var t=e.adId,r=this;this.slots.hasOwnProperty(t)&&(m.rowrLogger.debug(h.LOGGER_COMPONENTS.SSP_COMPONENT,"Destroy slot.","Google-Prebid-Amazon",{adConfig:e}),p.variables.googletag.cmd.push(function(){p.variables.googletag.destroySlots([r.slots[t]])}),delete this.slots[t])},e=n;function n(){this.config={inited:!1,prebidEngineUrl:p.variables.wrapperConfig.prebid.path,prebidEngineName:"prebid",gptEngineUrl:"https://www.googletagservices.com/tag/js/gpt.js",gptEngineName:"gpt",amazonPublisherServiceEngineName:"aps"},this.slots={}}r.GooglePrebidAmazonAdServer=e},{"../../../../constants/constants":3,"../../../../constants/variables":4,"../../../../utils/utils":46,"../../loadManagerModule":20,"../../loggers/errorLoggerModule":21,"../../loggers/rowrLoggerModule":24,"../../timerManagerModule":35,"../adServerUtil":12,"../googleUtil":13,"./prebidUtil":17}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PrebidAdServer=void 0;var d=e("../../../../constants/variables"),u=e("../../../../constants/constants"),o=e("../../loadManagerModule"),n=e("../../../../utils/utils"),c=e("../../loggers/rowrLoggerModule"),i=e("../adServerUtil"),f=e("../../timerManagerModule"),g=e("../../loggers/errorLoggerModule"),p=e("../../markers/waterfallMarkers"),h=e("./prebidUtil"),m=d.variables.rowrJq,e=(a.prototype.getAdType=function(){return u.AD_TYPE.BANNER},a.prototype.init=function(e){if(this.isInited())throw"Module already inited";var t=(d.variables.wrapperConfig.prebid||{}).path||null;t&&(this.config.prebidEngineUrl=t),this.load(),this.config.inited=!0},a.prototype.isInited=function(){return this.config.inited},a.prototype.load=function(){o.loadManagerModule.isAlreadyLoaded(this.config.prebidEngineName)||(o.loadManagerModule.markAsAlreadyLoaded(this.config.prebidEngineName),n.utils.loadScript(this.config.prebidEngineUrl,function(){c.rowrLogger.debug(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Prebid loaded.","Prebid")}))},a.prototype.refreshAd=function(a){h.prebidUtil.initPrebidJs(),d.variables.pbjs.bidderSettings=h.prebidUtil.setBidderSettings(a);var s=a.waterfallConfig.currentSspConfig,l={adUnit:s.tagId,divId:i.adServerUtil.buildAdContentBlock(a),sizes:s.sizes,prebidTimeout:s.options.prebidTimeout||i.DEFAULT_PREBID_TIMEOUT};d.variables.pbjs.que.push(function(){try{var e=s.options.bids||null;if(!e)return;for(var t,r=!0,o=0,n=d.variables.pbjs.adUnits||[];o<n.length;o++)if(n[o].code===l.adUnit){r=!1;break}r&&(t=[{code:l.adUnit,mediaTypes:{banner:{sizes:h.prebidUtil.preparePrebidSizes(l.sizes)}},bids:e}],h.prebidUtil.addPrebidFloorsIfNeed(a,t),d.variables.pbjs.addAdUnits(t),c.rowrLogger.debug(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Init prebid.","Prebid",{adConfig:a,requestInfo:l}));var i="prebidTimeout-"+a.adId;f.timerManagerModule.setTimeout(i,function(){c.rowrLogger.error(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Stop work prebid.js by timer.","Prebid",{adConfig:a,requestInfo:l}),g.errorLogger.error("SSP Prebid","Stop work prebid.js by timer.",{adConfig:a,requestInfo:l}),p.waterfallMarkers.markAsEmpty(a)},l.prebidTimeout+500,["ad-"+a.adId]),d.variables.pbjs.requestBids({timeout:l.prebidTimeout,adUnitCodes:[l.adUnit],bidsBackHandler:function(e,t){c.rowrLogger.debug(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Response prebid ad.","Prebid",{adConfig:a,requestInfo:l,responses:e,hasTimoutBidder:t});var r=d.variables.pbjs.getHighestCpmBids(l.adUnit);if(!r.length)return c.rowrLogger.debug(u.LOGGER_COMPONENTS.SSP_COMPONENT,"No ad.","Prebid",{adConfig:a,requestInfo:l}),p.waterfallMarkers.markAsEmpty(a),void f.timerManagerModule.clearTimerIfExists(i);e=r[0];c.rowrLogger.debug(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Has ad.","Prebid",{adConfig:a,requestInfo:l,bid:e,bids:r});t=m('<iframe style="border: 0; margin: 0; width: '+e.width+"px; height: "+e.height+'px;" width="'+e.width+'" height="'+e.height+'">'),r=m("#"+l.divId);if(!r)return c.rowrLogger.error(u.LOGGER_COMPONENTS.SSP_COMPONENT,"There are no adBlock.","Prebid",{adConfig:a,requestInfo:l}),g.errorLogger.error("SSP Prebid","There are no adBlock.",{adConfig:a,requestInfo:l}),p.waterfallMarkers.markAsEmpty(a),void f.timerManagerModule.clearTimerIfExists(i);r.html(t);t=t[0].contentDocument||t[0].contentWindow.document;m(t).find("body").css("margin",0),d.variables.pbjs.renderAd(t,e.adId),p.waterfallMarkers.markAsRendered(a),p.waterfallMarkers.markAsVisible(a),f.timerManagerModule.clearTimerIfExists(i)}}),c.rowrLogger.debug(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Prebid request.","Prebid",{adConfig:a,requestInfo:l})}catch(e){c.rowrLogger.error(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Request error "+e+".","Prebid",{adConfig:a,requestInfo:l,exception:e}),g.errorLogger.error("SSP Prebid","Request error "+e+".",{adConfig:a,requestInfo:l,exception:e})}}),c.rowrLogger.debug(u.LOGGER_COMPONENTS.SSP_COMPONENT,"Load prebid.","Prebid",{adConfig:a,requestInfo:l})},a.prototype.destroyAd=function(e){},a);function a(){this.config={inited:!1,prebidEngineUrl:d.variables.wrapperConfig.prebid.path,prebidEngineName:"prebid"}}r.PrebidAdServer=e},{"../../../../constants/constants":3,"../../../../constants/variables":4,"../../../../utils/utils":46,"../../loadManagerModule":20,"../../loggers/errorLoggerModule":21,"../../loggers/rowrLoggerModule":24,"../../markers/waterfallMarkers":27,"../../timerManagerModule":35,"../adServerUtil":12,"./prebidUtil":17}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prebidUtil=void 0;var o=e("../../loadManagerModule"),n=e("../../../../constants/variables"),i=e("../../loggers/rowrLoggerModule"),a=e("../../../../utils/utils"),s=e("../adServerUtil"),l=e("../../../../constants/constants"),d={};function u(e){var t=((e.options||{}).prebid||{}).adjustment||{},e=a.utils.deepClone(n.variables.wrapperConfig.prebid.adjustment);return a.utils.mergeConfigs(e,t),e}r.prebidUtil={initPrebidJs:function(){o.loadManagerModule.isAlreadyLoaded("prebidConfig")||(o.loadManagerModule.markAsAlreadyLoaded("prebidConfig"),n.variables.pbjs.que.push(function(){var e=n.variables.wrapperConfig.prebid.config||{};e.priceGranularity="dense",e.currency={adServerCurrency:"USD",conversionRateFile:"https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json"},n.variables.wrapperConfig.cmp.vendor&&(e.consentManagement={gdpr:{cmpApi:"iab",timeout:0,defaultGdprScope:!0}}),n.variables.pbjs.setConfig(e);e=n.variables.wrapperConfig.prebid.analytics||!1;e&&n.variables.pbjs.enableAnalytics({provider:"roxot",options:e})}))},setBidderSettings:function(e){function t(r){o[r]={bidCpmAdjustment:function(e,t){return e*(e=r,t=t.adUnitCode,(d[t]||{})[e]||1)}}}var r,o={},n=u(e),e=e.waterfallConfig.currentSspConfig.tagId;for(r in d[e]=n)t(r);return i.rowrLogger.debug(l.LOGGER_COMPONENTS.SSP_COMPONENT,"prebid__setBidderSettings",null,{bidCpmAdjustmentMapping:d}),o},preparePrebidSizes:function(e){return s.adServerUtil.removeDfpCustomSizes(e)},addPrebidFloorsIfNeed:function(e,t){var r,e=((r=e).waterfallConfig=r.waterfallConfig||{},r.waterfallConfig.currentSspConfig=r.waterfallConfig.currentSspConfig||{},r.waterfallConfig.currentSspConfig.options=r.waterfallConfig.currentSspConfig.options||{},r.waterfallConfig.currentSspConfig.options.prebidFloors||0);e&&((r=n.variables.wrapperConfig.prebid.config||{}).floors||(r.floors={enforcement:{floorDeals:!1},data:{currency:"RUB",schema:{fields:["adUnitCode"]},values:{"*":0}}}),t=t[0].code,r.floors.data.values[t]=e,n.variables.pbjs.setConfig(r))}}},{"../../../../constants/constants":3,"../../../../constants/variables":4,"../../../../utils/utils":46,"../../loadManagerModule":20,"../../loggers/rowrLoggerModule":24,"../adServerUtil":12}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.counterModule=void 0;var r=e("../../constants/constants");function i(e,t,r){return((n.counterModule.counters[e.adId]||{})[t]||{})[r]||0}function o(e,t,r){var o=i(e,t,r);e=e,t=t,r=r,o=++o,n.counterModule.counters[e.adId]=n.counterModule.counters[e.adId]||{},n.counterModule.counters[e.adId][t]=n.counterModule.counters[e.adId][t]||{},n.counterModule.counters[e.adId][t][r]=o}function a(e){return e+"-"+r.COUNTERS.REQUEST_COUNT}n.counterModule={counters:{},getCounterValue:function(e,t){return i(e,e.waterfallConfig.currentSspConfig.name,t)},incrementCounterValue:function(e,t){o(e,e.waterfallConfig.currentSspConfig.name,t)},incrementTagRequestCounterValue:function(e,t){o(e,e.waterfallConfig.currentSspConfig.name,a(t))},getTagRequestCounterValue:function(e,t,r){return i(e,t,a(r))}}},{"../../constants/constants":3}],19:[function(e,t,o){"use strict";var r=function(e,a,s,l){return new(s=s||Promise)(function(r,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,n)}i((l=l.apply(e,a||[])).next())})},l=function(r,o){var n,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(r,s)}catch(e){t=[6,e],i=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.dispatcherModule=void 0;var n=e("../../constants/constants"),i=e("../../constants/variables");window.engineMode=window.parent.engineMode||i.variables.rom.icmd[0].adBlockMode,o.dispatcherModule={callbacks:{},on:function(e,t){for(var r=0,o=e=!Array.isArray(e)?[e]:e;r<o.length;r++){var n=o[r];this._on(n,t)}},onManagerEvent:function(e,t){"main"!==window.engineMode&&window!==window.parent||this.on(e,t)},onWrapperEvent:function(e,t){"main"!==window.engineMode&&window===window.parent||this.on(e,t)},off:function(e,t){for(var r=0,o=e=!Array.isArray(e)?[e]:e;r<o.length;r++){var n=o[r];this.callbacks[n]=this.callbacks[n]||[];var i=this.callbacks[n].indexOf(t);-1<i&&this.callbacks[n].splice(i,1)}},onAll:function(e){this.onAllWrapperEvents(e),this.onAllManagerEvents(e)},onAllWrapperEvents:function(t){var r=this;Object.values(n.WRAPPER_EVENTS).forEach(function(e){Object.values(e).forEach(function(e){r._on(e,t)})})},onAllManagerEvents:function(t){var r=this;Object.values(n.MANAGER_EVENTS).forEach(function(e){r._on(e,t)})},dispatch:function(e,t){(t=t||{}).event=e,this.callbacks[e]=this.callbacks[e]||[];var r,o=this.callbacks[e].slice(0);for(r in o)o.hasOwnProperty(r)&&o[r](t)},dispatchAsync:function(a,s){return r(this,void 0,void 0,function(){var t,r,o,n,i;return l(this,function(e){switch(e.label){case 0:for(o in(s=s||{}).event=a,this.callbacks[a]=this.callbacks[a]||[],t=this.callbacks[a].slice(0),r=[],t)r.push(o);n=0,e.label=1;case 1:return n<r.length?(i=r[n],t.hasOwnProperty(i)?[4,t[i](s)]:[3,3]):[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},_on:function(e,t){this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t)}},o.dispatcherModule.dispatchAsync,window.roxotDispatcher=window.roxotDispatcher||o.dispatcherModule;var a=window.roxotDispatcher;function s(e,t){return e+" deprecated, use "+t}e=i.variables.rom;e.on=function(e){console.warn(s("rom.on","roxotDispatcher.on")),a.onAll(e)},e.off=function(e){for(var t in console.warn(s("rom.off","roxotDispatcher.off")),o.dispatcherModule.callbacks){var r;o.dispatcherModule.callbacks.hasOwnProperty(t)&&(-1<(r=o.dispatcherModule.callbacks[t].indexOf(e))&&o.dispatcherModule.callbacks[t].splice(r,1))}},e.dispatch=function(e){console.warn(s("rom.dispatch","roxotDispatcher.dispatch"));var t=(e=e||{}).event||"unknown";a.dispatch(t,e)};i=i.variables.rowr;i.on=function(e,t){console.warn(s("rowr.on","roxotDispatcher.on")),a.on(e,t)},i.onAll=function(e){console.warn(s("rowr.onAll","roxotDispatcher.onAll")),a.onAll(e)},i.off=function(e,t){console.warn(s("rowr.off","roxotDispatcher.off")),a.off(e,t)}},{"../../constants/constants":3,"../../constants/variables":4}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loadManagerModule=void 0,r.loadManagerModule={loadManagerModules:[],isAlreadyLoaded:function(e){return-1!==this.loadManagerModules.indexOf(e)},markAsAlreadyLoaded:function(e){this.loadManagerModules.push(e)}}},{}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorLogger=void 0;var o=e("../../../constants/constants");function n(e,t,r){var o=[],n=(r.adConfig||{}).details||{},r=n.placement,n=n.tagTitle||!1;return n&&o.push('"'+n+'"'),o.length||(o=['"main"']),i(t='| Block "'+e+'" '+(r?'| Placement "'+r+'", AdTag '+o.join(", "):"")+" : "+t)}function i(e){var t=new Date,r=[t.getHours(),t.getMinutes(),t.getSeconds()].join(":");return(r+="."+t.getMilliseconds())+": RoxotEngine ("+o.VERSION+") "+e}r.errorLogger={enabled:null,init:function(){this.enabled=!!localStorage.getItem("roxot.debug.errorLogger")},error:function(e,t,r){void 0===r&&(r={}),this.enabled&&(t=n(e,t,r),console.error(t,r))},warning:function(e,t,r){void 0===r&&(r={}),this.enabled&&(t=n(e,t,r),console.warn(t,r))},log:function(e,t,r){void 0===r&&(r={}),this.enabled&&(t=n(e,t,r),console.log(t,r))},simpleLog:function(e,t){void 0===t&&(t={}),this.enabled&&(e=i(e),console.log(e,t))}}},{"../../../constants/constants":3}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.profilerLogger=void 0;var i=e("../../../constants/constants");r.profilerLogger={events:{},enabled:null,init:function(){this.enabled=!!localStorage.getItem(i.LOCAL_STORAGE_KEYS.DEBUG.CONSOLE_PROFILER)},profile:function(e){if(this.enabled){var t=((e.adConfig||{}).details||{}).tagTitle||!1;if(t){if(e.event===i.WRAPPER_EVENTS.AD_LEVEL.REQUEST)return this.events[t]=[],void this.events[t].push({date:new Date,event:e});if(this.events.hasOwnProperty(t)){if([i.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER,i.WRAPPER_EVENTS.AD_LEVEL.VISIBLE].includes(e.event)){this.events[t].push({date:new Date,event:e});var r=this.events[t],o=r[0],n=(r[r.length-1].date.getTime()-o.date.getTime())/1e3,o="ROWR Profiler for "+t+". Time: "+n+" sec.";return 10<n?console.error(o,r):5<n?console.warn(o,r):console.log(o,r),void delete this.events[t]}this.events[t].push({date:new Date,event:e})}}}}}},{"../../../constants/constants":3}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.romLogger=void 0;var o=e("../../../constants/constants");function n(e){var t=new Date,r=[t.getHours(),t.getMinutes(),t.getSeconds()].join(":");return(r+="."+t.getMilliseconds())+": RoxotManager ("+o.VERSION+"): "+e}r.romLogger={enabled:null,init:function(){this.enabled=!!localStorage.getItem("rom.debug.consoleDebug")},log:function(e,t){void 0===t&&(t={}),this.enabled&&(e=n(e),console.log(e,t))},error:function(e,t){void 0===t&&(t={}),this.enabled&&(e=n(e),console.error(e,t))},warning:function(e,t){void 0===t&&(t={}),this.enabled&&(e=n(e),console.warn(e,t))}}},{"../../../constants/constants":3}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rowrLogger=void 0;var a=e("../../../constants/constants");function n(e,t,r,o){var n=new Date,i=[n.getHours(),n.getMinutes(),n.getSeconds()].join(":");i+="."+n.getMilliseconds(),Array.isArray(r)||(r=r?[r]:[]);o=((o.adConfig||{}).details||{}).tagTitle||!1;return o&&r.push(o),r.length||(r=["main"]),i+": ROWR ("+a.VERSION+") | "+e+" | "+r.join(", ")+": "+t}r.rowrLogger={enabled:null,components:[],init:function(){this.enabled=!!localStorage.getItem(a.LOCAL_STORAGE_KEYS.DEBUG.CONSOLE_DEBUG),this.components=(localStorage.getItem(a.LOCAL_STORAGE_KEYS.DEBUG.CONSOLE_DEBUG_COMPONENTS)||"").split(",").map(function(e){return e.trim().toLowerCase()}).filter(function(e){return!!e}),this.enabled&&(console.log("ROWR log enabled"),this.components.length?console.log("ROWR components: "+this.components.join(", ")):console.warn('ROWR: You should set components list "," separated or "all" in '+a.LOCAL_STORAGE_KEYS.DEBUG.CONSOLE_DEBUG_COMPONENTS+' local storage key. For example: "wrapper, waterfall" or "all".'))},logEvent:function(e){var t=((e.adConfig||{}).details||{}).tagTitle||!1,r='Event "'+e.event+'"';t&&(r+=" in "+t),this.log(a.LOGGER_COMPONENTS.EVENT_COMPONENT,r,null,{event:e})},log:function(e,t,r,o){void 0===r&&(r=[]),void 0===o&&(o={}),this._isEnabled(e)&&(r=n(e,t,r,o),console.log(r,o))},warning:function(e,t,r,o){void 0===r&&(r=[]),void 0===o&&(o={}),this._isEnabled(e)&&(r=n(e,t,r,o),console.warn(r,o))},error:function(e,t,r,o){void 0===r&&(r=[]),void 0===o&&(o={}),this._isEnabled(e)&&(r=n(e,t,r,o),console.error(r,o))},debug:function(e,t,r,o){void 0===r&&(r=[]),void 0===o&&(o={}),this._isEnabled(e)&&(r=n(e,t,r,o),console.debug(r,o))},_isEnabled:function(e){return!!this.enabled&&(!!this.components.includes(e.toLowerCase())||!!this.components.includes("all"))}}},{"../../../constants/constants":3}],25:[function(i,e,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(e,a,s,l){return new(s=s||Promise)(function(r,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,n)}i((l=l.apply(e,a||[])).next())})},s=function(r,o){var n,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(r,s)}catch(e){t=[6,e],i=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.managerModule=void 0;var w=i("../../constants/constants"),S=i("../../utils/utils"),y=i("./loggers/errorLoggerModule"),C=i("./loggers/romLoggerModule"),l=i("./placementSettingsModule"),d=i("../../constants/variables"),N=i("./dispatcherModule"),u=i("./loggers/rowrLoggerModule"),c=i("./placementModule"),f={ENABLED:!1,OFFSET:100,RERUN_TIMEOUT:1e3};function g(e,t,r){var o,n,i=r.experiments.filter(function(e){return e.hasOwnProperty("chance")&&0<e.chance}),a=function e(t){if(0===t.length)return!1;if(1===t.length)return t[0];var r=p(t);var o=S.utils.getRandomNumber(r);t=t.slice(0);var r=t.shift();if(o<=r.chance)return r;return e(t)}(i);o=e,n=t,r.experiments.forEach(function(e){isNaN(e.chance)&&y.errorLogger.warning(o,'Experiment has an incorrect chance value "'+e.chance+'".',{div:o,config:n,managerConfig:d.variables.romConfig,experiment:e})});i={div:e,config:t,managerConfig:d.variables.romConfig,sizeCase:r,experiments:i,experiment:a};return a?(C.romLogger.log("Experiment has been chosen in "+e+" block",i),N.dispatcherModule.dispatch(w.MANAGER_EVENTS.EXPERIMENT_CHOSEN,{config:t,experiment:a}),a):(y.errorLogger.error(e,"Experiments with chance > 0 not found.",i),!1)}function p(e){return e.map(function(e){return e.chance}).reduce(function(e,t){return e+t})}function A(e,t,r,o){return t.options=t.options||{},t.options.lazyLoading=t.options.lazyLoading||{},e.options=e.options||{},e.options.lazyLoading=e.options.lazyLoading||{},S.utils.getOptionFromConfigs(r,[t.options.lazyLoading,e.options.lazyLoading,d.variables.romConfig.lazyLoading],o)}function T(e,t,r){var o={div:e,config:t,managerConfig:d.variables.romConfig},n=O(e);if(!n)return C.romLogger.warning('Roxot Manager: Lazy loading: Block was removed "'+e+'".',o),void y.errorLogger.warning(e,'Lazy loading: Block was removed "'+e+'".',o);if(!A(t,r,"enabled",f.ENABLED))return 1;var i=A(t,r,"offset",f.OFFSET),a=window.pageYOffset-i,t=window.pageYOffset+window.innerHeight+i,r=function e(t){if(!t)return 0;return t.offsetTop+e(t.offsetParent)}(n),n=r+n.offsetHeight;if(o.windowOffset=i,o.windowTop=a,o.windowBottom=t,o.blockTop=r,(o.blockBottom=n)<a)C.romLogger.log('Roxot Manager: Lazy loading: Ad block "'+e+'" above window on '+(a-n)+"px",o);else{if(!(t<r))return C.romLogger.log('Roxot Manager: Lazy loading: Ad block "'+e+'" into window',o),1;C.romLogger.log('Roxot Manager: Lazy loading: Ad block "'+e+'" below window on '+(r-t)+"px",o)}}function M(h,m,e){var E={div:h,config:m,managerConfig:d.variables.romConfig};if(T(h,m,e)){y.errorLogger.log(h,"Run experiment.",E);var v=O(h),b=[];e.tags.forEach(function(t){try{var e=document.createElement("div");e.setAttribute("class","roxotAdContainer"),e.style.textAlign="center",e.style.verticalAlign="top",e.style.width="100%";var r=v.insertAdjacentElement("beforeend",e),o=t.style||{};for(f in o)o.hasOwnProperty(f)&&(r.style[f]=o[f]);var n=t.attributes||{};for(f in n)n.hasOwnProperty(f)&&r.setAttribute(f,n[f]);var i=t.data||{};for(f in i)i.hasOwnProperty(f)&&(r.dataset[f]=i[f]);var a=S.utils.generateId("roxotAd-"),s=t.classes||[];s.push("roxotAd");var l=document.createElement("div");l.setAttribute("class",s.join(" ")),l.setAttribute("id",a),l.style.display="inline-block",r.appendChild(l);var d=t.placeholder;if(d){r.style.overflow="hidden";var u=d.label||"",c=document.createElement("div");c.innerText=u,c.style.width="100%",c.style.textAlign="center",c.style.padding="5px";var f,g=d.style||{};for(f in g)g.hasOwnProperty(f)&&(c.style[f]=g[f]);var p=d.insertPosition||"beforeend";r.insertAdjacentElement(p,c)}N.dispatcherModule.dispatch(w.MANAGER_EVENTS.BEFORE_AD_BLOCK_DATA_PUSH,{config:m,adBlockDivId:a,placementDivId:h,tag:t}),b.push({divId:a,adConfig:t.adConfig,wrapperConfig:t.wrapperConfig||{}})}catch(e){E.tag=t,C.romLogger.error("Error in process tag: "+e,E),y.errorLogger.error(h,"Error in process tag: "+e,E)}});var o=c.placementModule.buildConfig(b);if(b.length){if(E.ads=b,"iframe"===d.variables.romConfig.adBlockMode){C.romLogger.log("Run rowr in iframe",E);var t,n=d.variables.romConfig.engineUrl,r=d.variables.romConfig.keyValues||{},i=[];for(t in r)i.push("setKeyValue('"+t+"', '"+r[t]+"');");var i=i.join("\n"),a=document.querySelector("[nonce]"),s=a?a.getAttribute("nonce"):"undefined-nonce";b.forEach(function(e){var t=S.utils.generateId("placement_iframe_");o.iframesIds[e.divId]=t;var r='\n        <!DOCTYPE html>\n        <html style="display: table;">\n        <head></head>\n        <body style="margin: 0;">\n        <div id="'+e.divId+'"></div>\n        <script async src="'+n+'" nonce="'+s+'"><\/script>\n        <script nonce="'+s+"\">\n        window.rowr = window.rowr || {cmd: []};\n        let iframeRowr = window.rowr;\n        iframeRowr.iframeId = '"+t+"';\n        function setKeyValue(key, value) {\n            iframeRowr.cmd.push(function() {\n                iframeRowr.setKeyValue(key, value);\n            });\n        }\n        "+i+"\n        iframeRowr.cmd.push(function() {\n          // Window.top was changed to window.parent for iframe videonow support\n          let mainRom = window.parent.rom = window.parent.rom || {cmd: []};\n          let iframeRoxotDispatcher = window.roxotDispatcher;\n          let mainRoxotDispatcher = window.parent.roxotDispatcher;\n          mainRom.cmd.push(function () {\n            iframeRoxotDispatcher.onAllWrapperEvents(function (data) {\n                // If remove iframe window.top(parent) may be null.\n                if(window.parent) {\n                    mainRoxotDispatcher.dispatch(data.event,data);\n                }\n            });\n          });\n          \n          iframeRowr.run("+JSON.stringify(d.variables.romConfig.wrapperConfig)+");\n          iframeRowr.setAdConfig('"+e.divId+"', "+JSON.stringify(e.adConfig)+");\n        });\n        <\/script>\n        </body>\n        </html>\n  ";!function(e,t,r){var o=document.createElement("iframe");o.setAttribute("id",t),o.setAttribute("class","rom-iframe"),o.style.border="0",o.style.margin="0",o.style.padding="0",o.style.overflow="hidden",o.style.width="0",o.style.height="0",o.style.display="table";t=document.getElementById(e);t?(t.innerText="",t.appendChild(o),(o=o.contentDocument||o.contentWindow.document).open(),o.write(r),o.close()):(C.romLogger.error("Can not found ad block "+e),y.errorLogger.error(e,"Can not found ad block"+e))}(e.divId,t,r)})}else C.romLogger.log("Run rowr in main",E),d.variables.rowr.cmd.push(function(){b.forEach(function(e){d.variables.rowr.setAdConfig(e.divId,e.adConfig)})});y.errorLogger.log(h,b.length+" adTag(s) have been initialized. Run RoxotWrapper...",E),C.romLogger.log("Build "+b.length+" tags and run roxot wrapper for "+h+" block.",E)}}else setTimeout(function(){M(h,m,e)},A(m,e,"rerunTimeout",f.RERUN_TIMEOUT))}function O(e){return document.getElementById(e)}function h(e,t){e.hostConfig&&Object.keys(e.hostConfig).length&&e.hostConfig[t]&&e.hostConfig[t].wrapperOptions&&Object.keys(e.hostConfig[t].wrapperOptions).length&&!function e(t,r){for(var o=0,n=Object.keys(r);o<n.length;o++){var i=n[o];!t.hasOwnProperty(i)||"object"!==a(r[i])?t[i]=r[i]:e(t[i],r[i])}}(d.variables.romConfig.wrapperConfig,e.hostConfig[t].wrapperOptions)}var m=d.variables.rom;t.managerModule={init:function(){m.displayPlacement=function(o,n,i){return r(this,void 0,void 0,function(){var t,r;return s(this,function(e){switch(e.label){case 0:return i=i||(l.placementSettingsModule.extractPlacementSettingsFromFunction(o,n)||{}),t=S.utils.deepClone(i),l.placementSettingsModule.validateSettings(o,t),[4,N.dispatcherModule.dispatchAsync(w.MANAGER_EVENTS.BEFORE_LOAD_PLACEMENT_CONFIG,t)];case 1:return e.sent(),r=S.utils.getPlacementConfigUrl(n),C.romLogger.log('Load placement config for "'+o+'"',{div:o,placement:n,settings:i,clonedSettings:t,url:r,managerConfig:d.variables.romConfig}),S.utils.jsonAjax(r,function(e){N.dispatcherModule.dispatch(w.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,{event:w.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,div:o,placement:n,config:e,settings:t}),m.displayConfig(o,e)}),[2]}})})},m.displayConfig=function(e,t){var r={div:e,config:t,managerConfig:d.variables.romConfig};y.errorLogger.log(e,"Start loading block.",r);var o=O(e);if(!o)return C.romLogger.warning('Can not found div with id "'+e+'"',r),void y.errorLogger.warning(e,'Can not found div with id "'+e+'"',r);var n=function(e){var t=!1;e.offsetWidth||(t=e.style.width,e.style.width="100%");var r=e.offsetWidth;return!1!==t&&(e.style.width=t),r}(o);C.romLogger.log('Publisher placement "'+e+'" has size '+n+".",r);o=t.cases.filter(function(e){return e.size<=n}).sort(function(e,t){return e.size-t.size});if(!o.length)return C.romLogger.warning("Not found support sizeCase for "+n+" size of "+e+" block.",r),void y.errorLogger.warning(e,"Not found support sizeCase for "+n+" size of "+e+" block.",r);o=o.pop();r.sizeCase=o,C.romLogger.log("Use sizeCase with size "+o.size+" for "+e+" block.",r);r=g(e,t,o);r&&(o={enabled:A(t,r,"enabled",f.ENABLED),offset:A(t,r,"offset",f.OFFSET),rerunTimeout:A(t,r,"rerunTimeout",f.RERUN_TIMEOUT)},y.errorLogger.log(e,"Prepare to run experiment. "+(o.enabled?"LazyLoading is enabled.":"Lazyloading is disabled."),{div:e,config:t,managerConfig:d.variables.romConfig,lazyLoadingOptions:o}),M(e,t,r))},m.setKeyValue=function(e,t){!function(e,t){if("iframe"===d.variables.romConfig.adBlockMode)for(var r=0,o=document.querySelectorAll(".rom-iframe");r<o.length;r++)o[r].contentWindow.setKeyValue(e,t);else d.variables.rowr.cmd.push(function(){d.variables.rowr.setKeyValue(e,t)});d.variables.romConfig.keyValues=d.variables.romConfig.keyValues||{},d.variables.romConfig.keyValues[e]=t,C.romLogger.log("Set KeyValues",{key:e,value:t})}(e,t)},m.version=function(){return w.VERSION}},run:function(e){N.dispatcherModule.onAllManagerEvents(function(e){u.rowrLogger.logEvent(e)});try{var t=new(i("ua-parser-js")),r=t.getBrowser().name,o=t.getOS().name,n=t.getDevice().type?t.getDevice().type:"desktop"}catch(e){y.errorLogger.error("Manager","Error defining specific settings",e)}d.variables.romConfig={adBlockMode:e.adBlockMode||"iframe",dynamicUrlTemplate:e.dynamicUrlTemplate||null,wrapperConfig:e.wrapperConfig||{},wrapperUrl:e.wrapperUrl,engineUrl:e.managerUrl,placementConfigTemplate:e.placementConfigTemplate,isLanguageSpecific:e.isLanguageSpecific||!1,isBrowserSpecific:e.isBrowserSpecific||!1,isOsSpecific:e.isOsSpecific||!1,isDeviceTypeSpecific:e.isDeviceTypeSpecific||!1,lazyLoading:e.lazyLoading||{},language:(t=navigator.language||navigator.userLanguage)?t.slice(0,2).toLowerCase():"no",browser:r,os:o,device:n},d.variables.romConfig.wrapperConfig.browser=r,d.variables.romConfig.wrapperConfig.os=o,d.variables.romConfig.wrapperConfig.device=n;n=-1!==(n=window.top.location.host).indexOf("www.")?n.split("www.")[1]:n;h(e,n),d.variables.romConfig.wrapperConfig.host=d.variables.romConfig.wrapperConfig.host||n,c.placementModule.run(),-1===["main","iframe"].indexOf(e.adBlockMode)&&(y.errorLogger.warning("Manager",'An incorrect adBlockMode value "'+e.adBlockMode+'" was passed to the config. A default "iframe" value has been set instead.',{setConfig:e,resultConfig:d.variables.romConfig}),d.variables.romConfig.adBlockMode="iframe"),C.romLogger.log("Rom Init",{setConfig:e,resultConfig:d.variables.romConfig}),y.errorLogger.simpleLog("Roxot manager init",{config:d.variables.romConfig}),d.variables.romConfig.dynamicUrlTemplate&&(n=d.variables.romConfig.dynamicUrlTemplate,e=window.top.location.hostname,e=n.replace("__HOST__",e),S.utils.loadScript(e)),"main"===d.variables.romConfig.adBlockMode&&N.dispatcherModule.dispatch(w.MANAGER_EVENTS.INSERT_WRAPPER,{managerConfig:d.variables.romConfig}),d.variables.rom.cmd.push(function(){N.dispatcherModule.dispatch(w.MANAGER_EVENTS.RUN,{config:d.variables.romConfig})})}}},{"../../constants/constants":3,"../../constants/variables":4,"../../utils/utils":46,"./dispatcherModule":19,"./loggers/errorLoggerModule":21,"./loggers/romLoggerModule":23,"./loggers/rowrLoggerModule":24,"./placementModule":29,"./placementSettingsModule":30,"ua-parser-js":2}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.placementMarkers=void 0;var n=e("../../../constants/constants"),i=e("../dispatcherModule"),a=e("../loggers/errorLoggerModule"),s=e("../timerManagerModule"),o=e("../../../constants/variables"),l=e("../placementModule");r.placementMarkers={markAsNeedRefresh:function(e){l.placementModule.resetPlacementCounters(e),e.status=n.PLACEMENT_CONFIG_STATUSES.READY,o.variables.rowr.refreshAds(e.adUnitsIds),i.dispatcherModule.dispatch(n.MANAGER_EVENTS.PLACEMENT_READY,{placementConfig:e})},markAsRequested:function(e){e.status=n.PLACEMENT_CONFIG_STATUSES.REQUESTED,i.dispatcherModule.dispatch(n.MANAGER_EVENTS.PLACEMENT_REQUEST,{placementConfig:e})},markAsRendered:function(e){e.status=n.PLACEMENT_CONFIG_STATUSES.RENDERED,a.errorLogger.log("Wrapper","Placement have been rendered.",{placementConfig:e}),i.dispatcherModule.dispatch(n.MANAGER_EVENTS.PLACEMENT_RENDER,{placementConfig:e})},markAsVisible:function(e){i.dispatcherModule.dispatch(n.MANAGER_EVENTS.PLACEMENT_VISIBLE,{placementConfig:e})},markAsNoServer:function(e){var t=this;e.status=n.PLACEMENT_CONFIG_STATUSES.NO_AD;var r=1e3*e.limits.noAdTimeout,o="noAd_"+e.placementId;s.timerManagerModule.replaceTimeout(o,function(){t.markAsNeedRefresh(e)},r,["placement-"+e.placementId]),a.errorLogger.error("Manager","None of the servers responded with ads",{placementConfig:e}),i.dispatcherModule.dispatch(n.MANAGER_EVENTS.PLACEMENT_NO_AD,{placementConfig:e})}}},{"../../../constants/constants":3,"../../../constants/variables":4,"../dispatcherModule":19,"../loggers/errorLoggerModule":21,"../placementModule":29,"../timerManagerModule":35}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.waterfallMarkers=void 0;var o=e("../dispatcherModule"),n=e("../../../constants/constants"),i=e("../timerManagerModule"),a=e("../../../utils/adConfigUtils"),s=e("../waterfallModule"),l=e("./wrapperMarkers");r.waterfallMarkers={markAsRequested:function(e){o.dispatcherModule.dispatch(n.WRAPPER_EVENTS.WATERFALL_LEVEL.REQUEST,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e),originAdConfig:e})},markAsEmpty:function(e){o.dispatcherModule.dispatch(n.WRAPPER_EVENTS.WATERFALL_LEVEL.EMPTY_AD,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)}),s.waterfallModule.requestAd(e)},markAsTimeout:function(e){o.dispatcherModule.dispatch(n.WRAPPER_EVENTS.WATERFALL_LEVEL.TIMEOUT,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)})},markAsRendered:function(e){o.dispatcherModule.dispatch(n.WRAPPER_EVENTS.WATERFALL_LEVEL.RENDER,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)}),i.timerManagerModule.clearTimerIfExists(i.timerManagerModule.buildRequestTimeoutTimerKey(e)),l.wrapperMarkers.markAsRendered(e)},markAsVisible:function(e){o.dispatcherModule.dispatch(n.WRAPPER_EVENTS.WATERFALL_LEVEL.VISIBLE,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)}),l.wrapperMarkers.markAsVisible(e)}}},{"../../../constants/constants":3,"../../../utils/adConfigUtils":45,"../dispatcherModule":19,"../timerManagerModule":35,"../waterfallModule":36,"./wrapperMarkers":28}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wrapperMarkers=void 0;var o=e("../../../constants/constants"),n=e("../dispatcherModule"),i=e("../loggers/errorLoggerModule"),a=e("../../../utils/adConfigUtils"),s=e("../waterfallModule");r.wrapperMarkers={markAsNeedRefresh:function(e){e.adStatus=o.AD_STATUSES.READY,n.dispatcherModule.dispatch(o.WRAPPER_EVENTS.AD_LEVEL.READY,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)}),s.waterfallModule.refreshAd(e)},markAsRendered:function(e){e.adStatus=o.AD_STATUSES.RENDERED,i.errorLogger.log("Wrapper","AdTag have been rendered.",{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)}),n.dispatcherModule.dispatch(o.WRAPPER_EVENTS.AD_LEVEL.RENDER,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)})},markAsVisible:function(e){n.dispatcherModule.dispatch(o.WRAPPER_EVENTS.AD_LEVEL.VISIBLE,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)})},markAsNoServer:function(e){e.adStatus=o.AD_STATUSES.NO_SERVER,i.errorLogger.error("Wrapper","None of the servers responded with ads",{adConfig:e}),n.dispatcherModule.dispatch(o.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER,{adConfig:a.adConfigUtils.buildAdConfigForEvent(e)})}}},{"../../../constants/constants":3,"../../../utils/adConfigUtils":45,"../dispatcherModule":19,"../loggers/errorLoggerModule":21,"../waterfallModule":36}],29:[function(e,t,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.placementModule=void 0;var g=e("../../constants/constants"),p=e("./loggers/errorLoggerModule"),h=e("./repositories/placementConfigRepository"),r=e("./timerManagerModule"),m=e("./repositories/adConfigRepository"),E=e("./markers/placementMarkers"),n=e("./dispatcherModule"),v=e("../../constants/variables");function o(e){var t,r={placementId:"",placementTitle:"",status:g.PLACEMENT_CONFIG_STATUSES.READY,adUnitsIds:[],iframesIds:[],limits:{refreshTimeout:0,noAdTimeout:0},counters:{tagsRequestedCount:0,tagsRenderedCount:0,tagsVisibleCount:0,tagsNoAdCount:0}};return e.forEach(function(e){var t;r.adUnitsIds[e.divId]=e.divId,r.placementId=r.placementId||e.adConfig.details.placementId,r.placementTitle=r.placementTitle||e.adConfig.details.placement,function(e,t){e.adConfig.options=e.adConfig.options||[],e.adConfig.options.limits=e.adConfig.options.limits||[];e=e.adConfig.options.limits.refreshTimeSeconds||0;t.limits.refreshTimeout=e>t.limits.refreshTimeout?e:t.limits.refreshTimeout}(t=e,e=r),function(e,t){e.adConfig.options=e.adConfig.options||[],e.adConfig.options.limits=e.adConfig.options.limits||[];e=e.adConfig.options.limits.noServerTimeout||0;t.limits.noAdTimeout=e>t.limits.noAdTimeout?e:t.limits.noAdTimeout}(t,e)}),r.limits.refreshTimeout=r.limits.refreshTimeout||g.REFRESH_TIME_SECONDS.OPTIMAL_VALUE,r.limits.noAdTimeout=r.limits.noAdTimeout||5,(e=(t=r).limits.refreshTimeout)<g.REFRESH_TIME_SECONDS.MINIMAL_VALUE?p.errorLogger.error("Wrapper","RefreshTimeSeconds must be more than "+g.REFRESH_TIME_SECONDS.MINIMAL_VALUE+" sec.",{placementConfig:t}):e<g.REFRESH_TIME_SECONDS.OPTIMAL_VALUE&&p.errorLogger.warning("Wrapper","RefreshTimeSeconds should be more than "+g.REFRESH_TIME_SECONDS.OPTIMAL_VALUE+" sec.",{placementConfig:t}),h.placementConfigRepository.add(r.placementId,r),r}function i(){if("iframe"!==v.variables.romConfig.adBlockMode){for(var e=0,t=h.placementConfigRepository.getAll();e<t.length;e++)if((o=t[e]).status===g.PLACEMENT_CONFIG_STATUSES.RENDERED)for(var r in o.adUnitsIds){l=m.adConfigRepository.get(r);if(l.adStatus===g.AD_STATUSES.RENDERED&&(l.waterfallConfig.visibleSeconds&&!(l.waterfallConfig.visibleSeconds<o.limits.refreshTimeout))){E.placementMarkers.markAsNeedRefresh(o);break}}}else for(var o,n=0,i=h.placementConfigRepository.getAll();n<i.length;n++)if((o=i[n]).status===g.PLACEMENT_CONFIG_STATUSES.RENDERED)for(var r in o.adUnitsIds){var a=o.iframesIds[r],s=document.getElementById(a);if(!s)return void p.errorLogger.warning("Manager","Stop refresh adUnit "+r+". Iframe with id "+a+" not found.",{placementConfig:o});var l=s.contentWindow.rowr.getAdConfig();if(l.adStatus===g.AD_STATUSES.RENDERED&&(l.waterfallConfig.visibleSeconds&&!(l.waterfallConfig.visibleSeconds<o.limits.refreshTimeout))){for(var d in f.placementModule.resetPlacementCounters(o),o.status=g.PLACEMENT_CONFIG_STATUSES.READY,o.iframesIds){var u=o.iframesIds[d],c=document.getElementById(u);if(!c)return void p.errorLogger.warning("Manager","Stop refresh adUnit "+d+". Iframe with id "+u+" not found.",{placementConfig:o});u=[];u[d]=d,c.contentWindow.rowr.refreshAds(u)}break}}}function a(e){e=e.adConfig.details.placementId,e=h.placementConfigRepository.get(e);e.counters.tagsRequestedCount+=1,1===e.counters.tagsRequestedCount&&E.placementMarkers.markAsRequested(e)}function s(e){e=e.adConfig.details.placementId,e=h.placementConfigRepository.get(e);e.counters.tagsRenderedCount+=1,1===e.counters.tagsRenderedCount&&E.placementMarkers.markAsRendered(e)}function l(e){e=e.adConfig.details.placementId,e=h.placementConfigRepository.get(e);e.counters.tagsVisibleCount+=1,1===e.counters.tagsVisibleCount&&E.placementMarkers.markAsVisible(e)}function d(e){var t=e.adConfig.details.placementId,o=h.placementConfigRepository.get(t);if(o.counters.tagsNoAdCount+=1,o.counters.tagsNoAdCount===Object.keys(o.adUnitsIds).length){if("iframe"===v.variables.romConfig.adBlockMode){o.status=g.PLACEMENT_CONFIG_STATUSES.NO_AD;e=1e3*o.limits.noAdTimeout,t="noAd_"+o.placementId;return r.timerManagerModule.replaceTimeout(t,function(){for(var e in f.placementModule.resetPlacementCounters(o),o.status=g.PLACEMENT_CONFIG_STATUSES.READY,o.iframesIds){var t=o.iframesIds[e],r=document.getElementById(t);if(!r)return void p.errorLogger.warning("Manager","Stop refresh adUnit "+e+". Iframe with id "+t+" not found.",{placementConfig:o});t=[];t[e]=e,r.contentWindow.rowr.refreshAds(t)}},e,["placement-"+o.placementId]),p.errorLogger.error("Manager","None of the servers responded with ads",{placementConfig:o}),void n.dispatcherModule.dispatch(g.MANAGER_EVENTS.PLACEMENT_NO_AD,{placementConfig:o})}E.placementMarkers.markAsNoServer(o)}}function u(){if("iframe"!==v.variables.romConfig.adBlockMode)for(var e=0,t=h.placementConfigRepository.getAll();e<t.length;e++)for(o in(r=t[e]).adUnitsIds){E.placementMarkers.markAsNeedRefresh(r);break}else for(var r,o,n=0,i=h.placementConfigRepository.getAll();n<i.length;n++)for(o in(r=i[n]).adUnitsIds){var a,s=r.iframesIds[o];if(!document.getElementById(s))return void p.errorLogger.warning("Manager","Stop refresh adUnit "+o+". Iframe with id "+s+" not found.",{placementConfig:r});for(a in f.placementModule.resetPlacementCounters(r),r.status=g.PLACEMENT_CONFIG_STATUSES.READY,r.iframesIds){var l=r.iframesIds[a],d=document.getElementById(l);if(!d)return void p.errorLogger.warning("Manager","Stop refresh adUnit "+a+". Iframe with id "+l+" not found.",{placementConfig:r});l=[];l[a]=a,d.contentWindow.rowr.refreshAds(l)}break}}f.placementModule={run:function(){n.dispatcherModule.onManagerEvent(g.WRAPPER_EVENTS.AD_LEVEL.REQUEST,a),n.dispatcherModule.onManagerEvent(g.WRAPPER_EVENTS.AD_LEVEL.RENDER,s),n.dispatcherModule.onManagerEvent(g.WRAPPER_EVENTS.AD_LEVEL.RENDER,l),n.dispatcherModule.onManagerEvent(g.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER,d),n.dispatcherModule.onManagerEvent(g.WRAPPER_EVENTS.PAGE_LEVEL.NEED_REFRESH_ALL_VISIBLE_ADS,u),r.timerManagerModule.replaceInterval("checkNeedRefreshPlacement",i,1e3,["placement_module"])},buildConfig:o,resetPlacementCounters:function(e){e.counters.tagsNoAdCount=0,e.counters.tagsVisibleCount=0,e.counters.tagsRenderedCount=0,e.counters.tagsRequestedCount=0}}},{"../../constants/constants":3,"../../constants/variables":4,"./dispatcherModule":19,"./loggers/errorLoggerModule":21,"./markers/placementMarkers":26,"./repositories/adConfigRepository":31,"./repositories/placementConfigRepository":32,"./timerManagerModule":35}],30:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.placementSettingsModule=void 0;var i=e("../../constants/constants");r.placementSettingsModule={validateSettings:function(t,r){Object.keys(r).forEach(function(e){i.AVAILABLE_SETTINGS_KEYS.includes(e)||console.error('Unknown param "'+e+'" passed to settings. Check your settings keys.',{div:t,settings:r})})},extractPlacementSettingsFromFunction:function(e,t){var r=document.getElementById(e);if(r){var o=r.getAttribute(i.DATA_SETTINGS_FUNCTION_ATTRIBUTE_NAME);if(o){r=window[o]||!1;if(r){r=r(e,t);if("object"===n(r))return r;console.error("Data settings function must return an object.",{divId:e,placementId:t,settingsFunctionName:o,returnedValue:r})}else console.error('Data settings function with name "'+o+'" not found.',{divId:e,placementId:t})}}}}},{"../../constants/constants":3}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.adConfigRepository=void 0;var o={};r.adConfigRepository={add:function(e,t){o[e]=t},get:function(e){return o[e]},getAll:function(){return Object.values(o)}}},{}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.placementConfigRepository=void 0;var o={};r.placementConfigRepository={add:function(e,t){o[e]=t},get:function(e){return o[e]},getAll:function(){return Object.values(o)}}},{}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sspRepository=void 0;var o={};r.sspRepository={add:function(e,t){o[e]=t},get:function(e){return o[e]||null},getAll:function(){return Object.values(o)}}},{}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../constants/variables"),n=e("./loggers/romLoggerModule"),i=e("./loggers/errorLoggerModule"),a=e("./loggers/rowrLoggerModule"),r=e("./loggers/profilerModule"),s=e("../../constants/constants"),l=e("./managerModule"),d=e("./wrapperModule");i.errorLogger.init(),n.romLogger.init(),a.rowrLogger.init(),r.profilerLogger.init(),l.managerModule.init(),d.wrapperModule.init(),o.variables.rom.icmd.push=function(e){l.managerModule.run(e=void 0===e?{}:e)},o.variables.rom.icmd.forEach(function(e){return o.variables.rom.icmd.push(e)}),o.variables.rom.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){n.romLogger.error("Error processing command",e),i.errorLogger.error("Manager","Error processing command",e)}else n.romLogger.error("Commands written into rom.cmd must be wrapped in a function"),i.errorLogger.error("Manager","Commands written into rom.cmd must be wrapped in a function")},o.variables.rom.cmd.forEach(function(e){return o.variables.rom.cmd.push(e)}),o.variables.rowr.run=function(e){d.wrapperModule.run(e)},o.variables.rowr.setConfig=function(e){console.warn("Deprecated method, use rowr.run."),o.variables.rowr.run(e)},o.variables.rowr.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){a.rowrLogger.error(s.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Error processing command: "+e.message+".",null,e),i.errorLogger.error(s.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Error processing command: "+e.message+".",e)}else a.rowrLogger.error(s.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Commands written into rowr.cmd must be wrapped in a function."),i.errorLogger.error(s.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Commands written into rowr.cmd must be wrapped in a function.")},o.variables.rowr.cmd.forEach(function(e){return o.variables.rowr.cmd.push(e)})},{"../../constants/constants":3,"../../constants/variables":4,"./loggers/errorLoggerModule":21,"./loggers/profilerModule":22,"./loggers/romLoggerModule":23,"./loggers/rowrLoggerModule":24,"./managerModule":25,"./wrapperModule":37}],35:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.timerManagerModule=void 0;var d=e("./loggers/rowrLoggerModule"),u=e("./loggers/errorLoggerModule"),c=e("../../constants/constants"),f={TIMEOUT_TIMER_TYPE:"timeout",INTERVAL_TIMER_TYPE:"interval"};function n(t,r,o,n,e){if(l.timerManagerModule.hasTimer(r)){var i='Timer with id "'+r+'" already exists.';throw d.rowrLogger.error(c.LOGGER_COMPONENTS.TIMER_MANAGER_COMPONENT,i),u.errorLogger.error(c.LOGGER_COMPONENTS.TIMER_MANAGER_COMPONENT,i),i}function a(e){d.rowrLogger.debug(c.LOGGER_COMPONENTS.TIMER_MANAGER_COMPONENT,"Run timer: "+r+".","timerRun_"+s.type,{timer:s}),t===f.TIMEOUT_TIMER_TYPE&&g(r),o.call(),e()}var s={id:r,type:t,tags:e||[],time:n,promise:null,handle:null};return s.promise=new Promise(function(e){s.handle=(t===f.TIMEOUT_TIMER_TYPE?setTimeout:setInterval)(a,n,e)}),l.timerManagerModule.timeouts[r]=s,d.rowrLogger.debug(c.LOGGER_COMPONENTS.TIMER_MANAGER_COMPONENT,"Set timer: "+r+".","timerSet",{timer:s}),s}function i(e){var t=function(e){if(l.timerManagerModule.hasTimer(e))return l.timerManagerModule.timeouts[e];e='Timer with id "'+e+'" not exists.';throw d.rowrLogger.error(c.LOGGER_COMPONENTS.TIMER_MANAGER_COMPONENT,e),u.errorLogger.error(c.LOGGER_COMPONENTS.TIMER_MANAGER_COMPONENT,e),e}(e);(t.type===f.TIMEOUT_TIMER_TYPE?clearTimeout:clearInterval)(t.handle),g(e),d.rowrLogger.debug(c.LOGGER_COMPONENTS.TIMER_MANAGER_COMPONENT,"Clear timer: "+e+".","timerClear",{timer:t})}function g(e){delete l.timerManagerModule.timeouts[e]}l.timerManagerModule={timeouts:{},setTimeout:function(e,t,r,o){return n(f.TIMEOUT_TIMER_TYPE,e,t,r,o)},clearTimerIfExists:function(e){this.hasTimer(e)&&i(e)},replaceTimeout:function(e,t,r,o){this.hasTimer(e)&&i(e),this.setTimeout(e,t,r,o)},replaceInterval:function(e,t,r,o){this.hasTimer(e)&&i(e),e=e,t=t,r=r,o=o,n(f.INTERVAL_TIMER_TYPE,e,t,r,o)},hasTimer:function(e){return this.timeouts.hasOwnProperty(e)},getAll:function(){return Object.values(this.timeouts)},clearByTag:function(e){var t;t=e,l.timerManagerModule.getAll().filter(function(e){return e.tags.includes(t)}).forEach(function(e){return i(e.id)})},buildRequestTimeoutTimerKey:function(e){return"requestTimeoutAd-"+e.adId}}},{"../../constants/constants":3,"./loggers/errorLoggerModule":21,"./loggers/rowrLoggerModule":24}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.waterfallModule=void 0;var a=e("./repositories/sspRepository"),s=e("./timerManagerModule"),l=e("../../constants/constants"),d=e("./counterModule"),u=e("./loggers/rowrLoggerModule"),c=e("./loggers/errorLoggerModule"),f=e("./markers/wrapperMarkers"),g=e("../../constants/variables"),p=e("./markers/waterfallMarkers"),h=e("../../utils/adConfigUtils"),o=e("./dispatcherModule"),n=e("../../utils/waterfallUtils");r.waterfallModule={requestAd:function(t){a.sspRepository.getAll().forEach(function(e){e.destroyAd(t)}),s.timerManagerModule.clearByTag("ad-"+t.adId),t.adStatus=l.AD_STATUSES.REQUESTED;var e=t.waterfallConfig,r=e.sspsStack||[];if(r.length){r=r.shift();e.currentSspConfig=r,d.counterModule.incrementCounterValue(t,l.COUNTERS.REQUEST_COUNT),d.counterModule.incrementTagRequestCounterValue(t,r.tagId);var o=r.name,n=a.sspRepository.get(g.variables.wrapperConfig.isStubAdServer?"stub":o);if(!n){var i=g.variables.wrapperConfig.isStubAdServer?"stub ("+o+")":o;return u.rowrLogger.error(l.LOGGER_COMPONENTS.WATERFALL_COMPONENT,'Ad server "'+i+'" not supported.'),c.errorLogger.error(l.LOGGER_COMPONENTS.WATERFALL_COMPONENT,'Ad server "'+i+'" not supported.'),void p.waterfallMarkers.markAsEmpty(t)}i=1e3*h.adConfigUtils.getLimitValue(t,"requestTimeout");s.timerManagerModule.replaceTimeout(s.timerManagerModule.buildRequestTimeoutTimerKey(t),function(){n.destroyAd(t),c.errorLogger.warning("Waterfall",'Ad server "'+o+'" not responded. Timed-out.',{adConfig:t}),p.waterfallMarkers.markAsTimeout(t),p.waterfallMarkers.markAsEmpty(t)},i,["ad-"+t.adId]),t.waterfallConfig.adType=n.getAdType(),p.waterfallMarkers.markAsRequested(t),n.refreshAd(t)}else f.wrapperMarkers.markAsNoServer(t)},refreshAd:function(e){g.variables.wrapperConfig.isDisableWrapper?u.rowrLogger.debug(l.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Ad server is disabled.",null,{adConfig:e}):g.variables.wrapperConfig.status===l.WRAPPER_STATUSES.RUN?e.placementStatus===l.PLACEMENT_STATUSES.ACTIVE?e.adStatus===l.AD_STATUSES.READY?(n.waterfallUtils.setWaterfallConfig(e,n.waterfallUtils.buildWaterfallConfig(e)),o.dispatcherModule.dispatch(l.WRAPPER_EVENTS.AD_LEVEL.REQUEST,{adConfig:h.adConfigUtils.buildAdConfigForEvent(e)}),this.requestAd(e)):u.rowrLogger.debug(l.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Ad is not ready.",null,{adConfig:e}):u.rowrLogger.debug(l.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Placement has status: "+e.placementStatus+".",null,{adConfig:e}):u.rowrLogger.debug(l.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Ad server has status: "+g.variables.wrapperConfig.status+".",null,{adConfig:e})}}},{"../../constants/constants":3,"../../constants/variables":4,"../../utils/adConfigUtils":45,"../../utils/waterfallUtils":47,"./counterModule":18,"./dispatcherModule":19,"./loggers/errorLoggerModule":21,"./loggers/rowrLoggerModule":24,"./markers/waterfallMarkers":27,"./markers/wrapperMarkers":28,"./repositories/sspRepository":33,"./timerManagerModule":35}],37:[function(e,t,r){"use strict";var o=function(e,a,s,l){return new(s=s||Promise)(function(r,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,n)}i((l=l.apply(e,a||[])).next())})},n=function(r,o){var n,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(r,s)}catch(e){t=[6,e],i=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.wrapperModule=void 0;var i=e("../../constants/constants"),a=e("./loggers/romLoggerModule"),s=e("../../constants/constants"),l=e("../../constants/variables"),d=e("./loggers/errorLoggerModule"),u=e("./loggers/rowrLoggerModule"),c=e("./dispatcherModule"),f=e("./timerManagerModule"),g=e("./repositories/sspRepository"),p=e("./markers/wrapperMarkers"),h=e("../../utils/adConfigUtils"),m=e("./repositories/adConfigRepository"),E=e("../../utils/wrapperUtils"),v=e("./adservers/YandexAdServer"),b=e("./adservers/AdFoxAdServer"),w=e("./adservers/prebid/PrebidAdServer"),S=e("./adservers/prebid/GooglePrebidAmazonAdServer"),y=e("./adservers/GoogleAdServer"),C=e("./adservers/ThirdPartyAdServer"),N=e("./adservers/VideoNowAdServer"),A=e("./adservers/StubAdServer"),T=e("./adservers/RoxotAdServer"),M=e("./adservers/prebid/GooglePrebidAdServer"),O=e("./counterModule"),_=e("./loggers/profilerModule"),P=e("../../utils/utils"),L=e("./waterfallModule");function R(t,r){return o(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,c.dispatcherModule.dispatchAsync(i.WRAPPER_EVENTS.CONFIG_LEVEL.BEFORE_AD_INIT,{adUnitId:t,adUnitConfig:r})];case 1:return e.sent(),function(e,t){t=h.adConfigUtils.generate(e,t.adServersConfig,t.options||{},t.details||{});m.adConfigRepository.add(e,t),t.sspsConfigs.forEach(function(e){var t=g.sspRepository.get(e.name);t.isInited()||t.init(e)}),u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Block init successfully.",t.adId,{adConfig:t}),E.wrapperUtils.refreshAdBlockIfActive(t)}(t,r),c.dispatcherModule.dispatch(i.WRAPPER_EVENTS.CONFIG_LEVEL.AD_INIT,{adUnitId:t,adUnitConfig:r}),[2]}})})}function x(){!function(){if(I(top).on("focus",function(){l.variables.wrapperConfig.disableAdRefreshInNotActiveTab&&(u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"User focus page."),l.variables.wrapperConfig.status=i.WRAPPER_STATUSES.RUN,c.dispatcherModule.dispatch(i.WRAPPER_EVENTS.SERVER_LEVEL.RUN,{}),function(){for(var e=0,t=m.adConfigRepository.getAll();e<t.length;e++){var r=t[e];r.adStatus===i.AD_STATUSES.READY&&L.waterfallModule.refreshAd(r)}}())}),I(top).on("blur",function(){l.variables.wrapperConfig.disableAdRefreshInNotActiveTab&&(u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"User blur page."),l.variables.wrapperConfig.status=i.WRAPPER_STATUSES.PAUSE,c.dispatcherModule.dispatch(i.WRAPPER_EVENTS.SERVER_LEVEL.PAUSE,{}))}),l.variables.wrapperConfig.disableAdRefreshInNotActiveTab){if(u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Rowr check for active tab is enabled."),!top.document.hasFocus())return u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Rowr init in no active tab."),l.variables.wrapperConfig.status=i.WRAPPER_STATUSES.PAUSE,c.dispatcherModule.dispatch(i.WRAPPER_EVENTS.SERVER_LEVEL.PAUSE,{})}else u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Rowr check for active tab is disabled.");c.dispatcherModule.dispatch(i.WRAPPER_EVENTS.SERVER_LEVEL.RUN,{})}(),f.timerManagerModule.replaceInterval("wrapper__increaseVisibleTime",function(){!function(){for(var e=0,t=m.adConfigRepository.getAll();e<t.length;e++){var r,o=t[e];o.placementStatus===i.PLACEMENT_STATUSES.ACTIVE&&o.adStatus===i.AD_STATUSES.RENDERED&&E.wrapperUtils.isVisibleAd(o)&&(o.waterfallConfig.visibleSeconds=o.waterfallConfig.visibleSeconds||0,o.waterfallConfig.visibleSeconds+=1,r=h.adConfigUtils.getLimitValue(o,"refreshTimeSeconds"),o.waterfallConfig.visibleSeconds<r||u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Ad visible more then "+r+" sec.",null,{adConfig:o}))}}(),E.wrapperUtils.refreshAllActiveAdBlocks()},1e3,["wrapper"]),P.utils.isIframeMode()&&function e(){var t=I("html");var r=t.width();var o=t.height();l.variables.wrapperConfig.iframe.width===r&&l.variables.wrapperConfig.iframe.height===o||(t=I("#"+l.variables.rowr.iframeId,parent.document),l.variables.wrapperConfig.iframe.width=r,l.variables.wrapperConfig.iframe.height=o,t.css("width",r+"px"),t.css("height",o+"px"),t.width(r),t.height(o));f.timerManagerModule.replaceTimeout("wrapper_updateIframeSize",function(){e()},100,["wrapper"])}(),l.variables.wrapperConfig.isGoogleForceSafeFrame&&l.variables.googletag.cmd.push(function(){l.variables.googletag.pubads().setForceSafeFrame(!0)}),d.errorLogger.simpleLog("Roxot wrapper init.",{wrapperConfig:Object.assign({},l.variables.wrapperConfig)})}var I=l.variables.rowrJq;r.wrapperModule=((e={init:function(){g.sspRepository.add("stub",new A.StubAdServer),g.sspRepository.add("google",new y.GoogleAdServer),g.sspRepository.add("yandex",new v.YandexAdServer),g.sspRepository.add("adfox",new b.AdFoxAdServer),g.sspRepository.add("prebid",new w.PrebidAdServer),g.sspRepository.add("prebid_dfp",new M.GooglePrebidAdServer),g.sspRepository.add("amazon_prebid_dfp",new S.GooglePrebidAmazonAdServer),g.sspRepository.add("video_now",new N.VideoNowAdServer),g.sspRepository.add("roxot",new T.RoxotAdServer),g.sspRepository.add("third_party",new C.ThirdPartyAdServer);var e=l.variables.rowr;e.setAdsConfig=function(e){d.errorLogger.warning(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"rowr.setAdsConfig - check usage"),function(e){for(var t in e)e.hasOwnProperty(t)&&R(t,e[t])}(e)},e.setAdConfig=function(e,t){R(e,t)},e.setKeyValue=function(e,t){l.variables.wrapperConfig.keyValues[e]=t},e.refreshAds=function(e){for(var t in e){var r=m.adConfigRepository.get(t);if(!r)return void d.errorLogger.error("Wrapper","Stop refresh adUnit "+t+". Not found adUnit in adConfigRepository.",{adConfigs:m.adConfigRepository.getAll()});if(r.waterfallConfig.adType===i.AD_TYPE.VIDEO){if(!r.isNeedRefresh)continue;r.isNeedRefresh=!1}p.wrapperMarkers.markAsNeedRefresh(r)}},e.refreshVisibleAds=function(e){!function(e){for(var t in e){var r=m.adConfigRepository.get(t);r.placementStatus===i.PLACEMENT_STATUSES.ACTIVE&&r.waterfallConfig.adType!==i.AD_TYPE.VIDEO&&(t=h.adConfigUtils.getLimitValue(r,"visibleSeconds"),(r.waterfallConfig.visibleSeconds||0)<t||(u.rowrLogger.debug(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"Need refresh visible ad because visible time "+r.waterfallConfig.visibleSeconds+". Need >= "+t,null,{adConfig:r}),p.wrapperMarkers.markAsNeedRefresh(r)))}}(e)},e.refreshAllVisibleAds=function(){c.dispatcherModule.dispatch(i.WRAPPER_EVENTS.PAGE_LEVEL.NEED_REFRESH_ALL_VISIBLE_ADS,{})},e.timers=function(){return d.errorLogger.warning(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"rowr.timers - check usage"),f.timerManagerModule.getAll()},e.counters=function(){return d.errorLogger.warning(i.LOGGER_COMPONENTS.WRAPPER_COMPONENT,"rowr.counters - check usage"),O.counterModule.counters},e.version=function(){return s.VERSION},e.getAdConfig=function(){return m.adConfigRepository.getAll()[0]},c.dispatcherModule.onManagerEvent(i.MANAGER_EVENTS.INSERT_WRAPPER,r.wrapperModule[i.MANAGER_EVENTS.INSERT_WRAPPER])},run:function(e){c.dispatcherModule.onAllWrapperEvents(function(e){u.rowrLogger.logEvent(e),_.profilerLogger.profile(e)}),function(e){e=e||{};for(var t=0,r=Object.keys(l.variables.wrapperConfig);t<r.length;t++){var o=r[t];e.hasOwnProperty(o)&&(l.variables.wrapperConfig[o]=e[o])}}(e),x(),c.dispatcherModule.dispatch(i.WRAPPER_EVENTS.CONFIG_LEVEL.INIT,{wrapperConfig:l.variables.wrapperConfig})}})[i.MANAGER_EVENTS.INSERT_WRAPPER]=function(){l.variables.rowr.cmd.push(function(){l.variables.rowr.run(l.variables.romConfig.wrapperConfig)}),a.romLogger.log("Load Roxot Wrapper globally.")},e)},{"../../constants/constants":3,"../../constants/variables":4,"../../utils/adConfigUtils":45,"../../utils/utils":46,"../../utils/wrapperUtils":48,"./adservers/AdFoxAdServer":5,"./adservers/GoogleAdServer":6,"./adservers/RoxotAdServer":7,"./adservers/StubAdServer":8,"./adservers/ThirdPartyAdServer":9,"./adservers/VideoNowAdServer":10,"./adservers/YandexAdServer":11,"./adservers/prebid/GooglePrebidAdServer":14,"./adservers/prebid/GooglePrebidAmazonAdServer":15,"./adservers/prebid/PrebidAdServer":16,"./counterModule":18,"./dispatcherModule":19,"./loggers/errorLoggerModule":21,"./loggers/profilerModule":22,"./loggers/romLoggerModule":23,"./loggers/rowrLoggerModule":24,"./markers/wrapperMarkers":28,"./repositories/adConfigRepository":31,"./repositories/sspRepository":33,"./timerManagerModule":35,"./waterfallModule":36}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/placementSettingsModule"),l=e("../../utils/utils"),d=e("../core/loggers/romLoggerModule"),u=e("../../constants/constants"),c=e("../core/loggers/errorLoggerModule"),f=e("../../constants/variables"),g=e("../core/dispatcherModule"),p=5e3,h=0,m="rom-bottomstick-showtime-",E="bottomStick";function v(e){var t,r="roxotBottomStickClose";document.getElementById(r)||((t=document.createElement("div")).insertAdjacentHTML("beforeend",'<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/></svg>'),t.style.cursor="pointer",t.style.color="#000",t.style.background="#fff",t.style.display="inline-block",t.style.lineHeight="0px",t.style.height="21px",t.style.width="21px",t.style.display="block",t.style.borderRadius="50%",t.style.position="absolute",t.style.right="0px",t.style.top="-26px",t.style.textAlign="center",t.style.fontSize="21px",t.style.zIndex="100001",(t=t).setAttribute("id",r),(t=e.insertAdjacentElement("beforeend",t)).onclick=function(){return e.parentNode.removeChild(e),!1})}rom.displayBottomStickPlacement=function(t,r){o.placementSettingsModule.validateSettings("BottomStick",r=r||{});var e=l.utils.getPlacementConfigUrl(t);d.romLogger.log("Load placement config for bottom stick placement",{placement:t,settings:r,url:e,managerConfig:f.variables.romConfig}),l.utils.jsonAjax(e,function(e){rom.displayBottomStickConfig(t,e,r)})},rom.displayBottomStickConfig=function(n,e,t){t=t||{};var r=(e.cases[0].experiments[0].tags[0].adConfig.options||{}).bottomStick||{},o=l.utils.getOptionFromConfigs(u.AD_BLOCK_OPTIONS_NAMES.MAX_SCREEN_WIDTH,[r],p);if(!l.utils.isCorrectScreenWidth(o)){var i="Device has incorrect width for Bottom Stick Placement. Aborting.",a={placement:n,maxScreenWidth:o,currentScreenWidth:window.innerWidth,config:e,managerConfig:f.variables.romConfig};return d.romLogger.warning(i,a),void c.errorLogger.warning(E,i,a)}o=l.utils.getOptionFromConfigs(u.AD_BLOCK_OPTIONS_NAMES.AD_TIMEOUT_MINUTES,[r],h),r=Number(localStorage.getItem(m+n));if(!l.utils.isCorrectTimeout(o,r)){a={placement:n,adTimeoutMinutes:o,config:e,managerConfig:f.variables.romConfig};return d.romLogger.warning(i="Bottom Stick Placement has active adTimeoutMinutes. Aborting.",a),void c.errorLogger.warning(E,i,a)}var a="roxotAd-"+n,s=function(e){(t=document.createElement("div")).setAttribute("id",E),t.style.position="fixed",t.style.bottom="0",t.style.width="100%",t.style.zIndex="100000";var t=document.body.insertAdjacentElement("beforeend",t),r=document.createElement("div");return r.setAttribute("id",e),t.insertAdjacentElement("beforeend",r)}(a);g.dispatcherModule.on([u.WRAPPER_EVENTS.AD_LEVEL.VISIBLE,u.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER],function(e){var t,r,o;l.utils.isEventMatchesPlacement(e,n)&&(e.event===u.WRAPPER_EVENTS.AD_LEVEL.VISIBLE?(o=e.adConfig.adId,t=document.getElementById(o),r=m+n,(o=t).style.position="absolute",o.style.bottom="0",o.style.top="auto",o.style.left="50%",o.style.transform="translateX(-50%)",v(t),localStorage.setItem(r,""+Date.now())):e.event===u.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER&&s.parentNode.removeChild(s))}),g.dispatcherModule.dispatch(u.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,{event:u.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,div:E,placement:n,config:e,settings:t}),rom.displayConfig(a,e)}},{"../../constants/constants":3,"../../constants/variables":4,"../../utils/utils":46,"../core/dispatcherModule":19,"../core/loggers/errorLoggerModule":21,"../core/loggers/romLoggerModule":23,"../core/placementSettingsModule":30}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../constants/constants"),s=e("../core/loggers/errorLoggerModule"),l=e("../../constants/variables"),d=e("../core/dispatcherModule");(e={})[a.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG]=function(e){var t,r,o,n,i,a;a=e.div,o=e.config,i=e.settings,(n=i.onAdImpression||!1)&&("function"==typeof n?(r={div:a,settings:i,callback:n,managerConfig:l.variables.romConfig},s.errorLogger.log(a,t='Detected "onAdImpression" callback.',r),i.debug&&console.log(t,r),o.onAdImpressionCallback=n):console.error("Callback onAdImpression must be a function.",{div:a,settings:i})),r=e.div,o=e.config,n=e.settings,(a=n.onAdEmpty||!1)&&("function"==typeof a?(i={div:r,settings:n,callback:a,managerConfig:l.variables.romConfig},s.errorLogger.log(r,e='Detected "onAdEmpty" callback.',i),n.debug&&console.log(e,i),o.onAdEmptyCallback=a):console.error("Callback onAdEmpty must be a function.",{div:r,settings:n}))},e[a.MANAGER_EVENTS.BEFORE_AD_BLOCK_DATA_PUSH]=function(e){var t,r,o,n,i;e.config.onAdImpressionCallback&&(t=e.config,r=e.adBlockDivId,d.dispatcherModule.on(a.WRAPPER_EVENTS.AD_LEVEL.VISIBLE,function(e){(e.adConfig||{}).adId===r&&t.onAdImpressionCallback()})),e.config.onAdEmptyCallback&&(o=e.config,n=e.adBlockDivId,i=e.placementDivId,o.activeTags=o.activeTags||{},d.dispatcherModule.on([a.WRAPPER_EVENTS.AD_LEVEL.REQUEST,a.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER],function(e){var t,r;(e.adConfig||{}).adId===n&&(e.event===a.WRAPPER_EVENTS.AD_LEVEL.REQUEST&&(t=e.adConfig.adId,o.activeTags[t]=a.WRAPPER_EVENTS.AD_LEVEL.REQUEST),e.event===a.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER&&(t=e.adConfig.adId,o.activeTags[t]=a.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER,r=!0,Object.values(o.activeTags).forEach(function(e){e!==a.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER&&(r=!1)}),r&&(document.getElementById(i)&&(document.getElementById(i).innerHTML=""),o.onAdEmptyCallback())))}))};d.dispatcherModule.onManagerEvent(a.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,e[a.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG]),d.dispatcherModule.onManagerEvent(a.MANAGER_EVENTS.BEFORE_AD_BLOCK_DATA_PUSH,e[a.MANAGER_EVENTS.BEFORE_AD_BLOCK_DATA_PUSH])},{"../../constants/constants":3,"../../constants/variables":4,"../core/dispatcherModule":19,"../core/loggers/errorLoggerModule":21}],40:[function(e,t,r){"use strict";var n=function(e,a,s,l){return new(s=s||Promise)(function(r,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,n)}i((l=l.apply(e,a||[])).next())})},i=function(r,o){var n,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(r,s)}catch(e){t=[6,e],i=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(r,"__esModule",{value:!0});var a=e("../core/loggers/rowrLoggerModule"),o=e("../core/loggers/errorLoggerModule"),r=e("../core/dispatcherModule"),s=e("../../constants/constants"),l=e("../../utils/utils"),d=e("../../constants/variables"),u=e("../core/timerManagerModule"),c={init:!1,hasAccess:null};function f(e){e.wrapperConfig=e.wrapperConfig||{},e.wrapperConfig.cmp=e.wrapperConfig.cmp||{};var t=e.wrapperConfig.cmp.vendor||!1;t&&(c.init||("quantcast"!==(e=t)?(a.rowrLogger.error("CMP",'Cmp vendor "'+e+"' not supported."),o.errorLogger.error("CMP",'Cmp vendor "'+e+"' not supported.")):(t=l.utils.getOriginWindow(),(e=function(e){if(e.__cmp)return 1;if(e.__tcfapi)return 2;return 0}(t))||(a.rowrLogger.error(s.LOGGER_COMPONENTS.CMP_COMPONENT,"Not supported version","Quantcast"),o.errorLogger.error("CMP Quantcast","Not supported version")),function(e,t){try{2===t&&e.__tcfapi("addEventListener",2,function(){g(e,t)}),1===t&&(e.__cmp("getConsentData",1,function(){g(e,t)}),e.__cmp("setConsentUiCallback",function(){g(e,t)})),c.init=!0,a.rowrLogger.debug(s.LOGGER_COMPONENTS.CMP_COMPONENT,"Init successfully","Quantcast")}catch(e){a.rowrLogger.error(s.LOGGER_COMPONENTS.CMP_COMPONENT,"Init error","Quantcast",e),o.errorLogger.error("CMP Quantcast","Init error",e)}}(t,e))))}function g(e,t){2===t?e.__tcfapi("getTCData",2,function(e,t){t&&!!(t=e.vendor)?(e=e.purpose,t=!!Object.keys(t.consents).length,p(t=!Object.keys(e.consents).length?!1:t)):p(!0)}):1===t&&e.__cmp("getGooglePersonalization",function(e,t){e=!t||!!e.googlePersonalizationData.consentValue;p(e)})}function p(e){e!==c.hasAccess&&(a.rowrLogger.debug(s.LOGGER_COMPONENTS.CMP_COMPONENT,"User change access "+c.hasAccess+"->"+e,"Quantcast"),c.hasAccess=e)}(e={})[s.WRAPPER_EVENTS.CONFIG_LEVEL.INIT]=function(e){f(e)},e[s.WRAPPER_EVENTS.CONFIG_LEVEL.BEFORE_AD_INIT]=function(o){return n(void 0,void 0,void 0,function(){var t,r;return i(this,function(e){switch(e.label){case 0:return d.variables.wrapperConfig.cmp.vendor&&null===c.hasAccess?(t=d.variables.wrapperConfig.cmp.cmpInitTimeout||500,r=u.timerManagerModule.setTimeout("cmpWait-"+o.adUnitId,function(){},t,[]),a.rowrLogger.debug(s.LOGGER_COMPONENTS.CMP_COMPONENT,"Wait init CMP "+t+" ms"),[4,r.promise]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e[s.WRAPPER_EVENTS.WATERFALL_LEVEL.REQUEST]=function(e){e.originAdConfig.isAnonAd=d.variables.wrapperConfig.cmp.vendor&&!c.hasAccess?1:0};r.dispatcherModule.onWrapperEvent(s.WRAPPER_EVENTS.CONFIG_LEVEL.INIT,e[s.WRAPPER_EVENTS.CONFIG_LEVEL.INIT]),r.dispatcherModule.onWrapperEvent(s.WRAPPER_EVENTS.CONFIG_LEVEL.BEFORE_AD_INIT,e[s.WRAPPER_EVENTS.CONFIG_LEVEL.BEFORE_AD_INIT]),r.dispatcherModule.onWrapperEvent(s.WRAPPER_EVENTS.WATERFALL_LEVEL.REQUEST,e[s.WRAPPER_EVENTS.WATERFALL_LEVEL.REQUEST])},{"../../constants/constants":3,"../../constants/variables":4,"../../utils/utils":46,"../core/dispatcherModule":19,"../core/loggers/errorLoggerModule":21,"../core/loggers/rowrLoggerModule":24,"../core/timerManagerModule":35}],41:[function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0});var s=e("../core/loggers/errorLoggerModule"),o=e("../core/dispatcherModule"),r=e("../../constants/constants").MANAGER_EVENTS;(e={})[r.BEFORE_DISPLAY_CONFIG]=function(e){var t,r,o,n,i;t=e.div,r=e.config,o=e.settings,(i=o.customKeyValues)&&("object"===a(i)?(s.errorLogger.log(t,n='Detected "customKeyValues" setting.',e={div:t,settings:o}),o.debug&&console.log(n,e),r.customKeyValues=i):console.error("Custom key values must be an object.",{div:t,settings:o}))},e[r.BEFORE_AD_BLOCK_DATA_PUSH]=function(e){var t;t=e.tag,e=e.config,t.adConfig.options=t.adConfig.options||{},t.adConfig.options.customKeyValues=e.customKeyValues||{}};o.dispatcherModule.onManagerEvent(r.BEFORE_DISPLAY_CONFIG,e[r.BEFORE_DISPLAY_CONFIG]),o.dispatcherModule.onManagerEvent(r.BEFORE_AD_BLOCK_DATA_PUSH,e[r.BEFORE_AD_BLOCK_DATA_PUSH])},{"../../constants/constants":3,"../core/dispatcherModule":19,"../core/loggers/errorLoggerModule":21}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../core/loggers/romLoggerModule"),l=e("../../constants/constants"),d=e("../core/loggers/errorLoggerModule"),u=e("../../utils/utils"),o=e("../core/placementSettingsModule"),c=e("../../constants/variables"),f=e("../core/dispatcherModule"),g="roxotFullScreen",p=750,h=30,m="rom-fullscreen-showtime-";rom.displayFullScreenPlacement=function(t,r){o.placementSettingsModule.validateSettings("FullScreen",r=r||{});var e=u.utils.getPlacementConfigUrl(t);s.romLogger.log("Load placement config for full screen placement",{placement:t,settings:r,url:e,managerConfig:c.variables.romConfig}),u.utils.jsonAjax(e,function(e){f.dispatcherModule.dispatch(l.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,{event:l.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,placement:t,config:e,settings:r}),rom.displayFullScreenConfig(t,e,r)})},rom.displayFullScreenConfig=function(o,e,t){t=t||{};var r=(e.cases[0].experiments[0].tags[0].adConfig.options||{}).fullScreen||{},n=u.utils.getOptionFromConfigs(l.AD_BLOCK_OPTIONS_NAMES.MAX_SCREEN_WIDTH,[r],p);if(!u.utils.isCorrectScreenWidth(n)){var i="Device has incorrect width for Full Screen Placement. Aborting.",a={placement:o,maxScreenWidth:n,currentScreenWidth:window.innerWidth,config:e,managerConfig:c.variables.romConfig};return s.romLogger.warning(i,a),void d.errorLogger.warning(g,i,a)}n=u.utils.getOptionFromConfigs(l.AD_BLOCK_OPTIONS_NAMES.AD_TIMEOUT_MINUTES,[r],h),r=Number(localStorage.getItem(m+o));if(!u.utils.isCorrectTimeout(n,r)){a={placement:o,adTimeoutMinutes:n,config:e,managerConfig:c.variables.romConfig};return s.romLogger.warning(i="Full Screen Placement has active adTimeoutMinutes. Aborting.",a),void d.errorLogger.warning(g,i,a)}a="roxotAd-"+o;!function(e){(t=document.createElement("div")).setAttribute("id",g),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.backgroundColor="#4d4d4d",t.style.background="rgb(0 0 0 / 0.7)",t.style.opacity=0,t.style.pointerEvents="none",t.style.width="100%",t.style.height="100vh",t.style.zIndex="100000",t.style.textAlign="center";var t=document.body.insertAdjacentElement("beforeend",t),r=document.createElement("div");r.insertAdjacentHTML("beforeend",'<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/></svg>'),r.style.cursor="pointer",r.setAttribute("id","roxotFullScreenClose"),r.style.color="#000",r.style.background="#fff",r.style.display="inline-block",r.style.lineHeight="0px",r.style.height="26px",r.style.width="26px",r.style.border="1px solid #fff",r.style.borderRadius="50%",r.style.position="absolute",r.style.right="0",r.style.margin="13px",r.style.textAlign="center",r.style.fontSize="26px",r.style.boxSizing="content-box",(r=t.insertAdjacentElement("beforeend",r)).onclick=function(){return t.parentNode.removeChild(t),!1},(r=document.createElement("div")).setAttribute("id",e),r.style.marginTop="52px",r.style.display="inline-block",t.insertAdjacentElement("beforeend",r)}(a),f.dispatcherModule.on([l.WRAPPER_EVENTS.AD_LEVEL.VISIBLE,l.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER],function(e){var t,r;u.utils.isEventMatchesPlacement(e,o)&&(t=document.getElementById(g),r=m+o,t&&(e.event===l.WRAPPER_EVENTS.AD_LEVEL.VISIBLE&&(t.style.opacity=1,t.style.pointerEvents="auto",localStorage.setItem(r,""+Date.now())),e.event===l.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER&&t.parentNode.removeChild(t)))}),f.dispatcherModule.dispatch(l.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,{event:l.MANAGER_EVENTS.BEFORE_DISPLAY_CONFIG,div:g,placement:o,config:e,settings:t}),rom.displayConfig(a,e)}},{"../../constants/constants":3,"../../constants/variables":4,"../../utils/utils":46,"../core/dispatcherModule":19,"../core/loggers/errorLoggerModule":21,"../core/loggers/romLoggerModule":23,"../core/placementSettingsModule":30}],43:[function(e,t,r){"use strict";var u=function(e,a,s,l){return new(s=s||Promise)(function(r,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,n)}i((l=l.apply(e,a||[])).next())})},c=function(r,o){var n,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(r,s)}catch(e){t=[6,e],i=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(r,"__esModule",{value:!0});var f=e("../../constants/variables"),g=e("../core/loggers/errorLoggerModule"),o=e("../../constants/constants"),r=e("../core/dispatcherModule");function n(d){return u(this,void 0,void 0,function(){var t,r,o,n,i,a,s,l;return c(this,function(e){switch(e.label){case 0:return(t=f.variables.romConfig.wrapperConfig.kvTransformer||{}).enabled?function(e){if(Object.keys(e).length)return!0;return g.errorLogger.warning("KV Transformer","No customKeyValues."),!1}(r=d.customKeyValues||{})&&function(e){if(e.length)return!0;return g.errorLogger.warning("KV Transformer","KV Transformer has no transformable keys in wrapper config.",{wrapperConfig:f.variables.romConfig.wrapperConfig}),!1}(n=t.transformableKeys||[])?(o=function(e,t){for(var r=[],o=0,n=e;o<n.length;o++){var i=n[o];t.hasOwnProperty(i)&&r.push(i)}return r}(n,r),n=t.mapping||{},[4,function(s,l){return u(this,void 0,void 0,function(){var t,r,o,n,i,a;return c(this,function(e){switch(e.label){case 0:return(t=function(e){var t,r="";for(t in e)e[t].roxotValue||(r+="&publisherValues[]="+t);return r}(s))?(t=l.replace("__PUBLISHER_VALUES__",t),[4,fetch(t)]):[2,s];case 1:return(r=e.sent()).ok?[4,r.json()]:[2,s];case 2:if(r=e.sent(),!(r=r.data||[]))return[2,s];for(o=0,n=r;o<n.length;o++)i=n[o],a=i.publisherValue,s[a].roxotValue=i.roxotValue;return[2,s]}})})}(i=function(e,t,r){for(var o={},n=0,i=e;n<i.length;n++){var a,s,l=i[n];t.hasOwnProperty(l)&&(a=t[l],s=r[a],o[a]={roxotValue:s,publisherKey:l})}return o}(o,r,n),t.getRoxotValueUrlTemplate)]):[2]:[2];case 1:for(a in i=e.sent())if(s=i[a].publisherKey,r.hasOwnProperty(s)){if(!(l=i[a].roxotValue))return[2];d.customKeyValues[s]=l}return[2]}})})}(e={})[o.MANAGER_EVENTS.BEFORE_LOAD_PLACEMENT_CONFIG]=function(t){return u(void 0,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,n(t)];case 1:return e.sent(),[2]}})})};r.dispatcherModule.onManagerEvent(o.MANAGER_EVENTS.BEFORE_LOAD_PLACEMENT_CONFIG,e[o.MANAGER_EVENTS.BEFORE_LOAD_PLACEMENT_CONFIG])},{"../../constants/constants":3,"../../constants/variables":4,"../core/dispatcherModule":19,"../core/loggers/errorLoggerModule":21}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../constants/variables"),d=e("../core/loggers/rowrLoggerModule"),o=e("../core/dispatcherModule"),u=e("../../constants/constants"),c=e("../core/loggers/errorLoggerModule"),s=e("../../utils/utils"),n=1,l="pa.rxthdr.com/v3",f={},g={};function i(){var e,t=a.variables.wrapperConfig.prebidAnalyticsIntegration;t.enabled&&(t.publisherId?((e=t).auctionSettings=e.auctionSettings||{},e.auctionSettings.isNeedToSend=p(e.auctionSettings),e.auctionSettings.sampleCoefficient=h(e,"auction"),e.impressionSettings=e.impressionSettings||{},e.impressionSettings.isNeedToSend=p(e.impressionSettings),e.impressionSettings.sampleCoefficient=h(e,"impression"),d.rowrLogger.log(u.LOGGER_COMPONENTS.PA_COMPONENT,"Prebid Analytics init",null,{prebidAnalyticsIntegration:t=e}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.CONFIG_LEVEL.AD_INIT,function(e){!function(e){for(var t=e.adUnitConfig||{},r=t.adServersConfig||[],o="",n="",i=0,a=r;i<a.length;i++){var s,l=a[i];l.name===o?n=(o=(l.alias?l.alias===n&&(s="Same SSP conflict. Same alias #"+l.alias+" for ssp #"+l.name+" in placement #"+t.details.placement,c.errorLogger.warning(u.LOGGER_COMPONENTS.PA_COMPONENT,s),d.rowrLogger.warning(u.LOGGER_COMPONENTS.PA_COMPONENT,s,null,{data:e})):(s="Same SSP conflict. No alias for ssp #"+l.name+" in placement #"+t.details.placement,c.errorLogger.warning(u.LOGGER_COMPONENTS.PA_COMPONENT,s),d.rowrLogger.warning(u.LOGGER_COMPONENTS.PA_COMPONENT,s,null,{data:e})),l.name),l.alias):(o=l.name,n=l.alias)}}(e)}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.AD_LEVEL.REQUEST,function(e){!function(e){e=e.adConfig.details.tagId;f[e]={},f[e].start=Date.now(),f[e].id=Math.floor(1e8*Math.random())}(e)}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.WATERFALL_LEVEL.REQUEST,function(e){var t;e=m((t=e).adConfig.adServer),t=t.adConfig.details.tagId,g[t]=g[t]||{},g[t][e]={bidder:e,isAfterTimeout:0,start:Date.now(),source:"client"}}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.WATERFALL_LEVEL.RENDER,function(e){var t,r;r=m((t=e).adConfig.adServer),e=t.adConfig.details.tagId,g[e][r].finish||(t=t.adConfig.size,g[e][r].finish=Date.now(),g[e][r].status="bid",g[e][r].cpm=1,g[e][r].mediaType="banner",g[e][r].size=t,f[e].winner=r,f[e].size=t)}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.WATERFALL_LEVEL.EMPTY_AD,function(e){var t,r;r=m((t=e).adConfig.adServer),e=t.adConfig.details.tagId,g[e][r].finish||(t=t.adConfig.size,g[e][r].finish=Date.now(),g[e][r].status="noBid",g[e][r].cpm=0,g[e][r].mediaType="-",g[e][r].size=t)}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.WATERFALL_LEVEL.TIMEOUT,function(e){var t,r;r=m((t=e).adConfig.adServer),e=t.adConfig.details.tagId,g[e][r].finish||(t=t.adConfig.size,g[e][r].finish=Date.now(),g[e][r].status="timeout",g[e][r].cpm=-1,g[e][r].mediaType="-",g[e][r].size=t)}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.AD_LEVEL.RENDER,function(e){v(e)}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.AD_LEVEL.NO_SERVER,function(e){v(e),S(e.adConfig.details.tagId)}),o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.AD_LEVEL.VISIBLE,function(e){var t,r,o,n;r=function(e){var t=a.variables.wrapperConfig.prebidAnalyticsIntegration,r=t.publisherId,o=e.adConfig,n=o.details.tagId,i=b(o.details),e=1e3*o.requestTimeout,o=f[n];return{event:"i",eventName:"Bid won",options:{options:{publisherIds:[r]},publisherId:r,adUnits:[],server:l,configServer:l,utmTagData:{utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:""},host:a.variables.wrapperConfig.host,device:a.variables.wrapperConfig.device,serverConfig:{a:1,i:1,bat:0,s:{a:t.auctionSettings.sampleCoefficient,i:t.impressionSettings.sampleCoefficient,bat:1}}},data:{isNew:0,auction:{adUnit:i,start:o.start,timeout:e,finish:o.finish,status:"finished",bidders:g[n]},adUnit:i,bidder:o.winner,cpm:1,size:{width:o.size.width,height:o.size.height},mediaType:"banner",source:"client"}}}(t=e),o=a.variables.wrapperConfig.prebidAnalyticsIntegration.impressionSettings,n=o.sampleCoefficient,t=s.utils.randomInteger(1,n),d.rowrLogger.debug(u.LOGGER_COMPONENTS.PA_COMPONENT,"pa__sendImpression - build data",null,{prebidAnalyticsData:r,sampleCoefficient:n,seed:t}),o.isNeedToSend?t===n&&E(w(r,"i"),r):d.rowrLogger.warning(u.LOGGER_COMPONENTS.PA_COMPONENT,"Impression requests is disabled.",null,{prebidAnalyticsIntegration:a.variables.wrapperConfig.prebidAnalyticsIntegration}),S(e.adConfig.details.tagId)})):d.rowrLogger.error(u.LOGGER_COMPONENTS.PA_COMPONENT,"No publisher Id in wrapper config.",null,{prebidAnalyticsIntegration:t}))}function p(e){return void 0===e.isNeedToSend||e.isNeedToSend}function h(e,t){var r=e[t+"Settings"]||{};return void 0===r.sampleCoefficient?n:0===r.sampleCoefficient?(d.rowrLogger.warning(u.LOGGER_COMPONENTS.PA_COMPONENT,t+" sample coefficient should not be 0. Default value "+n+" will use instead.",null,{prebidAnalyticsIntegration:e}),n):r.sampleCoefficient}function m(e){return e.alias||e.name}function E(e,t){var r=new XMLHttpRequest,o=JSON.stringify(t);r.open("POST",e),r.onload=function(){200<=r.status&&r.status<300||304===r.status?d.rowrLogger.debug(u.LOGGER_COMPONENTS.PA_COMPONENT,"Success Ajax request to "+e+". Status: "+r.status+": "+r.statusText,null,t):c.errorLogger.error(u.LOGGER_COMPONENTS.PA_COMPONENT,"Error Ajax request to "+e+". Status: "+r.status+": "+r.statusText)},r.onerror=function(){c.errorLogger.error(u.LOGGER_COMPONENTS.PA_COMPONENT,"Error Ajax request to "+e+". Status: "+r.status+": "+r.statusText)},r.send(o)}function v(e){var t,r,t=(t=e,n=a.variables.wrapperConfig.prebidAnalyticsIntegration,r=n.publisherId,i=t.adConfig,o=i.details.tagId,e=b(i.details),t=1e3*i.requestTimeout,(i=f[o]).finish=Date.now(),{event:"a",eventName:"Auction",options:{options:{publisherIds:[r]},publisherId:r,adUnits:[],server:l,configServer:l,utmTagData:{utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:""},host:a.variables.wrapperConfig.host,device:a.variables.wrapperConfig.device,serverConfig:{a:1,i:1,bat:0,s:{a:n.auctionSettings.sampleCoefficient,i:n.impressionSettings.sampleCoefficient,bat:1}}},data:{id:i.id,start:i.start,timeout:t,adUnits:((n={})[e]={adUnit:e,start:i.start,timeout:t,finish:i.finish,status:"finished",bidders:g[o]},n),finish:i.finish}}),o=a.variables.wrapperConfig.prebidAnalyticsIntegration.auctionSettings,n=o.sampleCoefficient,i=s.utils.randomInteger(1,n);d.rowrLogger.debug(u.LOGGER_COMPONENTS.PA_COMPONENT,"pa__sendAuction - build data",null,{prebidAnalyticsData:t,sampleCoefficient:n,seed:i}),o.isNeedToSend||!1?i===n&&E(w(t,"a"),t):d.rowrLogger.warning(u.LOGGER_COMPONENTS.PA_COMPONENT,"Auction requests is disabled.",null,{prebidAnalyticsIntegration:a.variables.wrapperConfig.prebidAnalyticsIntegration})}function b(e){return"plus__"+e.placement+"__"+e.tagId}function w(e,t){e="https://"+l+"/"+t+"?publisherId="+e.options.publisherId+"&host="+e.options.host;return d.rowrLogger.debug(u.LOGGER_COMPONENTS.PA_COMPONENT,"pa__buildUrl - build url",null,{url:e}),e}function S(e){f[e]={},g[e]={}}o.dispatcherModule.onWrapperEvent(u.WRAPPER_EVENTS.CONFIG_LEVEL.INIT,function(){i()})},{"../../constants/constants":3,"../../constants/variables":4,"../../utils/utils":46,"../core/dispatcherModule":19,"../core/loggers/errorLoggerModule":21,"../core/loggers/rowrLoggerModule":24}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.adConfigUtils=void 0;var o=e("../constants/variables"),n=e("../constants/constants"),i=e("./wrapperUtils");r.adConfigUtils={buildAdConfigForEvent:function(e){var t=(e.waterfallConfig||{}).currentSspConfig||{},r=t.options||{},r={adId:e.adId,placementStatus:e.placementStatus,details:e.details,adStatus:e.adStatus,adServer:{name:t.name||null,alias:t.alias||null,points:r.points||0,kvPoints:r.kvPoints||0}};return o.variables.wrapperConfig.prebidAnalyticsIntegration.enabled&&(r.requestTimeout=this.getLimitValue(e,"requestTimeout"),r.size=this.getFirstSizes(e)),r},generate:function(e,t,r,o){return{adId:e,adUnitId:e,adStatus:n.AD_STATUSES.READY,sspsConfigs:t,options:r,details:o,placementStatus:n.PLACEMENT_STATUSES.NOT_EXISTS,isAnonAd:0,isNeedRefresh:!1}},getLimitValue:function(e,t){if(e.currentSspConfig){var r=e.currentSspConfig.limits||{};if(r.hasOwnProperty(t))return r[t]}e=e.options.limits||{};return e.hasOwnProperty(t)?e[t]:i.wrapperUtils.getLimitValue(t)},getFirstSizes:function(e){var t={width:0,height:0};return e.waterfallConfig&&e.waterfallConfig.currentSspConfig&&e.waterfallConfig.currentSspConfig.sizes&&e.waterfallConfig.currentSspConfig.sizes[0]&&e.waterfallConfig.currentSspConfig.sizes[0][0]&&e.waterfallConfig.currentSspConfig.sizes[0][1]?{width:e.waterfallConfig.currentSspConfig.sizes[0][0],height:e.waterfallConfig.currentSspConfig.sizes[0][1]}:t}}},{"../constants/constants":3,"../constants/variables":4,"./wrapperUtils":48}],46:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.utils=void 0;var o=e("../constants/variables"),n=e("../modules/core/loggers/romLoggerModule"),a=e("../modules/core/loggers/errorLoggerModule");r.utils={isSupportEventType:function(e,t){return-1!==t.indexOf(e.event)},loadScript:function(e,t){void 0===t&&(t=null);var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=function(){t&&t.call()};e=document.getElementsByTagName("head")[0];e.insertBefore(r,e.firstChild)},generateId:function(e){return e+Math.floor(1e5*Math.random())},getRandomNumber:function(e){return 1+Math.floor(Math.random()*e)},getPlacementConfigUrl:function(e){e=o.variables.romConfig.placementConfigTemplate.replace("__PLACEMENT_ID__",e);return e=e,o.variables.romConfig.isLanguageSpecific&&(e+=-1===e.indexOf("?")?"?":"&",e+="lng="+decodeURIComponent(o.variables.romConfig.language)),o.variables.romConfig.isBrowserSpecific&&(e+=-1===e.indexOf("?")?"?":"&",e+="browser="+decodeURIComponent(o.variables.romConfig.browser)),o.variables.romConfig.isOsSpecific&&(e+=-1===e.indexOf("?")?"?":"&",e+="os="+decodeURIComponent(o.variables.romConfig.os)),o.variables.romConfig.isDeviceTypeSpecific&&(e+=-1===e.indexOf("?")?"?":"&",e+="device="+decodeURIComponent(o.variables.romConfig.device)),e},jsonAjax:function(t,r){var o=new XMLHttpRequest;o.open("GET",t),o.onload=function(){if(200!==o.status)n.romLogger.error("Error Ajax request to "+t+". Status: "+o.status+": "+o.statusText),a.errorLogger.error("Manager","Error Ajax request to "+t+". Status: "+o.status+": "+o.statusText),r();else try{r(JSON.parse(o.response))}catch(e){n.romLogger.error("Error Ajax request to "+t+". Status: "+o.status+": "+o.statusText+". Cannot parse response. "+e.message),a.errorLogger.error("Manager","Error Ajax request to "+t+". Status: "+o.status+": "+o.statusText),r()}},o.onerror=function(){n.romLogger.error("Error Ajax request to "+t+". Status: "+o.status+": "+o.statusText),a.errorLogger.error("Manager","Error Ajax request to "+t+". Status: "+o.status+": "+o.statusText),r()},o.send()},getOptionFromConfigs:function(e,t,r){for(var o=0,n=t;o<n.length;o++){var i=n[o];if(i.hasOwnProperty(e))return i[e]}return r},isCorrectScreenWidth:function(e){return e&&window.innerWidth<=e},isCorrectTimeout:function(e,t){return t+60*e*1e3<=Date.now()},isEventMatchesPlacement:function(e,t){return(((e.adConfig||{}).details||{}).placementId||"")===t},isIframeMode:function(){return window!==top},getOriginWindow:function(){return this.isIframeMode()?top:window},mergeConfigs:function(e,t){for(var r=0,o=Object.keys(t);r<o.length;r++){var n=o[r];!e.hasOwnProperty(n)||"object"!==i(t[n])?e[n]=t[n]:this.mergeConfigs(e[n],t[n])}},deepClone:function(e){var t,r={};for(t in e)"object"!==i(e[t])?r[t]=e[t]:r[t]=this.deepClone(e[t]);return r},randomInteger:function(e,t){e+=Math.random()*(t+1-e);return Math.floor(e)}}},{"../constants/variables":4,"../modules/core/loggers/errorLoggerModule":21,"../modules/core/loggers/romLoggerModule":23}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.waterfallUtils=void 0;var o=e("./adConfigUtils"),n=e("../modules/core/counterModule");r.waterfallUtils={setWaterfallConfig:function(e,t){e.waterfallConfig=t,e.currentSspConfig=null},buildWaterfallConfig:function(e){var t=e.sspsConfigs.slice(0);return{sspsStack:this.filterSspsStack(e,t),currentSspConfig:null,visibleSeconds:0,adType:null,limits:{requestTimeout:o.adConfigUtils.getLimitValue(e,"requestTimeout")}}},filterSspsStack:function(e,t){for(var r=[],o=0,n=t;o<n.length;o++){var i=n[o];this.filterSspsStack__hasGroupOption(i)?this.filterSspsStack__hasConfigWithSameGroup(r,i)||this.filterSspsStack__isOverRequestTimeLimit(e,i)||r.push(i):r.push(i)}return r},filterSspsStack__hasGroupOption:function(e){return!!(e.options||{}).group},filterSspsStack__hasConfigWithSameGroup:function(e,t){for(var r=t.options||{},o=0,n=e;o<n.length;o++)if((n[o].options||{}).group===r.group)return!0;return!1},filterSspsStack__isOverRequestTimeLimit:function(e,t){var r=t.options||{};return!!r.requestLimit&&r.requestLimit<=n.counterModule.getTagRequestCounterValue(e,t.name,t.tagId)}}},{"../modules/core/counterModule":18,"./adConfigUtils":45}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wrapperUtils=void 0;var g=e("../constants/variables"),o=e("./adConfigUtils"),p=e("./utils"),n=e("../constants/constants"),i=e("../modules/core/dispatcherModule"),a=e("../modules/core/markers/wrapperMarkers"),s=e("../modules/core/repositories/adConfigRepository"),h=g.variables.rowrJq;r.wrapperUtils={getLimitValue:function(e){var t=g.variables.wrapperConfig.limits||{};return(t.hasOwnProperty(e)?t:g.variables.wrapperConfig.defaultLimits)[e]},getAdContainer:function(e){return h('.ad-container[data-ad-id="'+e+'"]')},getAdBlock:function(e){e=h("#"+e);return e.length?e:null},isVisibleAd:function(e){return this.calculateVisibleInfo(e).visiblePercentage>=o.adConfigUtils.getLimitValue(e,"visiblePercentage")},calculateVisibleInfo:function(e){var t=p.utils.getOriginWindow(),r=h(t),o=r.scrollTop(),n=o+t.innerHeight,i=r.scrollLeft(),a=i+t.innerWidth,s=p.utils.isIframeMode()?h("#"+g.variables.rowr.iframeId,parent.document):this.getAdContainer(e.adId);if(!s.length)return{screenTop:o,screenBottom:n,screenLeft:i,screenRight:a,adTop:0,adBottom:0,adLeft:0,adRight:0,visibleHeight:0,visibleWidth:0,visibleSqr:0,adSqr:0,visiblePercentage:0};var l=s.offset(),d=l.top,u=d+s.height(),c=l.left,f=c+s.width(),r=Math.min(u,n)-Math.max(d,o),t=Math.min(f,a)-Math.max(c,i),e=r*t,l=s.height()*s.width(),s=Math.abs(l?e/l:0);return{screenTop:o,screenBottom:n,screenLeft:i,screenRight:a,adTop:d,adBottom:u,adLeft:c,adRight:f,visibleHeight:r,visibleWidth:t,visibleSqr:e,adSqr:l,visiblePercentage:s=r<0||t<0?-s:s}},refreshAllActiveAdBlocks:function(){for(var e=0,t=s.adConfigRepository.getAll();e<t.length;e++){var r=t[e];this.refreshAdBlockIfActive(r)}},refreshAdBlockIfActive:function(e){this.updateAdBlockStatus(e)},updateAdBlockStatus:function(e){var t=this.getAdBlock(e.adId);return t?t.is(":hidden")?e.placementStatus===n.PLACEMENT_STATUSES.HIDDEN?void 0:(e.placementStatus=n.PLACEMENT_STATUSES.HIDDEN,void i.dispatcherModule.dispatch(n.WRAPPER_EVENTS.PLACEMENT_LEVEL.HIDDEN,{adConfig:o.adConfigUtils.buildAdConfigForEvent(e)})):void(e.placementStatus!==n.PLACEMENT_STATUSES.ACTIVE&&(e.placementStatus=n.PLACEMENT_STATUSES.ACTIVE,i.dispatcherModule.dispatch(n.WRAPPER_EVENTS.PLACEMENT_LEVEL.ACTIVE,{adConfig:o.adConfigUtils.buildAdConfigForEvent(e)}),a.wrapperMarkers.markAsNeedRefresh(e))):e.placementStatus===n.PLACEMENT_STATUSES.NOT_EXISTS?void 0:(e.placementStatus=n.PLACEMENT_STATUSES.NOT_EXISTS,void i.dispatcherModule.dispatch(n.WRAPPER_EVENTS.PLACEMENT_LEVEL.NOT_EXISTS,{adConfig:o.adConfigUtils.buildAdConfigForEvent(e)}))}}},{"../constants/constants":3,"../constants/variables":4,"../modules/core/dispatcherModule":19,"../modules/core/markers/wrapperMarkers":28,"../modules/core/repositories/adConfigRepository":31,"./adConfigUtils":45,"./utils":46}]},{},[19,42,39,38,41,40,44,43,34]);